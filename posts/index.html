<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Ramblings of a cloud engineer</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Ramblings of a cloud engineer">
<meta name="author" content="Gergely Brautigam">
<link rel="canonical" href="https://skarlso.github.io/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://skarlso.github.io/posts/index.xml">
<link rel="alternate" hreflang="en" href="https://skarlso.github.io/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Posts">
<meta property="og:description" content="Welcome to my little corner of the internet">
<meta property="og:type" content="website">
<meta property="og:url" content="https://skarlso.github.io/posts/">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="Welcome to my little corner of the internet">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://skarlso.github.io/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io/" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://skarlso.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/search/" title="Search">
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://skarlso.github.io/">Home</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How I track tasks with Obsidian
    </h2>
  </header>
  <div class="entry-content">
    <p>How I track tasks with Obsidian Hello. This will be a run-down on how I track tasks and projects and long-term things, like reading a book, tracking a project or traveling using the PARA method.
Let’s get to it!
Task tracking queue The way I track tasks is through a queuing system. To not get overloaded by tasks, I just simply put the next task into the queue and take out the top recent if I’m done. Unless something really urgent comes along I don’t disrupt this flow. Meaning, once I have a task out and #active that’s the task I’m going to be working on!
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-09-17 01:01:00 +0100 +0100'>September 17, 2024</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to How I track tasks with Obsidian" href="https://skarlso.github.io/2024/09/17/how-i-track-tasks-with-obsidian/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Update your CRDs with confidence
    </h2>
  </header>
  <div class="entry-content">
    <p>Update your CRDs with confidence Hello.
I would like to write about a release for crd-to-sample-yaml1. It’s the release version v0.8.02.
This version brings with it a feature to test the validity of your CRD changes.
It means that if you change your CRD it will test if the changes do not break working samples of that version.
This is achieved by a helm unittest type of YAML based test scenarios and snapshot generation.
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-08-21 01:01:00 +0100 +0100'>August 21, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Update your CRDs with confidence" href="https://skarlso.github.io/2024/08/21/update-your-crds-with-confidence/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Using cert-manager as a subchart for your own Helm Chart
    </h2>
  </header>
  <div class="entry-content">
    <p>Using cert-manager as a subchart Hello.
In today’s post, I would like to show how to set up cert-manager as a subchart. Not only that, but also, how to add a Job to make sure that cert-manager is installed and its webhook is up and running so it can process any Issuers that are going to be applied with your own chart.
Let’s get to it.
Defining a subchart To define a subchart, simply add it as a dependency in your Charts.yaml like this:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-02 01:01:00 +0100 +0100'>July 2, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Using cert-manager as a subchart for your own Helm Chart" href="https://skarlso.github.io/2024/07/02/using-cert-manager-as-a-subchart-with-helm/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Discoverable functional options pattern
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello.
Today’s will be a quick post. Everyone knows and loves/hates functional options1 in Go.
The biggest gripe people get with it is, that the options aren’t discoverable and that there is no IDE support for nicely auto-completing options.
My thought about this was that, what if we would just hang it on a struct? Let’s see how that looks.
Consider this normal server builder with options:
type Server struct { Name string Address string Port int } func WithName(name string) ServerOptFn { return func(s *Server) { s.Name = name } } func WithAddress(address string) ServerOptFn { return func(s *Server) { s.Address = address } } func WithPort(port int) ServerOptFn { return func(s *Server) { s.Port = port } } type ServerOptFn func(*Server) func NewServer(opts ...ServerOptFn) *Server { s := &amp;Server{} for _, o := range opts { o(s) } return s } Now, what if you would like to retain the niceness of the clean options pattern where you don’t have to specify and empty struct but still could use a struct to gather the options together?
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-07-01 01:01:00 +0100 +0100'>July 1, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Discoverable functional options pattern" href="https://skarlso.github.io/2024/07/01/discoverable-functional-options/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Journey from Testing into Software Development
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello, Dear Reader!
Settle in for a long one this time. I would like to write about my journey from being a Tester back in 2004 to being a software engineer today ( 2024 ). A mere 20 year long journey. I’m going to write down how I got this far, what it took, the sacrifices, fears, doubts and all the things in between. Let’s get started.
The early days Around 2002, I became a student for a two year long certificate study for a position called Software Programmer. It was a paid course. My mother paid for the two years, it was the cheapest options at that time in Hungary. The school, SZAMALK, was 80km from where I lived, so I had to travel everyday. The bus ride took about 1.5 hours that I mostly managed to sleep through. Then school until 2pm-ish and then travel back home. Another 1.5 hours. I woke up at 5AM to get to school on time. It was quite rough. I mostly slept through my classes.
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-23 01:01:00 +0100 +0100'>May 23, 2024</span>&nbsp;·&nbsp;17 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Journey from Testing into Software Development" href="https://skarlso.github.io/2024/05/23/journey-from-tester-to-software-developer/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">crd-to-yaml now supports HTML as an output format
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello!
Just wanted to give an update to my crd-to-sample-yaml tool. It, now, supports creating a standalone HTML output.
Why, you may ask? Well, now you can host the generated content as a static page on your website. That’s pretty handy.
Here is a sample output:
Go and get it while it’s hot in version v0.4.0.
That’s all. Thanks for reading!
</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-09 01:01:00 +0100 +0100'>May 9, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to crd-to-yaml now supports HTML as an output format" href="https://skarlso.github.io/2024/05/09/crd-to-yaml-html-output/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Generic dig for map key using typed parameters
    </h2>
  </header>
  <div class="entry-content">
    <p>Generic dig for map key using typed parameters Hello!
I was fiddling with a way of getting out values from a map that is of format map[string]any. But I wanted my type safety as well. This was coming from digging out keys from a Metadata field.
The metadata was in a JSON format.
This is what I came up with:
/ FetchValueFromMetadata fetches a key from a metadata if it exists. It will recursively look in // embedded values as well. Must be a unique key, otherwise it will just return the first // occurrence. func FetchValueFromMetadata[T any](key string, data *apiextensionsv1.JSON, def T) (t T, _ error) { if data == nil { return def, nil } m := map[string]any{} if err := json.Unmarshal(data.Raw, &amp;m); err != nil { return t, fmt.Errorf(&#34;failed to parse JSON raw data: %w&#34;, err) } v, err := dig[T](key, m) if err != nil { if errors.Is(err, errKeyNotFound) { return def, nil } } return v, nil } func dig[T any](key string, data map[string]any) (t T, _ error) { if v, ok := data[key]; ok { c, k := v.(T) if !k { return t, fmt.Errorf(&#34;failed to convert value to the desired type; was: %T&#34;, v) } return c, nil } for _, v := range data { if ty, ok := v.(map[string]any); ok { return dig[T](key, ty) } } return t, errKeyNotFound } The interesting part is the dig method and the type assert to the desired part. Calling this with something like:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-02-27 01:01:00 +0100 +0100'>February 27, 2024</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Generic dig for map key using typed parameters" href="https://skarlso.github.io/2024/02/27/generic-map-dig/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CRD to YAML as WASM website
    </h2>
  </header>
  <div class="entry-content">
    <p>CRD to YAML as WASM website A while ago, I wrote about Generating Sample YAML files from CRDs.
It’s a tool I created that lives here. It has a front-end service as well for convenience.
I wrote it in a traditional client-server manner. It’s running from a Docker Swarm container.
But, as I was thinking about it, nothing in this service requires interaction with a server. It gets some user input, processes it, and has some output. I could have written it in plain Javascript. But, since I don’t know JavaScript, or don’t know it well enough, and I do know GO, and I wanted to become more familiar with WASM, this was the perfect learning opportunity.
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-01 01:01:00 +0100 +0100'>December 1, 2023</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to CRD to YAML as WASM website" href="https://skarlso.github.io/2023/12/01/crd-to-yaml-as-wasm-website/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Self-Signed locally trusted certificates with cert-manager
    </h2>
  </header>
  <div class="entry-content">
    <p>Self-Signed locally trusted certificates with cert-manager We are going to discuss how to set up a Kubernetes environment where components can run using HTTPS without pain.
Premise Usually, people either generate certificates outside the cluster using either openssl, or mkcert, then mount them in or use those as seeds for further generation. This poses a number of problems during testing and distribution of these certificates. And then, switching to production, it proves that local certs will either no longer work or pose even more problems in getting them properly distributed again.
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-10-25 01:01:00 +0100 +0100'>October 25, 2023</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Self-Signed locally trusted certificates with cert-manager" href="https://skarlso.github.io/2023/10/25/self-signed-locally-trusted-certificates-with-cert-manager/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Diff check and Manifest generation in GitHub Actions
    </h2>
  </header>
  <div class="entry-content">
    <p>Diff check and manifest generation GitHub Actions For Go projects it’s crucial that you don’t forget to run go mod tidy from time to time. Combine that with a project that includes Kubernetes controllers and the other thing people tend to forget is running make manifest &amp;&amp; make generate.
To check for these I added a small GitHub action that looks like this:
name: Check for diff after manifest and generated targets on: pull_request: {} jobs: diff-check-manifests: name: Check for diff runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v3 with: fetch-depth: 0 - name: Make manifests &amp;&amp; generate run: | make manifests &amp;&amp; make generate - name: Setup Go uses: actions/setup-go@v3 with: go-version-file: &#39;${{ github.workspace }}/go.mod&#39; - name: Restore Go cache uses: actions/cache@v3 with: path: /home/runner/work/_temp/_github_home/go/pkg/mod key: ${{ runner.os }}-go-${{ hashFiles(&#39;**/go.sum&#39;) }} restore-keys: | ${{ runner.os }}-go- - name: go mod tidy run: | go mod tidy - name: Check for diff run: | git diff --exit-code --shortstat Small but effective and saved my behind a couple times now.
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-08-11 01:01:00 +0100 +0100'>August 11, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Diff check and Manifest generation in GitHub Actions" href="https://skarlso.github.io/2023/08/11/diff-check/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://skarlso.github.io/posts/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://skarlso.github.io/">Ramblings of a cloud engineer</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
