


    




<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://skarlso.github.io/"
        },
        "articleSection" : "posts",
        "name" : "Django – RPG – Part 3",
        "headline" : "Django – RPG – Part 3",
        "description" : "Hello folks.
A small update to this. I created the model now, which is the database design for this app. It&#8217;s very simple, nothing fancy. Also, I&#8217;m writing the app with Python 3 from now on.
Here is the model now:
  from django.db import models from django.contrib.auth.models import User &nbsp; # Create your models here. &nbsp; &nbsp; class Item&#40;models.Model&#41;: name = models.CharField&#40;max_length=100, default="Item"&#41; damage = models.IntegerField&#40;default=&#41; defense = models.",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2015",
        "datePublished": "2015-04-21 00:00:00 &#43;0000 UTC",
        "dateModified" : "2015-04-21 00:00:00 &#43;0000 UTC",
        "url" : "https://skarlso.github.io/2015/04/21/django-rpg-part-3/",
        "wordCount" : "263",
        "keywords" : [ "rpg","Blog" ]
    }
    </script>
        
            <title>Django – RPG – Part 3 - Ramblings of a cloud engineer</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.41" />
        


        
            <meta name="author" content="hannibal">
        
        
            
                <meta name="description" content="Ramblings of a Cloud Engineer">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Django – RPG – Part 3"/>
<meta name="twitter:description" content="Hello folks.
A small update to this. I created the model now, which is the database design for this app. It&#8217;s very simple, nothing fancy. Also, I&#8217;m writing the app with Python 3 from now on.
Here is the model now:
  from django.db import models from django.contrib.auth.models import User &nbsp; # Create your models here. &nbsp; &nbsp; class Item&#40;models.Model&#41;: name = models.CharField&#40;max_length=100, default=&#34;Item&#34;&#41; damage = models.IntegerField&#40;default=&#41; defense = models."/>
<meta name="twitter:site" content="@Skarlso"/>

        <meta property="og:title" content="Django – RPG – Part 3" />
<meta property="og:description" content="Hello folks.
A small update to this. I created the model now, which is the database design for this app. It&#8217;s very simple, nothing fancy. Also, I&#8217;m writing the app with Python 3 from now on.
Here is the model now:
  from django.db import models from django.contrib.auth.models import User &nbsp; # Create your models here. &nbsp; &nbsp; class Item&#40;models.Model&#41;: name = models.CharField&#40;max_length=100, default=&#34;Item&#34;&#41; damage = models.IntegerField&#40;default=&#41; defense = models." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2015/04/21/django-rpg-part-3/" />



<meta property="article:published_time" content="2015-04-21T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2015-04-21T00:00:00&#43;00:00"/>











        <meta property="og:image" content="https://skarlso.github.io//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        
<meta itemprop="name" content="Django – RPG – Part 3">
<meta itemprop="description" content="Hello folks.
A small update to this. I created the model now, which is the database design for this app. It&#8217;s very simple, nothing fancy. Also, I&#8217;m writing the app with Python 3 from now on.
Here is the model now:
  from django.db import models from django.contrib.auth.models import User &nbsp; # Create your models here. &nbsp; &nbsp; class Item&#40;models.Model&#41;: name = models.CharField&#40;max_length=100, default=&#34;Item&#34;&#41; damage = models.IntegerField&#40;default=&#41; defense = models.">


<meta itemprop="datePublished" content="2015-04-21T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2015-04-21T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="263">



<meta itemprop="keywords" content="rpg," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/main.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/add-on.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/academicons.min.css">
        

        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
<script>
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-69463020-2', 'auto');
	
	ga('send', 'pageview');
}
</script>

    </head>
    <body>

      
      <div id="wrapper">

    
<header id="header">
    
      <h1><a href="https://skarlso.github.io/">posts</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://skarlso.github.io/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="https://skarlso.github.io/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="https://skarlso.github.io/categories/">
                            <i class="fa fa-sitemap">&nbsp;</i>Categories
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://skarlso.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://skarlso.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://skarlso.github.io/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://skarlso.github.io/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://skarlso.github.io/categories/">
                            <h3>
                                <i class="fa fa-sitemap">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://skarlso.github.io/2018/06/08/fork-updater/">Keep your git forks updated all the time</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-06-08'>
                                    June 8, 2018</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://skarlso.github.io/2018/06/08/fork-updater/" class="image featured">
            <img src="https://skarlso.github.io/img/2018/06/git_updater.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://skarlso.github.io/2018/03/15/kubernetes-distributed-application/">Kubernetes distributed application deployment with sample Face Recognition App</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-03-15'>
                                    March 15, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://skarlso.github.io/2018/02/06/go-budapest-meetup/">Go Budapest Meetup</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-02-06'>
                                    February 6, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://skarlso.github.io/2018/01/23/nginx-certbot-ansible/">Ansible &#43; Nginx &#43; LetsEncrypt &#43; Wiki &#43; Nagios</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-01-23'>
                                    January 23, 2018</time>
                            </header>
                            

                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="https://skarlso.github.io/2018/01/13/furnace-massive-update/">Huge Furnace Update</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-01-13'>
                                    January 13, 2018</time>
                            </header>
                            

                        </article>
                

                
                    <a href=
                        
                            /blog/
                        
                        class="button">View more posts</a>
                
            </div>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="https://skarlso.github.io/2015/04/21/django-rpg-part-3/">Django – RPG – Part 3</a></h1>
            
        
        
    </div>
</header>

            <div id="content">
                <p>Hello folks.</p>

<p>A small update to this. I created the model now, which is the database design for this app. It&#8217;s very simple, nothing fancy. Also, I&#8217;m writing the app with Python 3 from now on.</p>

<p>Here is the model now:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">db</span> <span style="color: #ff7700;font-weight:bold;">import</span> models
<span style="color: #ff7700;font-weight:bold;">from</span> django.<span style="color: black;">contrib</span>.<span style="color: black;">auth</span>.<span style="color: black;">models</span> <span style="color: #ff7700;font-weight:bold;">import</span> User
&nbsp;
<span style="color: #808080; font-style: italic;"># Create your models here.</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Item<span style="color: black;">&#40;</span>models.<span style="color: black;">Model</span><span style="color: black;">&#41;</span>:
    name <span style="color: #66cc66;">=</span> models.<span style="color: black;">CharField</span><span style="color: black;">&#40;</span>max_length<span style="color: #66cc66;">=</span><span style="color: #ff4500;">100</span><span style="color: #66cc66;">,</span> default<span style="color: #66cc66;">=</span><span style="color: #483d8b;">"Item"</span><span style="color: black;">&#41;</span>
    damage <span style="color: #66cc66;">=</span> models.<span style="color: black;">IntegerField</span><span style="color: black;">&#40;</span>default<span style="color: #66cc66;">=</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    defense <span style="color: #66cc66;">=</span> models.<span style="color: black;">IntegerField</span><span style="color: black;">&#40;</span>default<span style="color: #66cc66;">=</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    consumable <span style="color: #66cc66;">=</span> models.<span style="color: black;">BooleanField</span><span style="color: black;">&#40;</span>default<span style="color: #66cc66;">=</span><span style="color: #008000;">False</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">name</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Inventory<span style="color: black;">&#40;</span>models.<span style="color: black;">Model</span><span style="color: black;">&#41;</span>:
    items <span style="color: #66cc66;">=</span> models.<span style="color: black;">ManyToManyField</span><span style="color: black;">&#40;</span>Item<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">items</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Character<span style="color: black;">&#40;</span>models.<span style="color: black;">Model</span><span style="color: black;">&#41;</span>:
    <span style="color: #808080; font-style: italic;"># By default Django uses the primery key of the related object.</span>
    <span style="color: #808080; font-style: italic;"># Hence, no need to specify User.id.</span>
    <span style="color: #dc143c;">user</span> <span style="color: #66cc66;">=</span> models.<span style="color: black;">OneToOneField</span><span style="color: black;">&#40;</span>User<span style="color: #66cc66;">,</span> null<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: black;">&#41;</span>
    name <span style="color: #66cc66;">=</span> models.<span style="color: black;">CharField</span><span style="color: black;">&#40;</span>max_length<span style="color: #66cc66;">=</span><span style="color: #ff4500;">100</span><span style="color: black;">&#41;</span>
    inventory <span style="color: #66cc66;">=</span> models.<span style="color: black;">ForeignKey</span><span style="color: black;">&#40;</span>Inventory<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">name</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Worth noting a few things here. The __str__ is only with Python 3. In Python 2 it would be unicode. And the OneToOne and the foreign key are automatically using Primary keys defined in the references model. The __str__ is there to return some view when you are debugging in the console instead of [<Item: Item object>].</p>

<p>In order to apply this change you just have to run this commend (given you set up your app in the settings.py as an INSTALLED_APP):</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">python manage.py makemigrations polls</pre>
      </td>
    </tr>
  </table>
</div>

<p>This creates the migration script. And this applies it:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">python manage.py migrate</pre>
      </td>
    </tr>
  </table>
</div>

<p>I love the fact that django creates incremental migration scripts out of the box. So if there was any problem at all, you can always roll back. Which comes very handy in certain situations.</p>

<p>That&#8217;s it.</p>

<p>Thanks for reading!</p>

<p>Gergely.</p>

            </div>
        </article>
    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
    
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://skarlso.github.io/2018/06/08/fork-updater/">Keep your git forks updated all the time</a>
              </h3>
              
              <time class="published" datetime='2018-06-08'>
                June 8, 2018
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="https://skarlso.github.io/2018/06/08/fork-updater/" class="image featured">
            <img src="https://skarlso.github.io/img/2018/06/git_updater.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://skarlso.github.io/2018/03/15/kubernetes-distributed-application/">Kubernetes distributed application deployment with sample Face Recognition App</a>
              </h3>
              
              <time class="published" datetime='2018-03-15'>
                March 15, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://skarlso.github.io/2018/02/06/go-budapest-meetup/">Go Budapest Meetup</a>
              </h3>
              
              <time class="published" datetime='2018-02-06'>
                February 6, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://skarlso.github.io/2018/01/23/nginx-certbot-ansible/">Ansible &#43; Nginx &#43; LetsEncrypt &#43; Wiki &#43; Nagios</a>
              </h3>
              
              <time class="published" datetime='2018-01-23'>
                January 23, 2018
              </time>
            </header>
            

          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="https://skarlso.github.io/2018/01/13/furnace-massive-update/">Huge Furnace Update</a>
              </h3>
              
              <time class="published" datetime='2018-01-13'>
                January 13, 2018
              </time>
            </header>
            

          </article>
        
      </div>

      
        <a href=
          
            /blog/
          
        class="button">View more posts</a>
      
    </div>
  </section>

  
  
  

  
  

  
  <section id="footer">
    
      <ul class="icons">
        
        
  <li><a href="//github.com/Skarlso" target="_blank" title="GitHub" class="fa fa-github"></a></li>

























  <li><a href="//linkedin.com/in/brautigamgergely" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



































  <li><a href="//twitter.com/Skarlso" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




















      </ul>
    
    <p class="copyright">
      
        &copy; 2018
        
          Ramblings of a cloud engineer
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/json.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/go.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/bash.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://skarlso.github.io/js/util.js"></script>
      <script src="https://skarlso.github.io/js/main.js"></script>
      <script src="https://skarlso.github.io/js/backToTop.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

