<!DOCTYPE html>
<html lang="en-GB">
    <head>
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.83.1" /><meta name="theme-color" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>How to eliminate a parameter boom | Ramblings of a cloud engineer</title>

    <link rel="stylesheet" href="/css/meme.min.css" />

    
    
        <script src="/js/meme.min.js"></script>

    

    

    <meta name="author" content="hannibal" /><meta name="description" content="Hello folks.
Today I want to write about a little trick I learned.
If you are working with legacy code and you don’t have the chance to eliminate core design problems, you can use this little pattern to help you out.
Problem
Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor." />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Ramblings of a cloud engineer" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Ramblings of a cloud engineer" />
    <meta name="msapplication-starturl" content="../../../../" />
    <meta name="msapplication-TileColor" content="" />
    <meta name="msapplication-TileImage" content="../../../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://skarlso.github.io/2012/10/09/how-to-eliminate-a-parameter-boom/" />
    

    
    

    
    

    
</head>

    <body>
        <div class="container">
            



            
                
                
                
            
            
    <main class="main single" id="main">
    <div class="main-inner">

        

        <article class="content post h-entry" data-align="default" data-type="post">

            <h1 class="post-title p-name">How to eliminate a parameter boom</h1>

            

            

            

            <div class="post-body e-content">
                <p>Hello folks.</p>
<p>Today I want to write about a little trick I learned.</p>
<p>If you are working with legacy code and you don’t have the chance to eliminate core design problems, you can use this little pattern to help you out.</p>
<p><strong>Problem</strong></p>
<p>Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor. We all know that doing this makes the class immutable which is very good for a number of reasons. However it doesn’t provide a flexible solution if you want to leave out one or two collabs. For that your would have to create Adapter constructors and chain them upwards which would get very ugly very fast. While using JavaBeans getters and setters can leave your class in a harmful state like not at all or partially initialised.</p>
<p>So what’s a good solution then?</p>
<p><strong>Solution</strong></p>
<p>One possible solution would be to use some kind of initialisation framework like Springs @Autowired. But cluttering your classes with that isn’t really pretty either. But it’s A solution.</p>
<p>Another solution is the usage of a builder pattern.</p>
<p>Consider this class:</p>
<!-- raw HTML omitted -->
<pre><code>  &lt;td class=&quot;code&quot;&gt;
    &lt;pre class=&quot;java&quot; style=&quot;font-family:monospace;&quot;&gt;    &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;class&lt;/span&gt; VeryImportantService &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
</code></pre>
<p> 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> VeryImportantService<!-- raw HTML omitted -->(<!-- raw HTML omitted -->CollabOne collabOne, CollabTwo collabTwo, CollabThree collabThree, CollabFour collabFour,
CollabFive collabFive, CollabSix collabSix<!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
.
.
.
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>Don’t forget that we want these to be optional. I would like to leave out two or three here and there.</p>
<p>The builder let’s you do that. It looks something like this:</p>
<!-- raw HTML omitted -->
<pre><code>  &lt;td class=&quot;code&quot;&gt;
    &lt;pre class=&quot;java&quot; style=&quot;font-family:monospace;&quot;&gt;    &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;color: #000000; font-weight: bold;&quot;&gt;class&lt;/span&gt; VeryImportantService &lt;span style=&quot;color: #009900;&quot;&gt;&amp;#123;&lt;/span&gt;
</code></pre>
<p> 
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabOne collabOne<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabTwo collabTwo<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabThree collabThree<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabFour collabFour<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabFive collabFive<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabSix collabSix<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
 
 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> <!-- raw HTML omitted -->static<!-- raw HTML omitted --> <!-- raw HTML omitted -->class<!-- raw HTML omitted --> Builder<!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabOne collabOne<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabTwo collabTwo<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabThree collabThree<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabFour collabFour<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabFive collabFive<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> CollabSix collabSix<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> Builder<!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted --><!-- raw HTML omitted -->}<!-- raw HTML omitted -->
 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> Builder collabOne<!-- raw HTML omitted -->(<!-- raw HTML omitted -->CollabOne value<!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->this<!-- raw HTML omitted -->.<!-- raw HTML omitted -->collabOne<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> value<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->return<!-- raw HTML omitted --> <!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> Builder collabTwo<!-- raw HTML omitted -->(<!-- raw HTML omitted -->CollabTwo value<!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->this<!-- raw HTML omitted -->.<!-- raw HTML omitted -->collabTwo<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> value<!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->return<!-- raw HTML omitted --> <!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
 
.
.
.
 
<!-- raw HTML omitted -->public<!-- raw HTML omitted --> VeryImportantService build<!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->return<!-- raw HTML omitted --> <!-- raw HTML omitted -->new<!-- raw HTML omitted --> VeryImportantService<!-- raw HTML omitted -->(<!-- raw HTML omitted --><!-- raw HTML omitted -->this<!-- raw HTML omitted --><!-- raw HTML omitted -->)<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
 
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
 
<!-- raw HTML omitted -->//private constructor<!-- raw HTML omitted -->
<!-- raw HTML omitted -->private<!-- raw HTML omitted --> VeryImportantService<!-- raw HTML omitted -->(<!-- raw HTML omitted -->Builder builder<!-- raw HTML omitted -->)<!-- raw HTML omitted --> <!-- raw HTML omitted -->{<!-- raw HTML omitted -->
<!-- raw HTML omitted -->this<!-- raw HTML omitted -->.<!-- raw HTML omitted -->collabOne<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> builder.<!-- raw HTML omitted -->collabOne<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted -->
<!-- raw HTML omitted -->this<!-- raw HTML omitted -->.<!-- raw HTML omitted -->collabTwo<!-- raw HTML omitted --> <!-- raw HTML omitted -->=<!-- raw HTML omitted --> builder.<!-- raw HTML omitted -->collabTwo<!-- raw HTML omitted --><!-- raw HTML omitted -->;<!-- raw HTML omitted -->
.
.
.
<!-- raw HTML omitted -->}<!-- raw HTML omitted -->
<!-- raw HTML omitted -->}<!-- raw HTML omitted --><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>Now… calling this would look something like this:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>This enables you to be flexible HOWEVER!! I HATE train wrecks. So I would probably tweak it not to return things, but set them. Then you would end up calling then line by line. Which is still not the best but better then the alternative.</p>
<p><strong>End words</strong></p>
<p>So there you go. This is A solution not THE solution obviously. The best would be to NOT design such a monster at all. If you have any better ideas please feel free to share. I would gladly put them on my blog.</p>
<p>As always,</p>
<p>Thanks for reading,</p>
<p>Gergely.</p>

            </div>

            


        </article>

        

        


        


        


        


        


        


        


        


        


    </div>
</main>


            

            

        </div>
        

        















    </body>
</html>
