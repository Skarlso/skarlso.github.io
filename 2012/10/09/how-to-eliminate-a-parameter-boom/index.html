


    




<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "https://skarlso.github.io/"
        },
        "articleSection" : "posts",
        "name" : "How to eliminate a parameter boom",
        "headline" : "How to eliminate a parameter boom",
        "description" : "Hello folks.
Today I want to write about a little trick I learned.
If you are working with legacy code and you don&#8217;t have the chance to eliminate core design problems, you can use this little pattern to help you out.
Problem
Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor.",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2012",
        "datePublished": "2012-10-09 00:00:00 &#43;0000 UTC",
        "dateModified" : "2012-10-09 00:00:00 &#43;0000 UTC",
        "url" : "https://skarlso.github.io/2012/10/09/how-to-eliminate-a-parameter-boom/",
        "wordCount" : "536",
        "keywords" : [ "pattern","Blog" ]
    }
    </script>
        
            <title>How to eliminate a parameter boom - Ramblings of a build engineer</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.40.3" />
        


        
            <meta name="author" content="hannibal">
        
        
            
                <meta name="description" content="Rambling sof a cloud engineer.">
            
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to eliminate a parameter boom"/>
<meta name="twitter:description" content="Hello folks.
Today I want to write about a little trick I learned.
If you are working with legacy code and you don&#8217;t have the chance to eliminate core design problems, you can use this little pattern to help you out.
Problem
Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor."/>
<meta name="twitter:site" content="@Skarlso"/>

        <meta property="og:title" content="How to eliminate a parameter boom" />
<meta property="og:description" content="Hello folks.
Today I want to write about a little trick I learned.
If you are working with legacy code and you don&#8217;t have the chance to eliminate core design problems, you can use this little pattern to help you out.
Problem
Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2012/10/09/how-to-eliminate-a-parameter-boom/" />



<meta property="article:published_time" content="2012-10-09T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2012-10-09T00:00:00&#43;00:00"/>











        <meta property="og:image" content="https://skarlso.github.io//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        
<meta itemprop="name" content="How to eliminate a parameter boom">
<meta itemprop="description" content="Hello folks.
Today I want to write about a little trick I learned.
If you are working with legacy code and you don&#8217;t have the chance to eliminate core design problems, you can use this little pattern to help you out.
Problem
Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor.">


<meta itemprop="datePublished" content="2012-10-09T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2012-10-09T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="536">



<meta itemprop="keywords" content="pattern," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/main.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/add-on.css">
            <link rel="stylesheet" href="https://skarlso.github.io/css/academicons.min.css">
        

        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-69463020-2', 'auto');
ga('send', 'pageview');
</script>

    </head>
    <body>

      
      <div id="wrapper">

    
<header id="header">
    
      <h1><a href="https://skarlso.github.io/">Welcome Home</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="https://skarlso.github.io/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="https://skarlso.github.io/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="https://skarlso.github.io/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="https://skarlso.github.io/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="https://skarlso.github.io/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="https://skarlso.github.io/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                

                
            </div>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="https://skarlso.github.io/2012/10/09/how-to-eliminate-a-parameter-boom/">How to eliminate a parameter boom</a></h1>
            
        
        
    </div>
</header>

            <div id="content">
                <p>Hello folks.</p>

<p>Today I want to write about a little trick I learned.</p>

<p>If you are working with legacy code and you don&#8217;t have the chance to eliminate core design problems, you can use this little pattern to help you out.</p>

<p><strong>Problem</strong></p>

<p>Problem is that you have a class that has a gazillion collaborators and at some point in time one of the clever devs thought it would be a cool idea to do dependancy injection via the constructor. We all know that doing this makes the class immutable which is very good for a number of reasons. However it doesn&#8217;t provide a flexible solution if you want to leave out one or two collabs. For that your would have to create Adapter constructors and chain them upwards which would get very ugly very fast. While using JavaBeans getters and setters can leave your class in a harmful state like not at all or partially initialised.</p>

<p>So what&#8217;s a good solution then?</p>

<p><strong>Solution</strong></p>

<p>One possible solution would be to use some kind of initialisation framework like Springs @Autowired. But cluttering your classes with that isn&#8217;t really pretty either. But it&#8217;s A solution.</p>

<p>Another solution is the usage of a builder pattern.</p>

<p>Consider this class:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> VeryImportantService <span style="color: #009900;">&#123;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">public</span> VeryImportantService<span style="color: #009900;">&#40;</span>CollabOne collabOne, CollabTwo collabTwo, CollabThree collabThree, CollabFour collabFour,
            CollabFive collabFive, CollabSix collabSix<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            .
            .
            .
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Don&#8217;t forget that we want these to be optional. I would like to leave out two or three here and there.</p>

<p>The builder let&#8217;s you do that. It looks something like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> VeryImportantService <span style="color: #009900;">&#123;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">private</span> CollabOne collabOne<span style="color: #339933;">;</span>
        <span style="color: #000000; font-weight: bold;">private</span> CollabTwo collabTwo<span style="color: #339933;">;</span>
        <span style="color: #000000; font-weight: bold;">private</span> CollabThree collabThree<span style="color: #339933;">;</span>
        <span style="color: #000000; font-weight: bold;">private</span> CollabFour collabFour<span style="color: #339933;">;</span>
        <span style="color: #000000; font-weight: bold;">private</span> CollabFive collabFive<span style="color: #339933;">;</span>
        <span style="color: #000000; font-weight: bold;">private</span> CollabSix collabSix<span style="color: #339933;">;</span> 
&nbsp;
&nbsp;
        <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #000000; font-weight: bold;">class</span> Builder<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabOne collabOne<span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabTwo collabTwo<span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabThree collabThree<span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabFour collabFour<span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabFive collabFive<span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">private</span> CollabSix collabSix<span style="color: #339933;">;</span> 
&nbsp;
            <span style="color: #000000; font-weight: bold;">public</span> Builder<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><span style="color: #009900;">&#125;</span>
&nbsp;
            <span style="color: #000000; font-weight: bold;">public</span> Builder collabOne<span style="color: #009900;">&#40;</span>CollabOne value<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                <span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">collabOne</span> <span style="color: #339933;">=</span> value<span style="color: #339933;">;</span>
                <span style="color: #000000; font-weight: bold;">return</span> <span style="color: #000000; font-weight: bold;">this</span><span style="color: #339933;">;</span>
            <span style="color: #009900;">&#125;</span>
&nbsp;
            <span style="color: #000000; font-weight: bold;">public</span> Builder collabTwo<span style="color: #009900;">&#40;</span>CollabTwo value<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                <span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">collabTwo</span> <span style="color: #339933;">=</span> value<span style="color: #339933;">;</span>
                <span style="color: #000000; font-weight: bold;">return</span> <span style="color: #000000; font-weight: bold;">this</span><span style="color: #339933;">;</span>
            <span style="color: #009900;">&#125;</span>
&nbsp;
            .
            .
            .
&nbsp;
            <span style="color: #000000; font-weight: bold;">public</span> VeryImportantService build<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
                <span style="color: #000000; font-weight: bold;">return</span> <span style="color: #000000; font-weight: bold;">new</span> VeryImportantService<span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">this</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
            <span style="color: #009900;">&#125;</span>
&nbsp;
        <span style="color: #009900;">&#125;</span>
&nbsp;
        <span style="color: #666666; font-style: italic;">//private constructor</span>
        <span style="color: #000000; font-weight: bold;">private</span> VeryImportantService<span style="color: #009900;">&#40;</span>Builder builder<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
            <span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">collabOne</span> <span style="color: #339933;">=</span> builder.<span style="color: #006633;">collabOne</span><span style="color: #339933;">;</span>
            <span style="color: #000000; font-weight: bold;">this</span>.<span style="color: #006633;">collabTwo</span> <span style="color: #339933;">=</span> builder.<span style="color: #006633;">collabTwo</span><span style="color: #339933;">;</span>
            .
            .
            .
        <span style="color: #009900;">&#125;</span>
    <span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Now&#8230; calling this would look something like this:</p>

<pre lang="JAVA" lines="1">VeryImportantService veryImportantService = new VeryImportantService.Builder().collabOne(someValueOne).collabTwo(someValueTwo).collabFive(someValueFive);
</pre>

<p>This enables you to be flexible HOWEVER!! I HATE train wrecks. So I would probably tweak it not to return things, but set them. Then you would end up calling then line by line. Which is still not the best but better then the alternative.</p>

<p><strong>End words</strong></p>

<p>So there you go. This is A solution not THE solution obviously. The best would be to NOT design such a monster at all. If you have any better ideas please feel free to share. I would gladly put them on my blog.</p>

<p>As always,</p>

<p>Thanks for reading,</p>

<p>Gergely.</p>

            </div>
        </article>
    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
    
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
      </div>

      
    </div>
  </section>

  
  
  

  
  

  
  <section id="footer">
    
      <ul class="icons">
        
        
  <li><a href="//github.com/Skarlso" target="_blank" title="GitHub" class="fa fa-github"></a></li>



  <li><a href="//linkedin.com/in/brautigamgergely" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>





  <li><a href="//twitter.com/Skarlso" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2018
        
          Ramblings of a build engineer
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/go.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/json.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/ruby.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="https://skarlso.github.io/js/util.js"></script>
      <script src="https://skarlso.github.io/js/main.js"></script>
      <script src="https://skarlso.github.io/js/backToTop.js"></script>
    

    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

