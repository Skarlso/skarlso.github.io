<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Getting Dual Card to work on Ubuntu 12.04. | Ramblings of a cloud engineer</title>
<meta name="keywords" content="additional, bumblebee, drivers, graphics, linux, nvidia, nvidia-current, resolution, ubuntu, ubuntu 12.04, xrandr">
<meta name="description" content="Hi guys.
Today I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it&rsquo;s about linux.
So let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.
So how windows is handling this is actually with a software called Optimus. Now linux wasn&rsquo;t design to handle this properly but there are solutions. But I&rsquo;m getting ahead of myself. Let&rsquo;s start with the install.">
<meta name="author" content="hannibal">
<link rel="canonical" href="https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Getting Dual Card to work on Ubuntu 12.04.">
<meta property="og:description" content="Hi guys.
Today I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it&rsquo;s about linux.
So let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.
So how windows is handling this is actually with a software called Optimus. Now linux wasn&rsquo;t design to handle this properly but there are solutions. But I&rsquo;m getting ahead of myself. Let&rsquo;s start with the install.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2012-04-11T00:00:00+00:00">
<meta property="article:modified_time" content="2012-04-11T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Getting Dual Card to work on Ubuntu 12.04.">
<meta name="twitter:description" content="Hi guys.
Today I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it&rsquo;s about linux.
So let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.
So how windows is handling this is actually with a software called Optimus. Now linux wasn&rsquo;t design to handle this properly but there are solutions. But I&rsquo;m getting ahead of myself. Let&rsquo;s start with the install.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://skarlso.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Getting Dual Card to work on Ubuntu 12.04.",
      "item": "https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Getting Dual Card to work on Ubuntu 12.04.",
  "name": "Getting Dual Card to work on Ubuntu 12.04.",
  "description": "Hi guys.\nToday I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it\u0026rsquo;s about linux.\nSo let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.\nSo how windows is handling this is actually with a software called Optimus. Now linux wasn\u0026rsquo;t design to handle this properly but there are solutions. But I\u0026rsquo;m getting ahead of myself. Let\u0026rsquo;s start with the install.\n",
  "keywords": [
    "additional", "bumblebee", "drivers", "graphics", "linux", "nvidia", "nvidia-current", "resolution", "ubuntu", "ubuntu 12.04", "xrandr"
  ],
  "articleBody": "Hi guys.\nToday I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it’s about linux.\nSo let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.\nSo how windows is handling this is actually with a software called Optimus. Now linux wasn’t design to handle this properly but there are solutions. But I’m getting ahead of myself. Let’s start with the install.\nUbuntu Install\nSo first of all I installed Ubuntu 32 bit because I experienced more problems with 64 bit. To be honest the ubuntu page also recommends 32 bit. You don’t get to much from the 64 any ways.\nAfter I downloaded and burned my disc and installed ubuntu next to my windows 7, I went for the updates. Now HERE is the first key point in my struggle. After the install I went for the additional drivers listed. There were actually additional drivers listed at that point!! Which is interesting because AFTER I installed the updates they disappeared and never appeared again. I’m guessing that one of the packages overrode my drivers. I would go back and reinstall the thing and experiment with it, but I don’t care any more.\nSo let’s move on.\nAfter updating.\nSo update went on and my Ubuntu was not using the proper resolution for my screen. It was stuck on 1024x768. Now at this point I would say I could have played around with xrandr and cvt but more about that later.\nI was immediately searching for additional drivers only to find that my list was empty.\nLike this. Now this isn’t something new actually. I had this one before and I could not for the life of me solve it. Let’s see what I did.\nCommon in Every solution\nFirst let’s go over some repository updates I did before starting to get some solutions.\nI added the x-swat repository to apt-get because that has the most recent packages that will be released.\nAdd it with these commands:\n#Add swat repository sudo add-apt-repository ppa:ubuntu-x-swat/x-updates #Update and upgrade sudo apt-get update \u0026\u0026 sudo apt-get upgrade Now you’re ready to move on.\nSolution Fail Number One\nMy first guess was to reinstall nvidia driver because of the updates the new driver has to be built with the new version of kernel.\nSo what I did was:\nsudo apt-get remove --purge nvidia-current After that finished I reinstalled everything:\nsudo apt-get update \u0026\u0026 sudo apt-get install nvidia-current nvidia-settings Additional drivers sometimes needs update to get new drivers. After that I rebooted. At this point I didn’t have an xorg.conf files yet.\nAfter the reboot everything was the same. Nothing changed. nvidia-settings still said I don’t appear to be using nvidia x. All right I thought let’s do that.\nSo I run:\nsudo nvidia-xconfig And reboot..\nNow THIS messed up my resolution pretty badly. All I was able to get my desktop to was 640x480. At this point I begun to play with xrandr.\nXrandr\nSo in order to get my resolution back I started to play around with xrandr at the first place. I wasn’t trying to add anything to xorg.conf yet because I needed to find out if it would even work!\nNow xrandr adds unsupported resolutions to video cards. If you have a resolution which us unknown you can set it using cvt.\nHere is an article how to do so: Xrandr\nAlas this didn’t work. LVDS1 which was the display for my laptop didn’t wanted to allow the new resolution I added for 1366x768. The error was:\nX Error of failed request: BadMatch (invalid parameter attributes)\nMajor opcode of failed request: 150 (RANDR)\nMinor opcode of failed request: 18 (RRAddOutputMode)\nSerial number of failed request: 25\nCurrent serial number in output stream: 26\nI couldn’t make much of this rather then that my card was still not properly configured and additional drivers was still empty.\nAs back to square one. I deleted xorg.conf and begun another solution.\nSolution Fail Number Two\nAs I was going through problems I found one interesting one. It was a guide on how to install downloaded nvidia driver from scratch.\nSo again I went and uninstalled nvidia and started this solution. The steps are these:\nStart ubuntu with recovery mode. Login in root shell (with networking) Remove your nvidia driver(what you did install) maybe this can be help: sudo apt-get purge nvidia-current sudo rm -rf /etc/X11/xorg.conf restart your computer: sudo reboot start ubuntu normally (not recovery) open /etc/default/grub : sudo gedit /etc/default/grub replace the line GRUB_CMDLINE_LINUX=\"\" to GRUB_CMDLINE_LINUX=“nomodeset” (save and exit) update grub: sudo update-grub Download appropriate driver from nvidia 10.Give executable permission to the downloaded file : chmod a+x nvidia_driver.run Press CLT+ALT+F1 [command line shell will appear] and login stop lightdm (display manager) service : sudo service lightdm stop start nvidia installation: sudo ./nvidia_driver.run reboot your system: sudo reboot Now this brought up a couple of new problems. First that although I downloaded the proper driver from Nvidia it failed to detect my GPU for whatever reasons. And second it could not build because it couldn’t find nvidia.ko. I couldn’t resolve these issues although I guess there are some for it. But in the end it didn’t matter.\nI reverted back to my original state. which was removing all of the drivers and resetting grub to its original state and went on to solution number three.\nWorking Solution Number Three\nAt this point I just wanted SOMETHING to work. I didn’t even care about my nvidia card any more. And that was when I came across a post about dual cards. Something I didn’t care about because IT WAS WORKING before the UPDATE! But I want on any ways and that was the right solution in the end.\nYou can find this solution here. The first answer.\nFor my sanities sake I will write it down here too.\nFirst\nRemove nvidia drivers. Again.\nSecond\nReinstall Mesa package for GL:\nsudo apt-get --reinstall install libgl1-mesa-glx This will get your first card to work with ubuntu.\nAt this point I reinstalled my nvidia drivers too. Something the other guy didn’t mention.\nThird\nReboot\nFourth\nInstall a program called bumblebee. Yes, Bumblebee\nThis is equal to Windows optimus. It will handle your dual video cards. You’ll see in a moment how.\nsudo add-apt-repository ppa:bumblebee/stable sudo apt-get update sudo apt-get install bumblebee bumblebee-nvidia Fifth\nAdd yourself to use Bumblebee:\nsudo usermod -a -G bumblebee $USER And then comes the magic. So in order for you to be able to use your second card with bumblebee you have to execute the program with optirun. This is much like windows optimus, just optimus works in the background.\nAfter this I could finally see my cards settings for example by typing in:\nsudo optirun nvidia-settings -c :8 This executed the settings app and I was able to edit some settings I required while ubuntu was running fine with my other video card as primary card.\nNow that was quite the fun, like I said, not?\nI hope this guide showed you my errors and problems and maybe it could help you get along with yours.\nIf you have any questions, please feel free to write.\nThanks for reading!\n",
  "wordCount" : "1236",
  "inLanguage": "en",
  "datePublished": "2012-04-11T00:00:00Z",
  "dateModified": "2012-04-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "hannibal"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ramblings of a cloud engineer",
    "logo": {
      "@type": "ImageObject",
      "url": "https://skarlso.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io/" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://skarlso.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/search/" title="Search">
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://skarlso.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://skarlso.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Getting Dual Card to work on Ubuntu 12.04.
    </h1>
    <div class="post-meta"><span title='2012-04-11 00:00:00 +0000 UTC'>April 11, 2012</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;hannibal

</div>
  </header> 

  <div class="post-content"><p>Hi guys.</p>
<p>Today I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it&rsquo;s about linux.</p>
<p>So let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.</p>
<p>So how windows is handling this is actually with a software called Optimus. Now linux wasn&rsquo;t design to handle this properly but there are solutions. But I&rsquo;m getting ahead of myself. Let&rsquo;s start with the install.</p>
<p><strong>Ubuntu Install</strong></p>
<p>So first of all I installed <a href="http://www.ubuntu.com/download/ubuntu/download" target="_blank">Ubuntu 32 bit</a> because I experienced more problems with 64 bit. To be honest the ubuntu page also recommends 32 bit. You don&rsquo;t get to much from the 64 any ways.</p>
<p>After I downloaded and burned my disc and installed ubuntu next to my windows 7, I went for the updates. Now HERE is the first key point in my struggle. After the install I went for the additional drivers listed. There were actually additional drivers listed at that point!! Which is interesting because AFTER I installed the updates they disappeared and never appeared again. I&rsquo;m guessing that one of the packages overrode my drivers. I would go back and reinstall the thing and experiment with it, but I don&rsquo;t care any more.</p>
<p>So let&rsquo;s move on.</p>
<p><strong>After updating.</strong></p>
<p>So update went on and my Ubuntu was not using the proper resolution for my screen. It was stuck on 1024x768. Now at this point I would say I could have played around with xrandr and cvt but more about that later.</p>
<p>I was immediately searching for additional drivers only to find that my list was empty.</p>
<p><img alt="Empty Additional Drivers" loading="lazy" src="http://ielmira.com/uploads/gallery/album_114/gallery_635_114_12692.png"></p>
<p>Like this. Now this isn&rsquo;t something new actually. I had this one before and I could not for the life of me solve it. Let&rsquo;s see what I did.</p>
<p><strong>Common in Every solution</strong></p>
<p>First let&rsquo;s go over some repository updates I did before starting to get some solutions.</p>
<p>I added the x-swat repository to apt-get because that has the most recent packages that will be released.</p>
<p>Add it with these commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#Add swat repository</span>
</span></span><span style="display:flex;"><span>sudo add-apt-repository ppa:ubuntu-x-swat/x-updates
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Update and upgrade</span>
</span></span><span style="display:flex;"><span>sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get upgrade
</span></span></code></pre></div><p>Now you&rsquo;re ready to move on.</p>
<p><strong>Solution Fail Number One</strong></p>
<p>My first guess was to reinstall nvidia driver because of the updates the new driver has to be built with the new version of kernel.</p>
<p>So what I did was:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get remove --purge nvidia-current
</span></span></code></pre></div><p>After that finished I reinstalled everything:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get update <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install nvidia-current nvidia-settings
</span></span></code></pre></div><p>Additional drivers sometimes needs update to get new drivers. After that I rebooted. At this point I didn&rsquo;t have an xorg.conf files yet.</p>
<p>After the reboot everything was the same. Nothing changed. nvidia-settings still said I don&rsquo;t appear to be using nvidia x. All right I thought let&rsquo;s do that.</p>
<p>So I run:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo nvidia-xconfig
</span></span></code></pre></div><p>And reboot..</p>
<p>Now THIS messed up my resolution pretty badly. All I was able to get my desktop to was 640x480. At this point I begun to play with xrandr.</p>
<p><strong>Xrandr</strong></p>
<p>So in order to get my resolution back I started to play around with xrandr at the first place. I wasn&rsquo;t trying to add anything to xorg.conf yet because I needed to find out if it would even work!</p>
<p>Now xrandr adds unsupported resolutions to video cards. If you have a resolution which us unknown you can set it using cvt.</p>
<p>Here is an article how to do so: <a href="https://wiki.ubuntu.com/X/Config/Resolution" target="_blank">Xrandr</a></p>
<p>Alas this didn&rsquo;t work. LVDS1 which was the display for my laptop didn&rsquo;t wanted to allow the new resolution I added for 1366x768. The error was:</p>
<p>X Error of failed request: BadMatch (invalid parameter attributes)</p>
<p>Major opcode of failed request: 150 (RANDR)</p>
<p>Minor opcode of failed request: 18 (RRAddOutputMode)</p>
<p>Serial number of failed request: 25</p>
<p>Current serial number in output stream: 26</p>
<p>I couldn&rsquo;t make much of this rather then that my card was still not properly configured and additional drivers was still empty.</p>
<p>As back to square one. I deleted xorg.conf and begun another solution.</p>
<p><strong>Solution Fail Number Two</strong></p>
<p>As I was going through problems I found one interesting one. It was a guide on how to install downloaded nvidia driver from scratch.</p>
<p>So again I went and uninstalled nvidia and started this solution. The steps are these:</p>
<ol>
<li>Start ubuntu with recovery mode. Login in root shell (with networking)</li>
<li>Remove your nvidia driver(what you did install) maybe this can be help: sudo apt-get purge nvidia-current sudo rm -rf /etc/X11/xorg.conf</li>
<li>restart your computer: sudo reboot</li>
<li>start ubuntu normally (not recovery)</li>
<li>open /etc/default/grub : sudo gedit /etc/default/grub</li>
<li>replace the line GRUB_CMDLINE_LINUX=&quot;&quot; to GRUB_CMDLINE_LINUX=&ldquo;nomodeset&rdquo; (save and exit)</li>
<li>update grub: sudo update-grub</li>
<li>Download appropriate driver from nvidia
10.Give executable permission to the downloaded file : chmod a+x nvidia_driver.run</li>
<li>Press CLT+ALT+F1 [command line shell will appear] and login</li>
<li>stop lightdm (display manager) service : sudo service lightdm stop</li>
<li>start nvidia installation: sudo ./nvidia_driver.run</li>
<li>reboot your system: sudo reboot</li>
</ol>
<p>Now this brought up a couple of new problems. First that although I downloaded the proper driver from Nvidia it failed to detect my GPU for whatever reasons. And second it could not build because it couldn&rsquo;t find nvidia.ko. I couldn&rsquo;t resolve these issues although I guess there are some for it. But in the end it didn&rsquo;t matter.</p>
<p>I reverted back to my original state. which was removing all of the drivers and resetting grub to its original state and went on to solution number three.</p>
<p><strong>Working Solution Number Three</strong></p>
<p>At this point I just wanted SOMETHING to work. I didn&rsquo;t even care about my nvidia card any more. And that was when I came across a post about dual cards. Something I didn&rsquo;t care about because IT WAS WORKING before the UPDATE! But I want on any ways and that was the right solution in the end.</p>
<p>You can find this solution <a href="http://askubuntu.com/questions/120261/ubuntu-11-10-problem-with-nvidia/120600#comment143754_120600" target="_blank">here</a>. The first answer.</p>
<p>For my sanities sake I will write it down here too.</p>
<p><strong>First</strong></p>
<p>Remove nvidia drivers. Again.</p>
<p><strong>Second</strong></p>
<p>Reinstall Mesa package for GL:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-get --reinstall install libgl1-mesa-glx
</span></span></code></pre></div><p>This will get your first card to work with ubuntu.</p>
<p>At this point I reinstalled my nvidia drivers too. Something the other guy didn&rsquo;t mention.</p>
<p><strong>Third</strong></p>
<p>Reboot</p>
<p><strong>Fourth</strong></p>
<p>Install a program called bumblebee. Yes, <a href="http://bumblebee-project.org/install.html" target="_blank">Bumblebee</a></p>
<p>This is equal to Windows optimus. It will handle your dual video cards. You&rsquo;ll see in a moment how.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo add-apt-repository ppa:bumblebee/stable
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>sudo apt-get install bumblebee bumblebee-nvidia
</span></span></code></pre></div><p><strong>Fifth</strong></p>
<p>Add yourself to use Bumblebee:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo usermod -a -G bumblebee $USER
</span></span></code></pre></div><p>And then comes the magic. So in order for you to be able to use your second card with bumblebee you have to execute the program with optirun. This is much like windows optimus, just optimus works in the background.</p>
<p>After this I could finally see my cards settings for example by typing in:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo optirun nvidia-settings -c :8
</span></span></code></pre></div><p>This executed the settings app and I was able to edit some settings I required while ubuntu was running fine with my other video card as primary card.</p>
<p>Now that was quite the fun, like I said, not?</p>
<p>I hope this guide showed you my errors and problems and maybe it could help you get along with yours.</p>
<p>If you have any questions, please feel free to write.</p>
<p>Thanks for reading!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://skarlso.github.io/tags/additional/">Additional</a></li>
      <li><a href="https://skarlso.github.io/tags/bumblebee/">Bumblebee</a></li>
      <li><a href="https://skarlso.github.io/tags/drivers/">Drivers</a></li>
      <li><a href="https://skarlso.github.io/tags/graphics/">Graphics</a></li>
      <li><a href="https://skarlso.github.io/tags/linux/">Linux</a></li>
      <li><a href="https://skarlso.github.io/tags/nvidia/">Nvidia</a></li>
      <li><a href="https://skarlso.github.io/tags/nvidia-current/">Nvidia-Current</a></li>
      <li><a href="https://skarlso.github.io/tags/resolution/">Resolution</a></li>
      <li><a href="https://skarlso.github.io/tags/ubuntu/">Ubuntu</a></li>
      <li><a href="https://skarlso.github.io/tags/ubuntu-12.04/">Ubuntu 12.04</a></li>
      <li><a href="https://skarlso.github.io/tags/xrandr/">Xrandr</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://skarlso.github.io/2012/06/13/making-your-code-understandable/">
    <span class="title">« Prev</span>
    <br>
    <span>Making your code understandable</span>
  </a>
  <a class="next" href="https://skarlso.github.io/2012/03/04/jms-connection-setup-and-framework/">
    <span class="title">Next »</span>
    <br>
    <span>JMS Connection setup and Framework</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://skarlso.github.io/">Ramblings of a cloud engineer</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
