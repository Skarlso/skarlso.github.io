<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Puppet on Ramblings of a build engineer</title>
    <link>https://skarlso.github.io/tags/puppet/</link>
    <description>Recent content in Puppet on Ramblings of a build engineer</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 21 May 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://skarlso.github.io/tags/puppet/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Setting up a new Laptop with Puppet</title>
      <link>https://skarlso.github.io/2015/05/21/setting-up-a-new-laptop-with-puppet/</link>
      <pubDate>Thu, 21 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/05/21/setting-up-a-new-laptop-with-puppet/</guid>
      <description>&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;So, some of you know &lt;a href=&#34;https://puppetlabs.com/&#34; target=&#34;_blank&#34;&gt;puppet&lt;/a&gt;, some of you don&amp;#8217;t. Puppet is a configuration management system. It&amp;#8217;s quite awesome. I like working with it. One of the benefits of puppet is, that I never, ever, EVER have to setup a new laptop from scratch, EVER again.&lt;/p&gt;

&lt;p&gt;I&amp;#8217;m writing a puppet manifest file which sets up my new laptop to my liking. I will improve it as I go along. Here is version 1.0.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;ruby&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# include apt&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::basics &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#ff6633; font-weight:bold;&#34;&gt;$packages&lt;/span&gt; = &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;git&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;subversion&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;mc&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;vim&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;maven&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;gradle&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;update&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get update&#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        package &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#ff6633; font-weight:bold;&#34;&gt;$packages&lt;/span&gt;:
                &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;ensure&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; installed,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#34;update&#34;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::skype &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-arc&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/dpkg --add-architecture i386&#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-repo-skype&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/add-apt-repository &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;deb http://archive.canonical.com/ &lt;span style=&#34;color:#000099;&#34;&gt;\$&lt;/span&gt;(lsb_release -sc) partner&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-arc&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;update-and-install&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get update &amp;&amp; /usr/bin/apt-get install skype&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-repo-skype&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::java8 &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# Automatically does an update afterwards&lt;/span&gt;
        &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# apt::ppa { &#39;ppa:webupd8team/java&#39;: }&lt;/span&gt;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-repo-java&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/add-apt-repository -y &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;ppa:webupd8team/java&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt; &amp;&amp; /usr/bin/apt-get update&#34;&lt;/span&gt;
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;set-accept&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/bin/echo /usr/bin/debconf shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; /bin/echo /usr/bin/debconf shared/accepted-oracle-license-v1-1 seen true | sudo /usr/bin/debconf-set-selections&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-repo-java&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;install&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get install -y oracle-java8-installer&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;set-accept&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;setup_home&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/bin/echo &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;export JDK18_HOME=/usr/lib/jvm/java-8-oracle/&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/environment&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;install&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::basics
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::skype
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::java8&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;I&amp;#8217;ll improve upon it as I go, and you can check it out later from my git repo. I removed the parts which required extra libraries for now, as I want it to run without the need of getting extra stuff installed. I might automate that part as well later on.&lt;/p&gt;

&lt;p&gt;EDIT:Â &lt;a href=&#34;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&#34;&gt;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have fun.&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>