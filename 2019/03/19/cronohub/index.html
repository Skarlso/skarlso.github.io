<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Cronohub: Archive from anywhere to anywhere - Ramblings of a cloud engineer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="hannibal" /><meta name="description" content="Intro Good afternoon folks.
Today, I would like to talk a little bit about Cronohub. It&amp;rsquo;s a Python application which you can use to archive anything from anywhere to anywhere. It uses plugins to archive this versatility.
Let me show you some of its features.
Main Usage Cronohub is a python application which uses the power and ease of usage of Python to give the user a framework. This Framework can then be used to implement concrete functionality in the form of plugins." />






<meta name="generator" content="Hugo 0.83.1 with theme even" />


<link rel="canonical" href="https://skarlso.github.io/2019/03/19/cronohub/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Cronohub: Archive from anywhere to anywhere" />
<meta property="og:description" content="Intro Good afternoon folks.
Today, I would like to talk a little bit about Cronohub. It&rsquo;s a Python application which you can use to archive anything from anywhere to anywhere. It uses plugins to archive this versatility.
Let me show you some of its features.
Main Usage Cronohub is a python application which uses the power and ease of usage of Python to give the user a framework. This Framework can then be used to implement concrete functionality in the form of plugins." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2019/03/19/cronohub/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2019-03-19T21:01:00&#43;01:00" />
<meta property="article:modified_time" content="2019-03-19T21:01:00&#43;01:00" />

<meta itemprop="name" content="Cronohub: Archive from anywhere to anywhere">
<meta itemprop="description" content="Intro Good afternoon folks.
Today, I would like to talk a little bit about Cronohub. It&rsquo;s a Python application which you can use to archive anything from anywhere to anywhere. It uses plugins to archive this versatility.
Let me show you some of its features.
Main Usage Cronohub is a python application which uses the power and ease of usage of Python to give the user a framework. This Framework can then be used to implement concrete functionality in the form of plugins."><meta itemprop="datePublished" content="2019-03-19T21:01:00&#43;01:00" />
<meta itemprop="dateModified" content="2019-03-19T21:01:00&#43;01:00" />
<meta itemprop="wordCount" content="679">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Cronohub: Archive from anywhere to anywhere"/>
<meta name="twitter:description" content="Intro Good afternoon folks.
Today, I would like to talk a little bit about Cronohub. It&rsquo;s a Python application which you can use to archive anything from anywhere to anywhere. It uses plugins to archive this versatility.
Let me show you some of its features.
Main Usage Cronohub is a python application which uses the power and ease of usage of Python to give the user a framework. This Framework can then be used to implement concrete functionality in the form of plugins."/>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-6QPDC2X6TV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6QPDC2X6TV');
</script>


<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Ramblings of a cloud engineer</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/blog/">
        <li class="mobile-menu-item">Archive</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Ramblings of a cloud engineer</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/blog/">Archive</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Cronohub: Archive from anywhere to anywhere</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-03-19 </span>
        <div class="post-category">
            <a href="/categories/python/"> python </a>
            <a href="/categories/archive/"> archive </a>
            <a href="/categories/cronohub/"> cronohub </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#intro">Intro</a></li>
    <li><a href="#main-usage">Main Usage</a>
      <ul>
        <li><a href="#under-the-hood">Under the hood</a></li>
      </ul>
    </li>
    <li><a href="#plugins">Plugins</a></li>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#contribution">Contribution</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="intro">Intro</h1>
<p>Good afternoon folks.</p>
<p>Today, I would like to talk a little bit about <a href="https://github.com/cronohub/cronohub">Cronohub</a>. It&rsquo;s a Python application
which you can use to archive anything from anywhere to anywhere. It uses plugins to archive this versatility.</p>
<p>Let me show you some of its features.</p>
<h1 id="main-usage">Main Usage</h1>
<p>Cronohub is a python application which uses the power and ease of usage of Python to give the user a
framework. This Framework can then be used to implement concrete functionality in the form of plugins.</p>
<p>The plugins provide the essential working logic for Cronohub. Cronohub itself, is basically a Hub for these
plugins.</p>
<p>What can Cronohub be actually used for? Say, you have a gazillion Github repositories you would like to archive to a
S3 bucket. Or SCP to another server. Or to ownCloud&hellip; You would use cronohub as such:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">❯ cronohub -s {github,gitlab} -t {s3,owncloud,scp}
</code></pre></td></tr></table>
</div>
</div><p>It is this simple. What&rsquo;s going on here then? <code>-s</code> tells Cronohub to use a source plugin called <code>github</code> where as
<code>-t</code> tells it to use a target plugin called <code>s3</code> or <code>owncloud</code> or an <code>scp</code> operation.</p>
<h2 id="under-the-hood">Under the hood</h2>
<p>What happens then is that the source plugin downloads the repositories for a given user. The plugins themselves can
require certain configuration options to be provided. Like environment properties. To get the Help of a plugin you
can simply ask Cronohub like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">❯ cronohub help --source-help github
Help (github source plugin):
    - Environment Property:
        CRONO_GITHUB_TOKEN: a token with access to listing repositories for a given user.
    - File that filters the list of repositories to archive. If not present, all will be archived.
        ~/.config/cronohub/configurations/github/.repo_list
</code></pre></td></tr></table>
</div>
</div><p>It will display help information for that plugin.</p>
<p>Once the source plugin finished downloading the requested repositories to a given location it will pass on a list
of files to the target plugin for archiving. The target plugin takes this list of files and will add a timestamp
to the file and upload them with the requested operation.</p>
<p>The plugins take care of parallelization or threading if this makes it faster. For example the github plugin downloads
at most 5 archive files concurrently.</p>
<h1 id="plugins">Plugins</h1>
<p>What are plugins then? The plugins adhere to an ABC. An Abstract Base Class. This class defines the abilities and
structure of a plugin. It looks like this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABCMeta</span><span class="p">,</span> <span class="n">abstractmethod</span>


<span class="k">class</span> <span class="nc">CronohubSourcePlugin</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    This is the basic definition of a CronoHub plugin.
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">help</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s2">&#34;&#34;&#34;
</span><span class="s2">        Returns a tuple (str, str) where there first parameter is the name of the
</span><span class="s2">        archive and the second is the location as a full path. Exp:
</span><span class="s2">        (&#34;my-project-12345&#34;, &#34;/home/user/projects/my-project/my-project.tar.gz&#34;)
</span><span class="s2">        &#34;&#34;&#34;</span>
        <span class="o">...</span>
</code></pre></td></tr></table>
</div>
</div><p>Validation will be called before the plugin can be used. This method can be used to validate settings
for a plugin, for example if a token is provided for the github plugin. Or a bucket name is defined for the
S3 plugin etc.</p>
<p>Help will display information just like we saw above and fetch will actually perform the downloading or
fetching of files to later archive.</p>
<p>Plugins are located in this repository: <a href="https://github.com/cronohub/plugins">Cronohub plugins</a>.</p>
<p>Hopefully, at some point I&rsquo;ll finish <a href="https://cronohub.org">https://cronohub.org</a> and then there will be an online repository for these.</p>
<p>Plugins are located at <code>~/.config/cronohub/plugins/{target,source}</code>. Each plugin must take care of its own
dependencies via a <code>requirements.txt</code> file.</p>
<p>Right now, there are only a few plugins available.</p>
<table>
<thead>
<tr>
<th style="text-align:center">Source Plugins</th>
<th style="text-align:center">Target Plugins</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Github</td>
<td style="text-align:center">S3</td>
</tr>
<tr>
<td style="text-align:center">Gitlab</td>
<td style="text-align:center">SCP</td>
</tr>
<tr>
<td style="text-align:center">Local</td>
<td style="text-align:center">ownCloud</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">No-Op</td>
</tr>
</tbody>
</table>
<p>More are hopefully on the way. Local is simply gathering a list of files from a folder. And no-op is what it says. It&rsquo;s good for debugging a source plugin as it doesn&rsquo;t do anything else but displays the files it got from the source plugin.</p>
<h1 id="installation">Installation</h1>
<p>Installing is dead trivial. Simply run:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">pip install cronohub
</code></pre></td></tr></table>
</div>
</div><p>&hellip; and that&rsquo;s it. It&rsquo;s published on pypi.org.</p>
<h1 id="contribution">Contribution</h1>
<p>Plugin contributions are heartily welcomed!</p>
<p>And that&rsquo;s it.</p>
<p>Thank you for reading,</p>
<p>Gergely.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/2019/03/19/deploy-hugo-blog-github-actions/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Deploy a Hugo Blog Github Actions</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/2019/03/18/hugo-blog-with-travis-deployment/">
            <span class="next-text nav-default">Deploy a Hugo Blog with Travis on Git Push</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'hannibalDisqus';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/skarlso" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/Skarlso" class="iconfont icon-github" title="github"></a>
  <a href="https://skarlso.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
     - 
    2023<span class="heart"><i class="iconfont icon-heart"></i></span><span>Gergely Brautigam</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-69463020-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>










</body>
</html>
