<!DOCTYPE html>
<html lang="en-us">
    <head>
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.83.1" /><meta name="theme-color" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Drupal missing ToolBar and settings not saving | Ramblings of a cloud engineer</title>

    <link rel="stylesheet" href="/css/meme.min.css" />

    
    
        <script src="/js/meme.min.js"></script>

    

    

    <meta name="author" content="hannibal" /><meta name="description" content="Hi folks.
Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.
Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.
So, step one.
Have this in your ." />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Ramblings of a cloud engineer" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Ramblings of a cloud engineer" />
    <meta name="msapplication-starturl" content="../../../../" />
    <meta name="msapplication-TileColor" content="" />
    <meta name="msapplication-TileImage" content="../../../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://skarlso.github.io/2016/08/13/drupal-missing-toolbar-and-settings-not-saving/" />
    

    
    

    
    

    
</head>

    <body>
        <div class="container">
            



            
                
                
                
            
            
    <main class="main single" id="main">
    <div class="main-inner">

        

        <article class="content post h-entry" data-align="default" data-type="posts" data-layout="post">

            <h1 class="post-title p-name">Drupal missing ToolBar and settings not saving</h1>

            

            

            

            <div class="post-body e-content">
                <p>Hi folks.</p>
<p>Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.</p>
<p>Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.</p>
<p>So, step one.</p>
<p>Have this in your .htaccess file:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine on
  ... <span class="c1"># and than a bunch of rewrite rules according to your leisure</span>
</code></pre></div><p>Than look up this line in your httpd.conf file and remove the prefix &lsquo;#&rsquo;.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#LoadModule rewrite_module libexec/apache2/mod_rewrite.so</span>
</code></pre></div><p>That is all. From there on, everything should work. If, you don&rsquo;t want the clean url setting, yet you can&rsquo;t disable it, and don&rsquo;t want to restart the server and edit the settings.php file; use drush like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">drush vset clean_url <span class="m">0</span> --yes
</code></pre></div><p>This should disable it and bust the cache in the process so it&rsquo;s immediately visible.</p>
<p>That is all folks.</p>
<p>Cheers,
Gergely.</p>

            </div>

            


        </article>

        

        


        


        


        


        


        


        


        


        


    </div>
</main>


            

            

        </div>
        

        















    </body>
</html>
