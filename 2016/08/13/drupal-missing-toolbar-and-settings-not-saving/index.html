<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Drupal missing ToolBar and settings not saving :: Ramblings of a cloud engineer</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Hi folks.
Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.
Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.
So, step one.
Have this in your ."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://skarlso.github.io/2016/08/13/drupal-missing-toolbar-and-settings-not-saving/" />


<link rel="stylesheet" href="https://skarlso.github.io/assets/style.css">

  <link rel="stylesheet" href="https://skarlso.github.io/assets/green.css">



<link rel="stylesheet" href="https://skarlso.github.io/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://skarlso.github.io/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="https://skarlso.github.io/img/favicon/green.png">



<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Drupal missing ToolBar and settings not saving :: Ramblings of a cloud engineer — " />
<meta name="twitter:description" content="Hi folks.
Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.
Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.
So, step one.
Have this in your ." />
<meta name="twitter:site" content="https://skarlso.github.io/" />
<meta name="twitter:creator" content="hannibal" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Drupal missing ToolBar and settings not saving :: Ramblings of a cloud engineer — ">
<meta property="og:description" content="Hi folks.
Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.
Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.
So, step one.
Have this in your ." />
<meta property="og:url" content="https://skarlso.github.io/2016/08/13/drupal-missing-toolbar-and-settings-not-saving/" />
<meta property="og:site_name" content="Drupal missing ToolBar and settings not saving" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">
<meta property="article:section" content="Drupal" /><meta property="article:section" content="PHP" />
<meta property="article:published_time" content="2016-08-13 00:00:00 &#43;0000 UTC" />







</head>
<body class="">
<div class="container">
  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="https://skarlso.github.io/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="https://skarlso.github.io/">Home</a></li>
        
      
        
          <li><a href="https://skarlso.github.io/blog/">Blog</a></li>
        
      
        
          <li><a href="https://skarlso.github.io/categories/">Categories</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="https://skarlso.github.io/">Home</a></li>
      
    
      
        <li><a href="https://skarlso.github.io/blog/">Blog</a></li>
      
    
      
        <li><a href="https://skarlso.github.io/categories/">Categories</a></li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
  <div class="post">
    <h1 class="post-title"><a href="https://skarlso.github.io/2016/08/13/drupal-missing-toolbar-and-settings-not-saving/">Drupal missing ToolBar and settings not saving</a></h1>
    <div class="post-meta">
      <span class="post-date">
        2016-08-13
      </span>
      <span class="post-author">:: hannibal</span>
    </div>

    

    

    <div class="post-content">
      <p>Hi folks.</p>

<p>Quick gotcha, when working with Drupal. If you just freshly installed it, and everything seems to work fine, and yet you are experiencing things like, the admin toolbar is randomly disappearing, or configuration is not saved; than you might not have modrewrite enabled on your apache server.</p>

<p>Because, by default, Drupal has clean url enabled, that needs URL rewriting on apache.</p>

<p>So, step one.</p>

<p>Have this in your .htaccess file:</p>

<pre><code class="language-bash">&lt;IfModule mod_rewrite.c&gt;
  RewriteEngine on
  ... # and than a bunch of rewrite rules according to your leisure
</code></pre>

<p>Than look up this line in your httpd.conf file and remove the prefix &lsquo;#&rsquo;.</p>

<pre><code class="language-bash">#LoadModule rewrite_module libexec/apache2/mod_rewrite.so
</code></pre>

<p>That is all. From there on, everything should work. If, you don&rsquo;t want the clean url setting, yet you can&rsquo;t disable it, and don&rsquo;t want to restart the server and edit the settings.php file; use drush like this:</p>

<pre><code class="language-bash">drush vset clean_url 0 --yes
</code></pre>

<p>This should disable it and bust the cache in the process so it&rsquo;s immediately visible.</p>

<p>That is all folks.</p>

<p>Cheers,
Gergely.</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h"></span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://skarlso.github.io/2016/08/16/never-changing-regex/">
                <span class="button__icon">←</span>
                <span class="button__text">Global variable for never changing regex</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="https://skarlso.github.io/2016/07/28/jenkins-best-practices/">
                <span class="button__text">Jenkins Best Practices Talk</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    
  </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2019 Powered by <a href="http://gohugo.io">Hugo</a></span>
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
    
  </div>
</footer>

<script src="https://skarlso.github.io/assets/main.js"></script>
<script src="https://skarlso.github.io/assets/prism.js"></script>

  
</div>

</body>
</html>
