<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramblings of a build engineer &middot; Ramblings of a build engineer</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.24.1" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Ramblings of a build engineer &middot; Ramblings of a build engineer">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Ramblings of a build engineer &middot; Ramblings of a build engineer">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href="https://skarlso.github.io//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Ramblings of a build engineer" href="https://skarlso.github.io//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://skarlso.github.io/">Ramblings of a build engineer</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/Skarlso"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/Skarlso "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="https://skarlso.github.io//index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">13 Jun 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/06/13/how-to-write-a-professional-blog/" class="post-title">How to write a professional blog</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-rambling" href="https://skarlso.github.io//categories/rambling">rambling</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hi folks.</p>

<p>I want to write a little bit about writing a professional blog.</p>

<p><strong>Early steps</strong></p>

<p>Let&#8217;s first talk about what you understand about professional blog. It&#8217;s either a semi professional one, that mixes life with professionalism, like chess, programming, testing, painting, drawing, engineering whatever your profession is. Or it can be a purely professional one without your life getting involved in it.</p>

<p>Either way you have to decide at the beginning. Why? Because that&#8217;s the kind of people you will attract. If you want to attract people from your profession then you have to decide that you will write plenty of your profession into your blog. If you want to attract hobbists more then you write about your profession AND daily life or other situations that are essentially irrelevant. Of course you can get both in both versions but the numbers will be different.</p>

<p><strong>Commiting</strong></p>

<p>A professional blog is a commitment. Start one only when you know you can &#8220;finish&#8221; it. It is a constant commitment that you HAVE to do even if you are sick, lazy, don&#8217;t have time etc, etc.</p>

<p>I know the excuses because I made them myself a couple of times too, like: I don&#8217;t have time. I write only when I want to. I write for myself, I don&#8217;t care about people. I don&#8217;t have an idea right now. I have better things to do. I don&#8217;t feel like writing.</p>

<p>And so on and so fort&#8230; Truth is people&#8230; These are usually bull.</p>

<p><strong>1.</strong> You have time. Whenever you TRULY want to write you will make the 20 minutes to at least write a small post. Why? Because this is a professional blog. You WANT to get noticed. You WANT to help people. You started it because you wanted to make a difference. You wanted people to know you to praise you to acknowledge you. Guess what&#8230; If you are not writing anything, it wont happen. There are people out there with 4 children and a wife and he DOES find the time to write a blog.</p>

<p><strong>2.</strong> That would be true if you wouldn&#8217;t be committed to your blog. Don&#8217;t forget, this is a professional blog. This is something that you are writing to make people recognize you. Blogging is about discipline. You have to set aside some time, like 30 minutes / 1 hour to write something in your blog. Why 1 hour? Because of the research that you have to do before hand. I talk about that later. Anyways. This is a commitment. If you don&#8217;t take it seriously, then don&#8217;t write it. But then don&#8217;t wait for people getting to know you, because they wont.</p>

<p><strong>3.</strong> This is just plain bull. If you write for yourself make your blog private and be done with it. &#8216;nough said.</p>

<p><strong>4.</strong> Now this is something that we all face. In programming, in engineering in whatever your profession is, you will have a point in life, several actually, in which you don&#8217;t know what to write about. That is true. It&#8217;s common and it&#8217;s called writers block. There are several ways of over coming that you can Google it. But don&#8217;t forget this is a professional blog. Try to read a couple of others. Try to merit from real life, try to sit down and think quietly for a couple of minutes. Meditate, try to see connections where you didn&#8217;t look before. Like building a robot for helping you quit smoking. How? Easy. Smoke detector. When he detects smoke comes out and sprinkles you with water. Or, since this is a testing blog, if you ran out of ideas what you want to write about testing, try this: Read a few magazines about programming, about real life scenarios, about hostage situations, about catastrophes, about hardware failures, about how your neighbor failed to pay his rent. These ALL are great sources for identifying testing opportunities and drawing connections with the software world. What I really found to be a good practice is going around having a notebook in your pocket and the moment I&#8217;m hit with an idea I will write it into that notebook. I don&#8217;t like using a phone, or other kind of electronic device for that. Why? Because the action of taking out my book, getting my pencil and actually writing something down physically makes me remember it better. But hey&#8230; Whatever suits you best. Just do it.</p>

<p>I could go on and on to from where to merit ideas for a blog, it could even be a whole separate post but I will leave somethings to figure out for yourself.</p>

<p><strong>5.</strong> This correlates to directly to line 1 and line 6. If you have a writers block or you are just plain lazy or you don&#8217;t want to write at all, you will say lines like these.</p>

<p><strong>6.</strong> See <strong>5.</strong></p>

<p><strong>Conclusion</strong></p>

<p>Writing a professional blog is about commitment and discipline. Like chess, like drawing, like your own profession it needs time, it needs nourishment it needs petting, and nurturing and loving and hating and practicing. You started this blog to reach something. You started it for yourself so you could track your progress and knowledge. You started it because writing down ideas makes you remember them better or it will make more sense to you. You started because you want to get acknowledged. You started because you want to share your experience with beginners. You started because you want all of the above.</p>

<p>Then do it. Don&#8217;t look for excuses. Writing a GOOD professional blog is hard. It will teach you much. It will make you more disciplined. It will increase your will power. It will increase your understanding of your craft. It will help other beginners who seek advice. It will help to make a name for yourself. It will help in an interview. It will generally be useful when ever you want to record a major even or idea in your life.</p>

<p>Also don&#8217;t forget&#8230; You are having fun while you are doing it. You love it, and you know you love it, because if you wouldn&#8217;t, you wouldn&#8217;t really start in the first place.</p>

<p>Oh and by the way&#8230; Not every single one of your posts must be a small book sized one. You ARE allowed to write smaller pieces in a hurry if you just wanted to share a general idea.</p>

<p>Hope you liked this and I hope it could help you get started or to keep you on track.</p>

<p>Have a nice day,</p>

<p>Gergely.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">13 Jun 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/06/13/making-your-code-understandable/" class="post-title">Making your code understandable</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hi!</p>

<p>I&#8217;ve seen this many times over and over again. Many people have wrote books about it already. Like Uncle Bob&#8217;s Clean Code. Like Pragmatic Programmer by Andrew Hunt and David Thomas. What makes your code understandable to others.</p>

<p>Is it <strong>Comments</strong>?</p>

<p>No. It&#8217;s not comments. If your code could be read properly you wouldn&#8217;t need comments to explain what it does. Like Uncle Bob said. A good code doesn&#8217;t contain surprises. It does exactly what you would think it should do on the next line. It doesn&#8217;t have curves and misinformation. It doesn&#8217;t have plots and turns of events like a good crime book. No. Good code is a like a boring soap opera with predictable plot and boring plain characters who don&#8217;t change there behavior based on circumstances.</p>

<p>Good code is easy to read. It flows like the river, falls like a waterfall, cooks like bacon and crosses the road like a professional chicken. If I read line A the next line should be B. If it is a Z or a :@L$&#8230; I wont be happy.</p>

<p>So then what makes it understandable?</p>

<p>On simple word: <strong>Readability</strong>.</p>

<p>What makes it readable?</p>

<p>Small chunks of functions that have descriptive names as few parameters as possible and do only ONE thing at a time. Of course this is not all there is&#8230; However it&#8217;s the best thing to begin with. A function called &#8220;doStuff&#8221; that has a complexity of 300 has three fors, two switches and a dozen ifs isn&#8217;t really helping. Now if you look at doStuff and try to give a name based on the job of the function and come up with &#8220;propageXWithFiveUnlessYEqualsTheSumOfZPlusW&#8221; you will know it does more then one thing.</p>

<p>If you see a really complex function in your production code or hobby code ask yourself: &#8220;Should this really be like 300 lines long and with a complexity of 200??&#8221; And as you speak this out loud you will know the answer already. Break it up. Have like a dozen smaller functions that will be better I promise you. Take out parts. Write unit tests to it that help with re-factoring. Break it down into as small chunks as possible. It will be worth it. It will increase understand-ability, readability and maintainability.</p>

<p>Hope that helped.</p>

<p>Thank you for reading and as always,</p>

<p>Have a nice Day,</p>

<p>Gergely.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">11 Apr 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/04/11/getting-dual-card-to-work-on-ubuntu-12-04/" class="post-title">Getting Dual Card to work on Ubuntu 12.04.</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Linux" href="https://skarlso.github.io//categories/linux">Linux</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hi guys.</p>

<p>Today I want to talk about a little adventure I had yesterday night. It was quite the fun and frustration too. But neither comes without the other when it&#8217;s about linux.</p>

<p>So let us see what the problem is at hand. The problem machine is a Dell Inspiron N5110 with Nvidia card number one: GeForce GT 525M. And number two: Integrated. Optimus for the win.</p>

<p>So how windows is handling this is actually with a software called Optimus. Now linux wasn&#8217;t design to handle this properly but there are solutions. But I&#8217;m getting ahead of myself. Let&#8217;s start with the install.</p>

<p><strong>Ubuntu Install</strong></p>

<p>So first of all I installed <a href="http://www.ubuntu.com/download/ubuntu/download" target="_blank">Ubuntu 32 bit</a> because I experienced more problems with 64 bit. To be honest the ubuntu page also recommends 32 bit. You don&#8217;t get to much from the 64 any ways.</p>

<p>After I downloaded and burned my disc and installed ubuntu next to my windows 7, I went for the updates. Now HERE is the first key point in my struggle. After the install I went for the additional drivers listed. There were actually additional drivers listed at that point!! Which is interesting because AFTER I installed the updates they disappeared and never appeared again. I&#8217;m guessing that one of the packages overrode my drivers. I would go back and reinstall the thing and experiment with it, but I don&#8217;t care any more.</p>

<p>So let&#8217;s move on&#8230;</p>

<p><strong>After updating&#8230;</strong></p>

<p>So update went on and my Ubuntu was not using the proper resolution for my screen. It was stuck on 1024&#215;768. Now at this point I would say I could have played around with xrandr and cvt but more about that later&#8230;</p>

<p>I was immediately searching for additional drivers only to find that my list was empty&#8230;</p>

<p><img src="http://ielmira.com/uploads/gallery/album_114/gallery_635_114_12692.png" alt="Empty Additional Drivers" /></p>

<p>Like this. Now this isn&#8217;t something new actually. I had this one before and I could not for the life of me solve it. Let&#8217;s see what I did.</p>

<p><strong>Common in Every solution</strong></p>

<p>First let&#8217;s go over some repository updates I did before starting to get some solutions.</p>

<p>I added the x-swat repository to apt-get because that has the most recent packages that will be released.</p>

<p>Add it with these commands:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #666666; font-style: italic;">#Add swat repository</span>
    <span style="color: #c20cb9; font-weight: bold;">sudo</span> add-apt-repository ppa:ubuntu-x-swat<span style="color: #000000; font-weight: bold;">/</span>x-updates
    <span style="color: #666666; font-style: italic;">#Update and upgrade</span>
    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get update</span> <span style="color: #000000; font-weight: bold;">&&</span> <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get upgrade</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Now you&#8217;re ready to move on&#8230;</p>

<p><strong>Solution Fail Number One</strong></p>

<p>My first guess was to reinstall nvidia driver because of the updates the new driver has to be built with the new version of kernel.</p>

<p>So what I did was:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get remove</span> <span style="color: #660033;">--purge</span> nvidia-current</pre>
      </td>
    </tr>
  </table>
</div>

<p>After that finished I reinstalled everything:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get update</span> <span style="color: #000000; font-weight: bold;">&&</span> <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> nvidia-current nvidia-settings</pre>
      </td>
    </tr>
  </table>
</div>

<p>Additional drivers sometimes needs update to get new drivers. After that I rebooted. At this point I didn&#8217;t have an xorg.conf files yet.</p>

<p>After the reboot everything was the same. Nothing changed. nvidia-settings still said I don&#8217;t appear to be using nvidia x. All right I thought let&#8217;s do that.</p>

<p>So I run:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> nvidia-xconfig</pre>
      </td>
    </tr>
  </table>
</div>

<p>And reboot..</p>

<p>Now THIS messed up my resolution pretty badly. All I was able to get my desktop to was 640&#215;480. At this point I begun to play with xrandr.</p>

<p><strong>Xrandr</strong></p>

<p>So in order to get my resolution back I started to play around with xrandr at the first place. I wasn&#8217;t trying to add anything to xorg.conf yet because I needed to find out if it would even work!</p>

<p>Now xrandr adds unsupported resolutions to video cards. If you have a resolution which us unknown you can set it using cvt.</p>

<p>Here is an article how to do so: <a href="https://wiki.ubuntu.com/X/Config/Resolution" target="_blank">Xrandr</a></p>

<p>Alas this didn&#8217;t work&#8230; LVDS1 which was the display for my laptop didn&#8217;t wanted to allow the new resolution I added for 1366&#215;768. The error was:</p>

<p>X Error of failed request: BadMatch (invalid parameter attributes)</p>

<p>Major opcode of failed request: 150 (RANDR)</p>

<p>Minor opcode of failed request: 18 (RRAddOutputMode)</p>

<p>Serial number of failed request: 25</p>

<p>Current serial number in output stream: 26</p>

<p>I couldn&#8217;t make much of this rather then that my card was still not properly configured and additional drivers was still empty.</p>

<p>As back to square one. I deleted xorg.conf and begun another solution.</p>

<p><strong>Solution Fail Number Two</strong></p>

<p>As I was going through problems I found one interesting one. It was a guide on how to install downloaded nvidia driver from scratch.</p>

<p>So again I went and uninstalled nvidia and started this solution. The steps are these:</p>

<ol>
<li><p>Start ubuntu with recovery mode. Login in root shell (with networking)</p></li>

<li><p>Remove your nvidia driver(what you did install) maybe this can be help: sudo apt-get purge nvidia-current sudo rm -rf /etc/X11/xorg.conf</p></li>

<li><p>restart your computer: sudo reboot</p></li>

<li><p>start ubuntu normally (not recovery)</p></li>

<li><p>open /etc/default/grub : sudo gedit /etc/default/grub</p></li>

<li><p>replace the line GRUB_CMDLINE_LINUX=&#8221;&#8221; to GRUB_CMDLINE_LINUX=&#8221;nomodeset&#8221; (save and exit)</p></li>

<li><p>update grub: sudo update-grub</p></li>

<li><p>Download appropriate driver from nvidia</p></li>
</ol>

<p>10.Give executable permission to the downloaded file : chmod a+x nvidia_driver.run</p>

<ol>
<li><p>Press CLT+ALT+F1 [command line shell will appear] and login</p></li>

<li><p>stop lightdm (display manager) service : sudo service lightdm stop</p></li>

<li><p>start nvidia installation: sudo ./nvidia_driver.run</p></li>

<li><p>reboot your system: sudo reboot</p></li>
</ol>

<p>Now this brought up a couple of new problems. First that although I downloaded the proper driver from Nvidia it failed to detect my GPU for whatever reasons. And second it could not build because it couldn&#8217;t find nvidia.ko. I couldn&#8217;t resolve these issues although I guess there are some for it. But in the end it didn&#8217;t matter.</p>

<p>I reverted back to my original state&#8230; which was removing all of the drivers and resetting grub to its original state and went on to solution number three&#8230;</p>

<p><strong>Working Solution Number Three</strong></p>

<p>At this point I just wanted SOMETHING to work. I didn&#8217;t even care about my nvidia card any more. And that was when I came across a post about dual cards. Something I didn&#8217;t care about because IT WAS WORKING before the UPDATE! But I want on any ways and that was the right solution in the end.</p>

<p>You can find this solution <a href="http://askubuntu.com/questions/120261/ubuntu-11-10-problem-with-nvidia/120600#comment143754_120600" target="_blank">here</a>. The first answer.</p>

<p>For my sanities sake I will write it down here too.</p>

<p><strong>First</strong></p>

<p>Remove nvidia drivers&#8230; Again.</p>

<p><strong>Second</strong></p>

<p>Reinstall Mesa package for GL:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get</span> <span style="color: #660033;">--reinstall</span> <span style="color: #c20cb9; font-weight: bold;">install</span> libgl1-mesa-glx</pre>
      </td>
    </tr>
  </table>
</div>

<p>This will get your first card to work with ubuntu.</p>

<p>At this point I reinstalled my nvidia drivers too&#8230; Something the other guy didn&#8217;t mention.</p>

<p><strong>Third</strong></p>

<p>Reboot</p>

<p><strong>Fourth</strong></p>

<p>Install a program called bumblebee. Yes, <a href="http://bumblebee-project.org/install.html" target="_blank">Bumblebee</a></p>

<p>This is equal to Windows optimus. It will handle your dual video cards. You&#8217;ll see in a moment how.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> add-apt-repository ppa:bumblebee<span style="color: #000000; font-weight: bold;">/</span>stable
    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get update</span>
    <span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> bumblebee bumblebee-nvidia</pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Fifth</strong></p>

<p>Add yourself to use Bumblebee:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> usermod <span style="color: #660033;">-a</span> <span style="color: #660033;">-G</span> bumblebee <span style="color: #007800;">$USER</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>And then comes the magic. So in order for you to be able to use your second card with bumblebee you have to execute the program with optirun. This is much like windows optimus, just optimus works in the background.</p>

<p>After this I could finally see my cards settings for example by typing in:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="bash" style="font-family:monospace;">    <span style="color: #c20cb9; font-weight: bold;">sudo</span> optirun nvidia-settings <span style="color: #660033;">-c</span> :<span style="color: #000000;">8</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This executed the settings app and I was able to edit some settings I required while ubuntu was running fine with my other video card as primary card.</p>

<p>Now that was quite the fun, like I said, not?</p>

<p>I hope this guide showed you my errors and problems and maybe it could help you get along with yours.</p>

<p>If you have any questions, please feel free to write.</p>

<p>Thanks for reading!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">04 Mar 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/03/04/jms-connection-setup-and-framework/" class="post-title">JMS Connection setup and Framework</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-java" href="https://skarlso.github.io//categories/java">java</a><a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-problem solving" href="https://skarlso.github.io//categories/problem-solving">problem solving</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-testing" href="https://skarlso.github.io//categories/testing">testing</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello chumps.</p>

<p>Today I want to write about jms connection testing with a small framework. I wrote a small thing using a factory object model. It&#8217;s a lead, a proof of concept. You can use this to go onward.</p>

<p>First, let&#8217;s begin with the JMS connection it self.</p>

<p><strong>JMS Connection</strong></p>

<p>First rule of thumb is: &#8220;Don&#8217;t wait for a response when dealing with JMS queues.&#8221; How so? Because, a JMS queue is asynchronous so you wont get back anything. There are however two ways of checking if it was a success or not.</p>

<p>1: Check your database. The service you are trying out probably records something in the database, right? Check it&#8230; You can use a simple JDBC connection, or a Postgres connection or whatever your choice of database is.</p>

<p>2: You can monitor use the log of your choice of service provider. If there is an exception the moment you send something, you can be sure it is received. Just the format is not correct. This is of course based on how your service handles exceptions.</p>

<p>So let&#8217;s get down to business.</p>

<p>First, there is a really good article on how to create a JMS connection.</p>

<p>This is the link for it: <a href="http://www.javablogging.com/simple-guide-to-java-message-service-jms-using-activemq" title="Simple JMS How To">Simple Guide to Java message service JMS using ActiveMQ</a></p>

<p>Itt will tell you everything you need to know about creating a connection and waiting for a response.</p>

<p>I will tell you now how to use this information in a real live environment.</p>

<p>In a real environment you will be using a queue which has certain settings that will not allow you to &#8220;join&#8221; it, or creating it. And you need to get the name of the queue and certain settings, like the destination URL.</p>

<p>First, the tool you are going to use is called JConsole. JConsole is a tool to monitor applications. It&#8217;s tool to monitor the JVM. I wont go into details about it since there are numerous descriptions about it. It is part of the java installation.</p>

<p>So after firing it up and giving it a connection url which would look like this: &#8216;service:jmx:rmi:///jndi/rmi://hostName:portNum/jmxrmi&#8217;, you would go ahead and search on the TAB:<strong>Threads</strong>.</p>

<p>Look for a Thread that is labelled like this: <YourConnectionLayer> Transport Server: tcp://0.0.0.0: <port></p>

<p>This will be your destination url.</p>

<p>In the blog the guy is using ActiveMQ. It&#8217;s your best guess. It&#8217;s lightweight, it&#8217;s fast it&#8217;s easy. Go for it.</p>

<p>So your Destination would look like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    ConnectionFactory connectionFactory <span style="color: #339933;">=</span>
            <span style="color: #000000; font-weight: bold;">new</span> ActiveMQConnectionFactory<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"&lt;yourserviceparameter&gt;://tcp://0.0.0.0:&lt;port&gt;"</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #003399;">Connection</span> connection <span style="color: #339933;">=</span> connectionFactory.<span style="color: #006633;">createConnection</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    connection.<span style="color: #006633;">start</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>After that you will need the queue name which you can get as easy as this. Go to the TAB <strong>MBeans</strong>. There you can see, if you are using ActiveMQ, you will see something like this : org.active.activemq. Open this up and you will see under localhost a number of queues that your server has configured. Open up one of them and copy the queue name in the createQueue.</p>

<p>Use it like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    Destination destination <span style="color: #339933;">=</span> session.<span style="color: #006633;">createQueue</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"&lt;queue name&gt;"</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Of course if your service is configured properly you wont have any access to it. Use the connection like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    connection <span style="color: #339933;">=</span> connectionFactory.<span style="color: #006633;">createConnection</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"username"</span>, <span style="color: #0000ff;">"password"</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>You will have now logged in with the proper user.</p>

<p>Now you can send the message. You have everything configured.</p>

<p><strong>Framework</strong></p>

<p>Let&#8217;s speak about the framework you will need to properly use this technology.</p>

<p>One of the paradigms for programming is design to interfaces. If you need a proper working framework, your ave to design with the mind set to changing pieces of code. Thinking about what would change the most. Your connection settings. You want a framework which can use any kind of connection. Not just JMS but whatever connection you would like. It could be a synchronous one. Or a database one. Or a JMS. Doesn&#8217;t matter. You are only interested in a message sent or a connection, or whatever you want.</p>

<p>So let&#8217;s get to it.</p>

<p>Interface:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">interface</span> IConnection <span style="color: #009900;">&#123;</span>
    <span style="color: #000066; font-weight: bold;">void</span> sendMessage<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is sample connection interface. You could have numerous templates here.</p>

<p>You will be using an object factory pattern here. Your implementer will be taken for a Java Property file. But it can be taken from whatever configuration you like. XML maybe, or a database even.</p>

<p>Let&#8217;s see you connection factory:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> ConnFactory <span style="color: #009900;">&#123;</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">static</span> Logger logger <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Logger<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">static</span> IConnection getImplementer<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
    <span style="color: #009900;">&#123;</span>
        <span style="color: #003399;">Properties</span> prop <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> <span style="color: #003399;">Properties</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">try</span>
        <span style="color: #009900;">&#123;</span>
            prop.<span style="color: #006633;">load</span><span style="color: #009900;">&#40;</span><span style="color: #000000; font-weight: bold;">new</span> <span style="color: #003399;">FileInputStream</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"conf/implementer.property"</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
        <span style="color: #000000; font-weight: bold;">catch</span> <span style="color: #009900;">&#40;</span><span style="color: #003399;">IOException</span> io<span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
            logger.<span style="color: #006633;">Log</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"Could not find property file: "</span> <span style="color: #339933;">+</span> io.<span style="color: #006633;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
&nbsp;
        <span style="color: #003399;">String</span> implementerClass <span style="color: #339933;">=</span> prop.<span style="color: #006633;">getProperty</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"implementer"</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        Class<span style="color: #339933;">&lt;?&gt;</span> iConnect <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">null</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">try</span>
        <span style="color: #009900;">&#123;</span>
            iConnect <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">Class</span>.<span style="color: #006633;">forName</span><span style="color: #009900;">&#40;</span>implementerClass<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
        <span style="color: #000000; font-weight: bold;">catch</span> <span style="color: #009900;">&#40;</span><span style="color: #003399;">ClassNotFoundException</span> ce<span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
            logger.<span style="color: #006633;">Log</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"Class could not be found: "</span> <span style="color: #339933;">+</span> ce.<span style="color: #006633;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
&nbsp;
        IConnection connection <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">null</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">try</span>
        <span style="color: #009900;">&#123;</span>
            connection <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span>IConnection<span style="color: #009900;">&#41;</span> iConnect.<span style="color: #006633;">newInstance</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
        <span style="color: #000000; font-weight: bold;">catch</span> <span style="color: #009900;">&#40;</span><span style="color: #003399;">IllegalAccessException</span> ie<span style="color: #009900;">&#41;</span>
        <span style="color: #009900;">&#123;</span>
            logger.<span style="color: #006633;">Log</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"Illegal access excpetion: "</span> <span style="color: #339933;">+</span> ie.<span style="color: #006633;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
        <span style="color: #009900;">&#125;</span> <span style="color: #000000; font-weight: bold;">catch</span> <span style="color: #009900;">&#40;</span><span style="color: #003399;">InstantiationException</span> e<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
&nbsp;
            logger.<span style="color: #006633;">Log</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">"Instatiation exception occured. "</span> <span style="color: #339933;">+</span> e.<span style="color: #006633;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
&nbsp;
        <span style="color: #000000; font-weight: bold;">return</span> connection<span style="color: #339933;">;</span>
    <span style="color: #009900;">&#125;</span>
&nbsp;
<span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Easy enough, right? Class.forname will instantiate the class name you have in the property file. This could be something like this: com.packagename.ClassName. Doesn&#8217;t matter to you. You can add some typeof checks, or instanceof checks, whatever you like. Or you can use <Type> generics.</p>

<p>Let&#8217;s get to the concrete implementation:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> JMSConnectionImpl <span style="color: #000000; font-weight: bold;">implements</span> IConnection <span style="color: #009900;">&#123;</span>
    Logger logger <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Logger<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000066; font-weight: bold;">void</span> sendMessage<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span>
    <span style="color: #009900;">&#123;</span>
&nbsp;
    <span style="color: #003399;">Connection</span> connection <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">null</span><span style="color: #339933;">;</span>
        .
        .
        .
        <span style="color: #000000; font-weight: bold;">finally</span>
        <span style="color: #009900;">&#123;</span>
            connection.<span style="color: #006633;">close</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #009900;">&#125;</span>
&nbsp;
    <span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Simple enough. Here you have a concrete implementation of your collection and your sender class.</p>

<p>And the simple usage facility of this is&#8230; simple too:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    IConnection iConnection <span style="color: #339933;">=</span> ConnFactory.<span style="color: #006633;">getImplementer</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
&nbsp;
    iConnection.<span style="color: #006633;">sendMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Simple enough too, right? So what happens here? You have a factory that will give you back any kind of implementation you are writing in you property file. You don&#8217;t care what the implementation is in your test. You don&#8217;t care what it&#8217;s name is. You don&#8217;t care what it&#8217;s result is. Okay, you care about the result, but that&#8217;s another history since you will check that elsewhere.</p>

<p>There you go. If any question occurs, please don&#8217;t hesitate to ask.</p>

<p>Thanks for reading!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Feb 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/02/27/configuration/" class="post-title">Configuration</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-java" href="https://skarlso.github.io//categories/java">java</a><a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-problem solving" href="https://skarlso.github.io//categories/problem-solving">problem solving</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When I see something like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
</pre>
      </td>
      
      <td class="code">
        <pre class="java" style="font-family:monospace;">    <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">class</span> Config <span style="color: #009900;">&#123;</span>
        <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">static</span> <span style="color: #000000; font-weight: bold;">final</span> string DATABASELINK <span style="color: #339933;">=</span> <span style="color: #0000ff;">"linkhere"</span><span style="color: #339933;">;</span>
        .
        .
        .
    <span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>It sends a small, but chilling shiver down my spine. Just&#8230; don&#8217;t. There are a lot of possibilities to use configuration in Java. Java property files. Xml. Xml serialization. CSV file. Whatever suits you best, but this? DON&#8217;T!</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">26 Feb 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/02/26/hello-and-welcome/" class="post-title">Hello and welcome</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-rambling" href="https://skarlso.github.io//categories/rambling">rambling</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello Dear Visitor.</p>

<p>Welcome to the ramblings of a software test engineer who thinks that he is a tester but feels like a developer but works as a tester but wants to learn programming like a developer&#8230; And so on and so fort.</p>

<p>I will make a journey that has been done by many automation testers. The journey when you decide to step oneforward. A friend of mine told me that it is good that a tester learns proper programming and that more should do so. She is right. And I will try to document this journey as best as possible. I will try to write down my experiences with java, android, automation, swing, maven, hudson, selenium, cucumber, TDD, BDD, Agile environment and whatever tool I meet.</p>

<p>Please forgive me if you find somegrammarerrors, English is not my first Language. At least this will be a good opportunity to practice it.</p>

<p>Have fun.. Enjoy my ramblings.</p>

<p>Gergely.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">26 Feb 2012, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2012/02/26/testing-code-tag/" class="post-title">Testing code tag.</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello.</p>

<p>This is just a quick post to test the working of the code tag.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
</pre>
      </td>
      
      <td class="code">
        <pre class="ruby" style="font-family:monospace;">    Given<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">/</span>The Action is <span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#91;</span>A<span style="color:#006600; font-weight:bold;">-</span>z<span style="color:#006600; font-weight:bold;">&#93;</span><span style="color:#006600; font-weight:bold;">*</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">/</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#9966CC; font-weight:bold;">do</span> <span style="color:#006600; font-weight:bold;">|</span>action<span style="color:#006600; font-weight:bold;">|</span>
        <span style="color:#0066ff; font-weight:bold;">@action</span> = action
    <span style="color:#9966CC; font-weight:bold;">end</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Perfect!!</p>

<p>The name of the plugin is WP-Syntax. The trick is to edit the page in plain HTML. Because the WordPress word editor screws up the &lt;&gt; tags. But surely you already knew that&#8230;</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="https://skarlso.github.io/page/11/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 12 of 12</span>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://skarlso.github.io//js/all.min.js"></script>

        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-69463020-2', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
