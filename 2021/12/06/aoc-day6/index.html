<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Advent Of Code - Day 6 | Ramblings of a cloud engineer</title>
<meta name="keywords" content="">
<meta name="description" content="Advent Of Code - Day 6 Alright. This time, we are going to learn something that AOC does from time to time&hellip; Let&rsquo;s break it down.
Day 6 - Part 1 We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some weird reason.">
<meta name="author" content="hannibal">
<link rel="canonical" href="https://skarlso.github.io/2021/12/06/aoc-day6/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Advent Of Code - Day 6" />
<meta property="og:description" content="Advent Of Code - Day 6 Alright. This time, we are going to learn something that AOC does from time to time&hellip; Let&rsquo;s break it down.
Day 6 - Part 1 We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some weird reason." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2021/12/06/aoc-day6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-06T01:01:00+01:00" />
<meta property="article:modified_time" content="2021-12-06T01:01:00+01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Advent Of Code - Day 6"/>
<meta name="twitter:description" content="Advent Of Code - Day 6 Alright. This time, we are going to learn something that AOC does from time to time&hellip; Let&rsquo;s break it down.
Day 6 - Part 1 We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some weird reason."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://skarlso.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Advent Of Code - Day 6",
      "item": "https://skarlso.github.io/2021/12/06/aoc-day6/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Advent Of Code - Day 6",
  "name": "Advent Of Code - Day 6",
  "description": "Advent Of Code - Day 6 Alright. This time, we are going to learn something that AOC does from time to time\u0026hellip; Let\u0026rsquo;s break it down.\nDay 6 - Part 1 We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some weird reason.",
  "keywords": [
    
  ],
  "articleBody": "Advent Of Code - Day 6 Alright. This time, we are going to learn something that AOC does from time to time… Let’s break it down.\nDay 6 - Part 1 We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some weird reason.\nAnd then we encounter a bunch of fish. Like… a LOT of fish. Nothing to worry about, right? But just in case, we map how these fish reproduce. AOC tells us here that they might be reproducing in an exponential. And in hindsight, this should have given us a clue on part 2. But I get ahead of myself.\nFirst, let’s list our constraints, or rules. We read the text and it’s not a 100% clear yet. We see some text in bold, usually those mean something. And with the number 7 we have our first rule.\nfish reproduce every 7 day We read on and we see that there is a behavior example there. Reading this requires a bit of understanding. But what comes out of it is that..\nA fish has an internal clock which decreases each day. When it hits 0 a new fish is created with initial timer of 8. The fish’s timer is then reset to 6. And that’s it. The rest is just basically telling us that then all fish will have their timer move. The rest of the text is basically fluff after this. We read things like, why it’s reset to 6 and not 7. But we already know that in computer science everything starts from 0 anyways. And it’s usually hinted if not. Then we have some more information that the new fish’s timer only ticks on the new day and not on the day it was born. That’s all fine.\nThen we have our first example. Cool, looks really nice. Let’s take it on.\nNow, here I decided that upon reading this, I’m going to create a fish struct and track the internal timer. Further, I decided that I’m going to let the fish take care of the tick event on each new day.\nThis looks like this:\ntype fish struct { timer int } func (f *fish) tick() *fish { if f.timer == 0 { f.timer = 6 return newFish() } f.timer-- return nil } func newFish() *fish { return \u0026fish{ timer: 8, } } Basically, once it hits 0 we create a new fish with timer 8 and reset the timer back to 6. Pretty easy.\nWe loop this in a 80 day cycle, and the length of the created list is how many fish we’ll have. We always tick each fish on each day ( this should have raised an alarm flag here, but I was typing fast… ).\nThe main loop looks like this:\ndays := 0 for days \u003c max { for _, f := range fishes { if fish := f.tick(); fish != nil { fishes = append(fishes, fish) } } days++ } Sweet. We list the length of the list, and indeed, that’s the correct answer. We wrote a solution in about a minute or so. Little did we know that we were about to hit in the face with a giant fish shaped fist.\nDay 6 - Part 2 So, AOC does this sometimes. It present you with a simple problem and then says, okay, now do this times 1000000. And you sit there using your machine as a heating device for the next couple days while your solution is calculating.\nObviously, that’s not the right way to do it. When you face something like this, there is ALWAYS a solution which will run withing a couple seconds. There are two solutions. You either need caching, or you need to math that sh*t out.\nI don’t see an obvious way of caching here, so we’ll have to be a bit clever about it.\nLet’s try to think about this a bit. What is the most difficult part in this that runs to longest? Checking each and every fish and ticking them individually. We cannot do that. That will never ever be possible. There are way too many fish. We have to find a different angle to the problem. If we can’t track the fishes what can we track? We can track the number of days. But does that help us in any way?\nLet’s look at the example and try to see if we can find some kind of pattern as we go.\nThe ticks of the fish are the numbers of days it has left until it gives birth. All of the numbers will be in the range of 0-8.\nInitial day looks like this: 3, 4, 3, 1, 2. From the example. Sometimes it helps me to sort these numbers, see if I can make out a pattern. 1, 2, 3, 3, 4. Okay, we see there are two fishes which are on the same cycle. If, like we said, we are trying to track the days instead of the fish, take a look how many fishes on a day there are.\n0 1 2 3 4 5 6 7 8 0 1 1 2 1 0 0 0 0 Okay, let’s manually go and one-by-one increase the days and count the fish. Maybe we’ll see an emerging pattern.\nDay 1:\nAfter 1 day: 2,3,2,0,1\n0 1 2 3 4 5 6 7 8 1 1 2 1 0 0 0 0 0 Immediately we see something very cool. The numbers all remained the same, but they shifted by one to the left.\nLet’s keep going.\nAfter 2 days: 1,2,1,6,0,8\n0 1 2 3 4 5 6 7 8 1 2 1 0 0 0 1 0 1 Now we get to one of the rules. Once a fish reaches 0, there is a new fish and we reset the current fish to 6. What does that mean in our little table? Who was 0 before will be a 6 and an 8 now. Which means on the next day we can see that it will be 2, 0, 0, 0, 0, 1, 1, 1, 1 without even checking. Because our two 1s will be 0s on the next day and our one 2 will be a 1 and we get a new fish because we had a 0. But let’s check to make sure.\nAfter 3 days: 0,1,0,5,6,7,8\n0 1 2 3 4 5 6 7 8 2 0 0 0 0 1 1 1 1 And indeed, our assumption was right. But how do we track the increase? 6s will increase and 8s will track the new number of incoming fish.\nSo what does this tell us? It will help us keep track of the count of fish on each days. How do we get the total number of fish then? We’ll just sum up the numbers in this list.\nLet’s see some code. We start off by creating our initial list with the right number of fish from our input:\ndays := make([]int, 9) for _, f := range fishes { days[f]++ } This will produce our starting numbers. Now, what’s our cycle? Each day our fishes shift one to the left. With one tiny rule that the 0s will become 8s and 6s. Because they birth a new fish and they reset their timer back to 6. Shifting the numbers is easy, we just assign the next item to the current item. But we save the 0 first. And we create as many 6s and 8s as there were 0s.\nfor i := 0; i \u003c max; i++ { first := days[0] for i := 0; i \u003c 8; i++ { days[i] = days[i+1] } days[6] += first // we add them because there might be `6`s from the previous day too we don't want to override those. days[8] = first // there are as many new fish as there were `0`s on the previous day } Next, we sum up the numbers:\nsum := 0 for _, f := range days { sum += f } fmt.Println(\"number of fish: \", sum) And we are done. We run on our input, and this produces the right number pretty quickly instead of a year or a thousand.\nConclusion Phew, this one was a nice one! It prepared us for thinking a bit instead of blindly following the rules on the first part. It helps to take a look at the numbers and draw them out one by one on a piece of paper or on the computer or anywhere. Just trace the numbers by hand, which will surely make you see a pattern in all of it.\nAnd remember, that there is always a solution which will run fast. Whether it’s caching or a bit of math. And again, don’t be afraid to ask for clues! The people in the reddit forum are super nice and they will give you hints without spoiling the end result.\nThe repository for all my solutions for AOC 2021 can be found here.\nThank you for reading!\nGergely.\n",
  "wordCount" : "1543",
  "inLanguage": "en",
  "datePublished": "2021-12-06T01:01:00+01:00",
  "dateModified": "2021-12-06T01:01:00+01:00",
  "author":{
    "@type": "Person",
    "name": "hannibal"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://skarlso.github.io/2021/12/06/aoc-day6/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ramblings of a cloud engineer",
    "logo": {
      "@type": "ImageObject",
      "url": "https://skarlso.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Advent Of Code - Day 6
    </h1>
    <div class="post-meta"><span title='2021-12-06 01:01:00 +0100 +0100'>December 6, 2021</span>&nbsp;·&nbsp;hannibal

</div>
  </header> 
  <div class="post-content"><h1 id="advent-of-code---day-6">Advent Of Code - Day 6<a hidden class="anchor" aria-hidden="true" href="#advent-of-code---day-6">#</a></h1>
<p>Alright. This time, we are going to learn something that AOC does from time to time&hellip; Let&rsquo;s break it down.</p>
<h2 id="day-6---part-1">Day 6 - Part 1<a hidden class="anchor" aria-hidden="true" href="#day-6---part-1">#</a></h2>
<p>We start off really easy. We venture around in the sea, looking for nothing but trouble. We have our squid friend with
us, whom we were telling everything about vents on the sea floor. Which happen to line up perfectly straight for some
weird reason.</p>
<p>And then we encounter a bunch of fish. Like&hellip; a LOT of fish. Nothing to worry about, right? But just in case, we map
how these fish reproduce. AOC tells us here that they might be reproducing in an exponential. And in hindsight, this
should have given us a clue on part 2. But I get ahead of myself.</p>
<p>First, let&rsquo;s list our constraints, or rules. We read the text and it&rsquo;s not a 100% clear yet. We see some text in bold,
usually those mean something. And with the number <strong>7</strong> we have our first rule.</p>
<ul>
<li>fish reproduce every 7 day</li>
</ul>
<p>We read on and we see that there is a behavior example there. Reading this requires a bit of understanding. But what
comes out of it is that..</p>
<ul>
<li>A fish has an internal clock which decreases each day.</li>
<li>When it hits 0 a new fish is created with initial timer of <strong>8</strong>.</li>
<li>The fish&rsquo;s timer is then reset to <strong>6</strong>.</li>
</ul>
<p>And that&rsquo;s it. The rest is just basically telling us that then all fish will have their timer move. The rest of the text
is basically fluff after this. We read things like, why it&rsquo;s reset to 6 and not 7. But we already know that in computer
science everything starts from 0 anyways. And it&rsquo;s usually hinted if not. Then we have some more information that the
new fish&rsquo;s timer only ticks on the new day and <strong>not</strong> on the day it was born. That&rsquo;s all fine.</p>
<p>Then we have our first example. Cool, looks really nice. Let&rsquo;s take it on.</p>
<p>Now, here I decided that upon reading this, I&rsquo;m going to create a fish struct and track the internal timer. Further, I
decided that I&rsquo;m going to let the fish take care of the <code>tick</code> event on each new day.</p>
<p>This looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">fish</span> <span style="color:#66d9ef">struct</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">timer</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">f</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">fish</span>) <span style="color:#a6e22e">tick</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">fish</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">timer</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">timer</span> = <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">newFish</span>()
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">timer</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">newFish</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">fish</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">fish</span>{
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">timer</span>: <span style="color:#ae81ff">8</span>,
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Basically, once it hits 0 we create a new fish with timer 8 and reset the timer back to 6. Pretty easy.</p>
<p>We loop this in a 80 day cycle, and the length of the created list is how many fish we&rsquo;ll have. We always tick each fish
on each day ( this should have raised an alarm flag here, but I was typing fast&hellip; ).</p>
<p>The main loop looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">days</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">days</span> &lt; <span style="color:#a6e22e">max</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">f</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">fishes</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">fish</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">f</span>.<span style="color:#a6e22e">tick</span>(); <span style="color:#a6e22e">fish</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">fishes</span> = append(<span style="color:#a6e22e">fishes</span>, <span style="color:#a6e22e">fish</span>)
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">days</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>Sweet. We list the length of the list, and indeed, that&rsquo;s the correct answer. We wrote a solution in about a minute or
so. Little did we know that we were about to hit in the face with a giant fish shaped fist.</p>
<h2 id="day-6---part-2">Day 6 - Part 2<a hidden class="anchor" aria-hidden="true" href="#day-6---part-2">#</a></h2>
<p>So, AOC does this sometimes. It present you with a simple problem and then says, okay, now do this times 1000000. And
you sit there using your machine as a heating device for the next couple days while your solution is calculating.</p>
<p>Obviously, that&rsquo;s not the right way to do it. When you face something like this, there is ALWAYS a solution which will
run withing a couple seconds. There are two solutions. You either need caching, or you need to math that sh*t out.</p>
<p>I don&rsquo;t see an obvious way of caching here, so we&rsquo;ll have to be a bit clever about it.</p>
<p>Let&rsquo;s try to think about this a bit. What is the most difficult part in this that runs to longest? Checking each and
every fish and ticking them individually. We cannot do that. That will never ever be possible. There are way too many
fish. We have to find a different angle to the problem. If we can&rsquo;t track the fishes what can we track? We can track the
number of days. But does that help us in any way?</p>
<p>Let&rsquo;s look at the example and try to see if we can find some kind of pattern as we go.</p>
<p>The ticks of the fish are the numbers of days it has left until it gives birth. All of the numbers will be in the range
of 0-8.</p>
<p>Initial day looks like this: <code>3, 4, 3, 1, 2</code>. From the example. Sometimes it helps me to sort these numbers, see if I
can make out a pattern. <code>1, 2, 3, 3, 4</code>. Okay, we see there are two fishes which are on the same cycle. If, like we said,
we are trying to track the days instead of the fish, take a look how many fishes on a day there are.</p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Okay, let&rsquo;s manually go and one-by-one increase the days and count the fish. Maybe we&rsquo;ll see an emerging pattern.</p>
<p>Day 1:</p>
<p><code>After  1 day:  2,3,2,0,1</code></p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Immediately we see something very cool. The numbers all remained the same, but <strong>they shifted by one to the left</strong>.</p>
<p>Let&rsquo;s keep going.</p>
<p><code>After  2 days: 1,2,1,6,0,8</code></p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Now we get to one of the rules. Once a fish reaches <code>0</code>, there is a new fish and we reset the current fish to <code>6</code>.
What does that mean in our little table? Who was <code>0</code> before will be a <code>6</code> and an <code>8</code> now. Which means on the next
day we can see that it will be <code>2, 0, 0, 0, 0, 1, 1, 1, 1</code> without even checking. Because our two <code>1</code>s will be <code>0</code>s
on the next day and our one <code>2</code> will be a <code>1</code> and we get a new fish because we had a <code>0</code>. But let&rsquo;s check to make sure.</p>
<p><code>After  3 days: 0,1,0,5,6,7,8</code></p>
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>And indeed, our assumption was right. But how do we track the increase? <code>6</code>s will increase and <code>8</code>s will track the new
number of incoming fish.</p>
<p>So what does this tell us? It will help us keep track of the count of fish
on each days. How do we get the total number of fish then? We&rsquo;ll just sum up the numbers in this list.</p>
<p>Let&rsquo;s see some code. We start off by creating our initial list with the right number of fish from our input:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">days</span> <span style="color:#f92672">:=</span> make([]<span style="color:#66d9ef">int</span>, <span style="color:#ae81ff">9</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">f</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">fishes</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">days</span>[<span style="color:#a6e22e">f</span>]<span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>This will produce our starting numbers. Now, what&rsquo;s our cycle? Each day our fishes shift one to the left. With
one tiny rule that the <code>0</code>s will become <code>8</code>s and <code>6</code>s. Because they birth a new fish and they reset their timer
back to <code>6</code>. Shifting the numbers is easy, we just assign the next item to the current item. But we save the <code>0</code>
first. And we create as many <code>6</code>s and <code>8</code>s as there were <code>0</code>s.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">max</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">first</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">days</span>[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#ae81ff">8</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">days</span>[<span style="color:#a6e22e">i</span>] = <span style="color:#a6e22e">days</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">days</span>[<span style="color:#ae81ff">6</span>] <span style="color:#f92672">+=</span> <span style="color:#a6e22e">first</span> <span style="color:#75715e">// we add them because there might be `6`s from the previous day too we don&#39;t want to override those.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#a6e22e">days</span>[<span style="color:#ae81ff">8</span>] = <span style="color:#a6e22e">first</span> <span style="color:#75715e">// there are as many new fish as there were `0`s on the previous day
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	}
</span></span></code></pre></div><p>Next, we sum up the numbers:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">f</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">days</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">sum</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">f</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;number of fish: &#34;</span>, <span style="color:#a6e22e">sum</span>)
</span></span></code></pre></div><p>And we are done. We run on our input, and this produces the right number pretty quickly instead of a year or a thousand.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>Phew, this one was a nice one! It prepared us for thinking a bit instead of blindly following the rules on the first part.
It helps to take a look at the numbers and draw them out one by one on a piece of paper or on the computer or anywhere. Just
trace the numbers by hand, which will surely make you see a pattern in all of it.</p>
<p>And remember, that there is always a solution which will run fast. Whether it&rsquo;s caching or a bit of math. And again, don&rsquo;t be
afraid to ask for clues! The people in the reddit forum are super nice and they will give you hints without spoiling the end
result.</p>
<p>The repository for all my solutions for AOC 2021 can be found <a href="https://github.com/Skarlso/aoc2021">here</a>.</p>
<p>Thank you for reading!</p>
<p>Gergely.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hannibalDisqus" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://skarlso.github.io">Ramblings of a cloud engineer</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
