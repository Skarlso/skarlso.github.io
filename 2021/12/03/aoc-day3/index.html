<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Advent Of Code - Day 3 | Ramblings of a cloud engineer</title>
<meta name="keywords" content="">
<meta name="description" content="Advent Of Code - Day 3 Here we go for day 3!
This day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!
Let&rsquo;s get to it!
Day 3 - Part 1 We are dealing with binary numbers. At fist glance it can be daunting, but it&rsquo;s actually not that complicated. We have to find two numbers. gamma rate and epsilon rate.">
<meta name="author" content="hannibal">
<link rel="canonical" href="https://skarlso.github.io/2021/12/03/aoc-day3/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Advent Of Code - Day 3" />
<meta property="og:description" content="Advent Of Code - Day 3 Here we go for day 3!
This day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!
Let&rsquo;s get to it!
Day 3 - Part 1 We are dealing with binary numbers. At fist glance it can be daunting, but it&rsquo;s actually not that complicated. We have to find two numbers. gamma rate and epsilon rate." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2021/12/03/aoc-day3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-03T01:01:00+01:00" />
<meta property="article:modified_time" content="2021-12-03T01:01:00+01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Advent Of Code - Day 3"/>
<meta name="twitter:description" content="Advent Of Code - Day 3 Here we go for day 3!
This day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!
Let&rsquo;s get to it!
Day 3 - Part 1 We are dealing with binary numbers. At fist glance it can be daunting, but it&rsquo;s actually not that complicated. We have to find two numbers. gamma rate and epsilon rate."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://skarlso.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Advent Of Code - Day 3",
      "item": "https://skarlso.github.io/2021/12/03/aoc-day3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Advent Of Code - Day 3",
  "name": "Advent Of Code - Day 3",
  "description": "Advent Of Code - Day 3 Here we go for day 3!\nThis day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!\nLet\u0026rsquo;s get to it!\nDay 3 - Part 1 We are dealing with binary numbers. At fist glance it can be daunting, but it\u0026rsquo;s actually not that complicated. We have to find two numbers. gamma rate and epsilon rate.",
  "keywords": [
    
  ],
  "articleBody": "Advent Of Code - Day 3 Here we go for day 3!\nThis day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!\nLet’s get to it!\nDay 3 - Part 1 We are dealing with binary numbers. At fist glance it can be daunting, but it’s actually not that complicated. We have to find two numbers. gamma rate and epsilon rate. To do that, we have to parse some binary numbers and then convert them to decimal. The two numbers can be found by looking for the most common bit at a given position in all of the numbers and the least common one at a given position in all of the given numbers. Better put, as we read on, find the bit that occurs most of the time and the one that occurs least of the time in all numbers and put them together. That’s your new number.\nAs always, let’s write out our constraints first!\nwe have a list of binary numbers we have to go through all of them and check a certain position for all of them find the most occurring number ( either 0, or 1 ) that occurs at position n append this number to a new number that is being constructed result Okay, so… loop through the numbers, as we loop, check all of the numbers at position 0, 1, 2, 3… and check which digit occurs most and least. Add the most one to the gamma rate and the least one to the epsilon rate.\nThis needs a bit of a brain wrap. We will loop through all the numbers, but we will also loop through all the numbers again but check a certain position. Meanwhile, we track the number of zeros and ones we count.\nThis will result in two loops. The first loop goes as long as the numbers are. And the second goes as many times as many numbers there are.\n// Loop as much as long the numbers are... for i := 0; i \u003c len(nums[0]); i++ { zeros := 0 ones := 0 // loop through all the numbers and check digit location. for j := 0; j \u003c len(nums); j++ { // count ones and zeros if nums[j][i] == '0' { zeros++ } else { ones++ } } // if zeros are larger gamma is 0 epsilon is 1. if zeros \u003e ones { gamma += \"0\" epsilon += \"1\" } else { // if ones are larger, gamma is 1 epsilon is 0. gamma += \"1\" epsilon += \"0\" } } This will result in the right gamma and epsilon numbers, but we aren’t done yet there. We have to convert this to decimal. Lucky for us, Go provides tools for this. We simple call strconv.ParseInt like this:\ng, _ := strconv.ParseInt(gamma, 2, 64) e, _ := strconv.ParseInt(epsilon, 2, 64) fmt.Println(\"result: \", g * e) And that’s it. We have our power consumption. On to Part 2!\nDay 3 - Part 2 Now that’s a doozy! That is a LOT of text… Let’s try breaking it down. AOC now will teach you how to read. This is actually an important skill to acquire. A lot of times you will have to parse a lot of text and try to figure out what the actual task is.\nAgain, we are looking for two numbers. oxygen generator rating and CO2 scrubber rating. Now, it’s important again, to identify certain aspects here. Like last time I talked about that there are things which you can take for granted. Things and rules which will make it easier to find something or will define an exit criteria for a search or a filter. Reading here, we find such an exit criteria:\nprocess that involves filtering out values until only one remains.\nWe have to filter the numbers until only one remains. This is important. You can be sure that the result will always be a single number out of the list of numbers. That’s your exit criteria. You can stop once your list is filtered to a single number.\nThe next sentence I actually find confusing.\nBefore searching for either rating value, start with the full list of binary numbers from your diagnostic report and consider just the first bit of those numbers.\nFor me this implies that I would have to do something with the numbers before I start search. This is not true. It’s actually just outlining what you filter criteria will be… which is:\nstart with the first bit selected numbers based on a predicate (described later as bit criteria) if you have one number left, stop continue with the next bit So what are the bit criteria?\nEach number has its own definition of criteria that it needs.\noxygen generator rating:\nthe most common value in a bit position if equal keep the 1s CO2 scrubber rating:\nthe least common value in a bit position if equal keep the 0s Then we have a nice and detailed example for both of the values. Basically, we’ll have two loops and we duplicate our list of numbers. Both loops will delete numbers based on the predicate until only a single number remains. All the while going through the bit positions until it’s done.\nThe basic algorithm looks like this:\nfunc filter(list []string, pred func(zeros, ones int) bool) string { // Start at position zero. bitPosition := 0 // until there is only a single left... for len(list) != 1 { zeros := 0 ones := 0 // same as before, we count the ones and zeros for _, o := range list { if o[bitPosition] == '0' { zeros++ } else { ones++ } } // we decide which number / position to keep var bit byte // based on the predicate, ones and zeros, decide which number will be kept. if pred(zeros, ones) { bit = '1' } else { bit = '0' } // remove the numbers which are not needed for i := 0; i \u003c len(list); i++ { if list[i][bitPosition] == bit { list = append(list[:i], list[i+1:]...) i-- } } // check the next bit position bitPosition++ } // return return list[0] } And our predicates look like this:\noxygen := filter(oxygens, func(zeros, ones int) bool { return zeros \u003e ones }) co2 := filter(co2s, func(zeros, ones int) bool { return zeros \u003c ones || zeros == ones }) For oxygens, we are looking for most common values, otherwise it’s not needed. And for co2s we are looking for the least common values and if they equal, we want the zeros.\nAnd that’s pretty much it. Parsing and finding and understanding the problem was a bit harder this time around, but it will get a lot more convoluted after this.\nConclusion We got a taste of what longer and more convoluted descriptions will look like. We got prepared for reading. We learned a bit about strconv.ParseInt. Maybe it will be handy later.\nBTW this is something that is called trivially parallel. We could easily call these in a Go routine. But it wouldn’t matter since our sample size is rather small. Just keep in mind to keep an eye out for these.\nThe repository for all my solutions for AOC 2021 can be found here.\nThank you for reading!\nHappy coding!\nGergely.\n",
  "wordCount" : "1230",
  "inLanguage": "en",
  "datePublished": "2021-12-03T01:01:00+01:00",
  "dateModified": "2021-12-03T01:01:00+01:00",
  "author":{
    "@type": "Person",
    "name": "hannibal"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://skarlso.github.io/2021/12/03/aoc-day3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ramblings of a cloud engineer",
    "logo": {
      "@type": "ImageObject",
      "url": "https://skarlso.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://skarlso.github.io/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Advent Of Code - Day 3
    </h1>
    <div class="post-meta"><span title='2021-12-03 01:01:00 +0100 +0100'>December 3, 2021</span>&nbsp;·&nbsp;hannibal

</div>
  </header> 
  <div class="post-content"><h1 id="advent-of-code---day-3">Advent Of Code - Day 3<a hidden class="anchor" aria-hidden="true" href="#advent-of-code---day-3">#</a></h1>
<p>Here we go for day 3!</p>
<p>This day was a tiny bit more complex. A lot of more things to read for sure! But all the more exciting!</p>
<p>Let&rsquo;s get to it!</p>
<h2 id="day-3---part-1">Day 3 - Part 1<a hidden class="anchor" aria-hidden="true" href="#day-3---part-1">#</a></h2>
<p>We are dealing with binary numbers. At fist glance it can be daunting, but it&rsquo;s actually not that complicated.
We have to find two numbers. <code>gamma rate</code> and <code>epsilon rate</code>. To do that, we have to parse some binary numbers
and then convert them to decimal. The two numbers can be found by looking for the most common bit at a given
position in all of the numbers and the least common one at a given position in all of the given numbers. Better
put, as we read on, find the bit that occurs most of the time and the one that occurs least of the time in all
numbers and put them together. That&rsquo;s your new number.</p>
<p>As always, let&rsquo;s write out our constraints first!</p>
<ul>
<li>we have a list of binary numbers</li>
<li>we have to go through all of them and check a certain position for all of them</li>
<li>find the most occurring number ( either 0, or 1 ) that occurs at position <code>n</code></li>
<li>append this number to a new number that is being constructed <code>result</code></li>
</ul>
<p>Okay, so&hellip; loop through the numbers, as we loop, check all of the numbers at position 0, 1, 2, 3&hellip; and check
which digit occurs most and least. Add the most one to the <code>gamma rate</code> and the least one to the <code>epsilon rate</code>.</p>
<p>This needs a bit of a brain wrap. We will loop through all the numbers, but we will also loop through all the numbers
again but check a certain position. Meanwhile, we track the number of zeros and ones we count.</p>
<p>This will result in two loops. The first loop goes as long as the numbers are. And the second goes as many times
as many numbers there are.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#75715e">// Loop as much as long the numbers are...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">nums</span>[<span style="color:#ae81ff">0</span>]); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">zeros</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">ones</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// loop through all the numbers and check digit location.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">j</span> &lt; len(<span style="color:#a6e22e">nums</span>); <span style="color:#a6e22e">j</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// count ones and zeros
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">nums</span>[<span style="color:#a6e22e">j</span>][<span style="color:#a6e22e">i</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0&#39;</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">zeros</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>			} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">ones</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// if zeros are larger gamma is 0 epsilon is 1.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">zeros</span> &gt; <span style="color:#a6e22e">ones</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">gamma</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">epsilon</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>		} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// if ones are larger, gamma is 1 epsilon is 0.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">gamma</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">epsilon</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;0&#34;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>This will result in the right gamma and epsilon numbers, but we aren&rsquo;t done yet there. We have to convert
this to decimal. Lucky for us, Go provides tools for this. We simple call <code>strconv.ParseInt</code> like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">g</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">ParseInt</span>(<span style="color:#a6e22e">gamma</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">64</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">e</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">ParseInt</span>(<span style="color:#a6e22e">epsilon</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">64</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;result: &#34;</span>, <span style="color:#a6e22e">g</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">e</span>)
</span></span></code></pre></div><p>And that&rsquo;s it. We have our power consumption. On to Part 2!</p>
<h2 id="day-3---part-2">Day 3 - Part 2<a hidden class="anchor" aria-hidden="true" href="#day-3---part-2">#</a></h2>
<p>Now that&rsquo;s a doozy! That is a LOT of text&hellip; Let&rsquo;s try breaking it down. AOC now will teach you how to read.
This is actually an important skill to acquire. A lot of times you will have to parse a lot of text and try
to figure out what the actual task is.</p>
<p>Again, we are looking for two numbers. <code>oxygen generator rating</code> and <code>CO2 scrubber rating</code>. Now, it&rsquo;s important
again, to identify certain aspects here. Like last time I talked about that there are things which you can
take for granted. Things and rules which will make it easier to find something or will define an exit criteria
for a search or a filter. Reading here, we find such an exit criteria:</p>
<blockquote>
<p>process that involves filtering out values until only one remains.</p>
</blockquote>
<p>We have to filter the numbers <strong>until only one remains</strong>. This is important. You can be sure that the result
will always be a single number out of the list of numbers. That&rsquo;s your exit criteria. You can stop once your
list is filtered to a single number.</p>
<p>The next sentence I actually find confusing.</p>
<blockquote>
<p>Before searching for either rating value, start with the full list of binary numbers from your diagnostic
report and consider just the first bit of those numbers.</p>
</blockquote>
<p>For me this implies that I would have to do something with the numbers before I start search. This is not true.
It&rsquo;s actually just outlining what you filter criteria will be&hellip; which is:</p>
<ul>
<li>start with the first bit</li>
<li>selected numbers based on a predicate (described later as <em>bit criteria</em>)</li>
<li>if you have one number left, stop</li>
<li>continue with the next bit</li>
</ul>
<p>So what are the bit criteria?</p>
<p>Each number has its own definition of criteria that it needs.</p>
<p><strong>oxygen generator rating</strong>:</p>
<ul>
<li>the most common value in a bit position</li>
<li>if equal keep the 1s</li>
</ul>
<p><strong>CO2 scrubber rating</strong>:</p>
<ul>
<li>the least common value in a bit position</li>
<li>if equal keep the 0s</li>
</ul>
<p>Then we have a nice and detailed example for both of the values. Basically, we&rsquo;ll have two loops and we duplicate
our list of numbers. Both loops will delete numbers based on the predicate until only a single number remains. All
the while going through the bit positions until it&rsquo;s done.</p>
<p>The basic algorithm looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">list</span> []<span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">pred</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">zeros</span>, <span style="color:#a6e22e">ones</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">bool</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Start at position zero.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">bitPosition</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// until there is only a single left...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> len(<span style="color:#a6e22e">list</span>) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">zeros</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">ones</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// same as before, we count the ones and zeros
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">o</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">list</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">o</span>[<span style="color:#a6e22e">bitPosition</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;0&#39;</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">zeros</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>			} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">ones</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// we decide which number / position to keep
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bit</span> <span style="color:#66d9ef">byte</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// based on the predicate, ones and zeros, decide which number will be kept.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">pred</span>(<span style="color:#a6e22e">zeros</span>, <span style="color:#a6e22e">ones</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">bit</span> = <span style="color:#e6db74">&#39;1&#39;</span>
</span></span><span style="display:flex;"><span>		} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">bit</span> = <span style="color:#e6db74">&#39;0&#39;</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// remove the numbers which are not needed
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; len(<span style="color:#a6e22e">list</span>); <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">list</span>[<span style="color:#a6e22e">i</span>][<span style="color:#a6e22e">bitPosition</span>] <span style="color:#f92672">==</span> <span style="color:#a6e22e">bit</span> {
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">list</span> = append(<span style="color:#a6e22e">list</span>[:<span style="color:#a6e22e">i</span>], <span style="color:#a6e22e">list</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>:]<span style="color:#f92672">...</span>)
</span></span><span style="display:flex;"><span>				<span style="color:#a6e22e">i</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// check the next bit position
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#a6e22e">bitPosition</span><span style="color:#f92672">++</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">list</span>[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>And our predicates look like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">oxygen</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">oxygens</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">zeros</span>, <span style="color:#a6e22e">ones</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">bool</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">zeros</span> &gt; <span style="color:#a6e22e">ones</span>
</span></span><span style="display:flex;"><span>	})
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">co2</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">filter</span>(<span style="color:#a6e22e">co2s</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">zeros</span>, <span style="color:#a6e22e">ones</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">bool</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">zeros</span> &lt; <span style="color:#a6e22e">ones</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">zeros</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">ones</span>
</span></span><span style="display:flex;"><span>	})
</span></span></code></pre></div><p>For oxygens, we are looking for most common values, otherwise it&rsquo;s not needed. And for co2s we
are looking for the least common values and if they equal, we want the zeros.</p>
<p>And that&rsquo;s pretty much it. Parsing and finding and understanding the problem was a bit harder this time
around, but it will get a lot more convoluted after this.</p>
<h2 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h2>
<p>We got a taste of what longer and more convoluted descriptions will look like. We got prepared for reading.
We learned a bit about <code>strconv.ParseInt</code>. Maybe it will be handy later.</p>
<p>BTW this is something that is called trivially parallel. We could easily call these in a Go routine. But it
wouldn&rsquo;t matter since our sample size is rather small. Just keep in mind to keep an eye out for these.</p>
<p>The repository for all my solutions for AOC 2021 can be found <a href="https://github.com/Skarlso/aoc2021">here</a>.</p>
<p>Thank you for reading!</p>
<p>Happy coding!</p>
<p>Gergely.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://skarlso.github.io">Ramblings of a cloud engineer</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
