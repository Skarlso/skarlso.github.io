<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Advent Of Code - Day 7 - Ramblings of a cloud engineer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="hannibal" /><meta name="description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&amp;rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&amp;rsquo;ve gotten as far as you. Maybe they pivot from time to time." />






<meta name="generator" content="Hugo 0.83.1 with theme even" />


<link rel="canonical" href="https://skarlso.github.io/2021/12/07/aoc-day7/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Advent Of Code - Day 7" />
<meta property="og:description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2021/12/07/aoc-day7/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-12-07T01:01:00&#43;01:00" />
<meta property="article:modified_time" content="2021-12-07T01:01:00&#43;01:00" />

<meta itemprop="name" content="Advent Of Code - Day 7">
<meta itemprop="description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time."><meta itemprop="datePublished" content="2021-12-07T01:01:00&#43;01:00" />
<meta itemprop="dateModified" content="2021-12-07T01:01:00&#43;01:00" />
<meta itemprop="wordCount" content="688">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Advent Of Code - Day 7"/>
<meta name="twitter:description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Ramblings of a cloud engineer</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/blog/">
        <li class="mobile-menu-item">Archive</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Ramblings of a cloud engineer</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/blog/">Archive</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Advent Of Code - Day 7</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-12-07 </span>
        <div class="post-category">
            <a href="/categories/aoc/"> aoc </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#advent-of-code---day-7">Advent Of Code - Day 7</a>
      <ul>
        <li><a href="#day-7---part-1">Day 7 - Part 1</a></li>
        <li><a href="#day-7---part-2">Day 7 - Part 2</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="advent-of-code---day-7">Advent Of Code - Day 7</h1>
<h2 id="day-7---part-1">Day 7 - Part 1</h2>
<p>Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.</p>
<p><img src="/img/2021/12/07/bonfire.jpeg" alt="campfire"></p>
<p>Let&rsquo;s list our constraints.</p>
<p>Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally
I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time. Or they are indigenous to this
region only.</p>
<p>In any case, the crab want to rescue you by blasting a giant hole into the ground in which you can escape. For that they
need to <em>align to a position</em>. We&rsquo;ll have to try each position for the crabs to align to to find the one which requires
the least amount of fuel ( steps ) to get to from each of the crabs.</p>
<ul>
<li>least amount of fuel</li>
<li>from each position of the crabs</li>
</ul>
<p>Okay, this isn&rsquo;t so bad. This is a simple <code>min</code> search from <code>a</code> to <code>b</code>. Which is basically the lowest crab position to
the highest crab position. We&rsquo;ll try each one of them and which ever produced the least steps for each crab to take,
wins.</p>
<p>Let&rsquo;s see some code. First, we parse the input. Just a <code>strings.Split(line, &quot;,&quot;)</code> this time. Then, we get the min and
the max of the values to look for. This is simply a <code>for ... if v &lt; min ; if v &gt; max</code>. Nothing serious.</p>
<p>Then we get to the meat. From the minimum, to the maximum, we calculate how much it would take to move to that position.
The fuel is basically, the distance taken from a to b as an absolute value. <code>abs(a-b)</code>. This is how that looks like:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="nx">min</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">max</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="nx">currFuel</span> <span class="o">:=</span> <span class="mi">0</span>
		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">crab</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">crabs</span> <span class="p">{</span>
			<span class="nx">v</span> <span class="o">:=</span> <span class="nf">abs</span><span class="p">(</span><span class="nx">i</span> <span class="o">-</span> <span class="nx">crab</span><span class="p">)</span>
			<span class="nx">currFuel</span> <span class="o">+=</span> <span class="nx">v</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="nx">currFuel</span> <span class="p">&lt;</span> <span class="nx">minFuel</span> <span class="p">{</span>
			<span class="nx">minFuel</span> <span class="p">=</span> <span class="nx">currFuel</span>
		<span class="p">}</span>
	<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>We add all that together as our fuel and compare it to the smallest we found so far. And that&rsquo;s it. We have the solution
for part1. Bring it on part 2!</p>
<h2 id="day-7---part-2">Day 7 - Part 2</h2>
<p>Okay, now we get to the fun stuff. Turns out, we actually have no idea how crab submarines work. Surprise, surprise. But
they tell us that for each move they use +1 fuel. So 1 or the first, 2 for the second, 3 for the third, etc. We do some
quick thinking and find that basically, each move requires +1 compared to the previous move. Now&hellip; You might be tempted
to change around your looping. But remember. Look for patterns! 1, 2, 3, 4&hellip;. this is a base number sequence. And what
you need is add 1, then 2, then 3, then 4 to the final sum for each move. So basically just sum the number sequence and
add it to the end result.</p>
<p>Here, the novice might be tempted to add the numbers with a for loop. But, if you remember your math class, there is a
formula for that. It&rsquo;s called the Gauss formula. But that&rsquo;s just a fancy pants words for a base number sequence sum.
It&rsquo;s (n*(1+n))/2. Or better, (n*(a1+a2))/2. You can look it up further <a href="https://mathbitsnotebook.com/Algebra2/Sequences/SSGauss.html">here</a>.</p>
<p>With that, we simply create a small function value to calculate this:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="nx">sum</span> <span class="o">:=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
		<span class="k">return</span> <span class="p">(</span><span class="nx">n</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">n</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
	<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>And we change our loop a tiny bit:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="nx">min</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">max</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
		<span class="nx">currFuel</span> <span class="o">:=</span> <span class="mi">0</span>
		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">crab</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">crabs</span> <span class="p">{</span>
			<span class="nx">v</span> <span class="o">:=</span> <span class="nf">sum</span><span class="p">(</span><span class="nf">abs</span><span class="p">(</span><span class="nx">i</span> <span class="o">-</span> <span class="nx">crab</span><span class="p">))</span> <span class="c1">// change this to add sum
</span><span class="c1"></span>			<span class="nx">currFuel</span> <span class="o">+=</span> <span class="nx">v</span>
		<span class="p">}</span>
		<span class="k">if</span> <span class="nx">currFuel</span> <span class="p">&lt;</span> <span class="nx">minFuel</span> <span class="p">{</span>
			<span class="nx">minFuel</span> <span class="p">=</span> <span class="nx">currFuel</span>
		<span class="p">}</span>
	<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>And that&rsquo;s it! With that, we have our number. Submit to AOC and that&rsquo;s another star in the bag!</p>
<p>The repository for all my solutions for AOC 2021 can be found <a href="https://github.com/Skarlso/aoc2021">here</a>.</p>
<p>Thank you for reading!</p>
<p>Gergely.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/2021/12/08/aoc-day8/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Advent Of Code - Day 8</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/2021/12/06/aoc-day6/">
            <span class="next-text nav-default">Advent Of Code - Day 6</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'hannibalDisqus';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/skarlso" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/Skarlso" class="iconfont icon-github" title="github"></a>
  <a href="https://skarlso.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
     - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>Gergely Brautigam</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-69463020-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>










</body>
</html>
