<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Advent Of Code - Day 7 | Ramblings of a cloud engineer</title>
<meta name="keywords" content="">
<meta name="description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time.">
<meta name="author" content="hannibal">
<link rel="canonical" href="https://skarlso.github.io/2021/12/07/aoc-day7/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css" integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe&#43;FVUFzPh7U=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Advent Of Code - Day 7" />
<meta property="og:description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2021/12/07/aoc-day7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-07T01:01:00+01:00" />
<meta property="article:modified_time" content="2021-12-07T01:01:00+01:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Advent Of Code - Day 7"/>
<meta name="twitter:description" content="Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.
Let&rsquo;s list our constraints.
Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://skarlso.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "Advent Of Code - Day 7",
      "item": "https://skarlso.github.io/2021/12/07/aoc-day7/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Advent Of Code - Day 7",
  "name": "Advent Of Code - Day 7",
  "description": "Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.\nLet\u0026rsquo;s list our constraints.\nToday, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they\u0026rsquo;ve gotten as far as you. Maybe they pivot from time to time.",
  "keywords": [
    
  ],
  "articleBody": "Advent Of Code - Day 7 Day 7 - Part 1 Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.\nLet’s list our constraints.\nToday, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally I have no idea how they’ve gotten as far as you. Maybe they pivot from time to time. Or they are indigenous to this region only.\nIn any case, the crab want to rescue you by blasting a giant hole into the ground in which you can escape. For that they need to align to a position. We’ll have to try each position for the crabs to align to to find the one which requires the least amount of fuel ( steps ) to get to from each of the crabs.\nleast amount of fuel from each position of the crabs Okay, this isn’t so bad. This is a simple min search from a to b. Which is basically the lowest crab position to the highest crab position. We’ll try each one of them and which ever produced the least steps for each crab to take, wins.\nLet’s see some code. First, we parse the input. Just a strings.Split(line, \",\") this time. Then, we get the min and the max of the values to look for. This is simply a for ... if v \u003c min ; if v \u003e max. Nothing serious.\nThen we get to the meat. From the minimum, to the maximum, we calculate how much it would take to move to that position. The fuel is basically, the distance taken from a to b as an absolute value. abs(a-b). This is how that looks like:\nfor i := min; i \u003c= max; i++ { currFuel := 0 for _, crab := range crabs { v := abs(i - crab) currFuel += v } if currFuel \u003c minFuel { minFuel = currFuel } } We add all that together as our fuel and compare it to the smallest we found so far. And that’s it. We have the solution for part1. Bring it on part 2!\nDay 7 - Part 2 Okay, now we get to the fun stuff. Turns out, we actually have no idea how crab submarines work. Surprise, surprise. But they tell us that for each move they use +1 fuel. So 1 or the first, 2 for the second, 3 for the third, etc. We do some quick thinking and find that basically, each move requires +1 compared to the previous move. Now… You might be tempted to change around your looping. But remember. Look for patterns! 1, 2, 3, 4…. this is a base number sequence. And what you need is add 1, then 2, then 3, then 4 to the final sum for each move. So basically just sum the number sequence and add it to the end result.\nHere, the novice might be tempted to add the numbers with a for loop. But, if you remember your math class, there is a formula for that. It’s called the Gauss formula. But that’s just a fancy pants words for a base number sequence sum. It’s (n*(1+n))/2. Or better, (n*(a1+a2))/2. You can look it up further here.\nWith that, we simply create a small function value to calculate this:\nsum := func(n int) int { return (n * (1 + n)) / 2 } And we change our loop a tiny bit:\nfor i := min; i \u003c= max; i++ { currFuel := 0 for _, crab := range crabs { v := sum(abs(i - crab)) // change this to add sum currFuel += v } if currFuel \u003c minFuel { minFuel = currFuel } } And that’s it! With that, we have our number. Submit to AOC and that’s another star in the bag!\nThe repository for all my solutions for AOC 2021 can be found here.\nThank you for reading!\nGergely.\n",
  "wordCount" : "665",
  "inLanguage": "en",
  "datePublished": "2021-12-07T01:01:00+01:00",
  "dateModified": "2021-12-07T01:01:00+01:00",
  "author":{
    "@type": "Person",
    "name": "hannibal"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://skarlso.github.io/2021/12/07/aoc-day7/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ramblings of a cloud engineer",
    "logo": {
      "@type": "ImageObject",
      "url": "https://skarlso.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://skarlso.github.io/posts/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Advent Of Code - Day 7
    </h1>
    <div class="post-meta"><span title='2021-12-07 01:01:00 +0100 +0100'>December 7, 2021</span>&nbsp;·&nbsp;hannibal

</div>
  </header> 
  <div class="post-content"><h1 id="advent-of-code---day-7">Advent Of Code - Day 7<a hidden class="anchor" aria-hidden="true" href="#advent-of-code---day-7">#</a></h1>
<h2 id="day-7---part-1">Day 7 - Part 1<a hidden class="anchor" aria-hidden="true" href="#day-7---part-1">#</a></h2>
<p>Today we got a bit of respite with an easy one. Sort of like a Dark Souls bonfire.</p>
<p><img loading="lazy" src="/img/2021/12/07/bonfire.jpeg" alt="campfire"  />
</p>
<p>Let&rsquo;s list our constraints.</p>
<p>Today, we face a giant whale and some crabs in submarines which are less than effective. If they only move horizontally
I have no idea how they&rsquo;ve gotten as far as you. Maybe they pivot from time to time. Or they are indigenous to this
region only.</p>
<p>In any case, the crab want to rescue you by blasting a giant hole into the ground in which you can escape. For that they
need to <em>align to a position</em>. We&rsquo;ll have to try each position for the crabs to align to to find the one which requires
the least amount of fuel ( steps ) to get to from each of the crabs.</p>
<ul>
<li>least amount of fuel</li>
<li>from each position of the crabs</li>
</ul>
<p>Okay, this isn&rsquo;t so bad. This is a simple <code>min</code> search from <code>a</code> to <code>b</code>. Which is basically the lowest crab position to
the highest crab position. We&rsquo;ll try each one of them and which ever produced the least steps for each crab to take,
wins.</p>
<p>Let&rsquo;s see some code. First, we parse the input. Just a <code>strings.Split(line, &quot;,&quot;)</code> this time. Then, we get the min and
the max of the values to look for. This is simply a <code>for ... if v &lt; min ; if v &gt; max</code>. Nothing serious.</p>
<p>Then we get to the meat. From the minimum, to the maximum, we calculate how much it would take to move to that position.
The fuel is basically, the distance taken from a to b as an absolute value. <code>abs(a-b)</code>. This is how that looks like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">min</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">max</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">currFuel</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">crab</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">crabs</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">abs</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">crab</span>)
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">currFuel</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">v</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">currFuel</span> &lt; <span style="color:#a6e22e">minFuel</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">minFuel</span> = <span style="color:#a6e22e">currFuel</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>We add all that together as our fuel and compare it to the smallest we found so far. And that&rsquo;s it. We have the solution
for part1. Bring it on part 2!</p>
<h2 id="day-7---part-2">Day 7 - Part 2<a hidden class="anchor" aria-hidden="true" href="#day-7---part-2">#</a></h2>
<p>Okay, now we get to the fun stuff. Turns out, we actually have no idea how crab submarines work. Surprise, surprise. But
they tell us that for each move they use +1 fuel. So 1 or the first, 2 for the second, 3 for the third, etc. We do some
quick thinking and find that basically, each move requires +1 compared to the previous move. Now&hellip; You might be tempted
to change around your looping. But remember. Look for patterns! 1, 2, 3, 4&hellip;. this is a base number sequence. And what
you need is add 1, then 2, then 3, then 4 to the final sum for each move. So basically just sum the number sequence and
add it to the end result.</p>
<p>Here, the novice might be tempted to add the numbers with a for loop. But, if you remember your math class, there is a
formula for that. It&rsquo;s called the Gauss formula. But that&rsquo;s just a fancy pants words for a base number sequence sum.
It&rsquo;s (n*(1+n))/2. Or better, (n*(a1+a2))/2. You can look it up further <a href="https://mathbitsnotebook.com/Algebra2/Sequences/SSGauss.html">here</a>.</p>
<p>With that, we simply create a small function value to calculate this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#a6e22e">sum</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int</span>) <span style="color:#66d9ef">int</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> (<span style="color:#a6e22e">n</span> <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">n</span>)) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>And we change our loop a tiny bit:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">min</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">max</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">currFuel</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">crab</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">crabs</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">v</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">abs</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">crab</span>)) <span style="color:#75715e">// change this to add sum
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>			<span style="color:#a6e22e">currFuel</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">v</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">currFuel</span> &lt; <span style="color:#a6e22e">minFuel</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#a6e22e">minFuel</span> = <span style="color:#a6e22e">currFuel</span>
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>And that&rsquo;s it! With that, we have our number. Submit to AOC and that&rsquo;s another star in the bag!</p>
<p>The repository for all my solutions for AOC 2021 can be found <a href="https://github.com/Skarlso/aoc2021">here</a>.</p>
<p>Thank you for reading!</p>
<p>Gergely.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hannibalDisqus" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://skarlso.github.io">Ramblings of a cloud engineer</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
