<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Advent Of Code - Day 9 - Ramblings of a cloud engineer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="hannibal" /><meta name="description" content="Advent Of Code - Day 9 This one was an interesting one, and a step up from previous days. I used a BFS here and I have a fantastic link for the description, usage and appliance of BFS and others like A*. Pop over to Red Blog Games for all the good stuff. There are fantastic articles about all sorts of path finding and walking algorithms.
Day 9 - Part 1 We start off again with something easy." />






<meta name="generator" content="Hugo 0.83.1 with theme even" />


<link rel="canonical" href="https://skarlso.github.io/2021/12/09/aoc-day9/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Advent Of Code - Day 9" />
<meta property="og:description" content="Advent Of Code - Day 9 This one was an interesting one, and a step up from previous days. I used a BFS here and I have a fantastic link for the description, usage and appliance of BFS and others like A*. Pop over to Red Blog Games for all the good stuff. There are fantastic articles about all sorts of path finding and walking algorithms.
Day 9 - Part 1 We start off again with something easy." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://skarlso.github.io/2021/12/09/aoc-day9/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-12-09T01:01:00&#43;01:00" />
<meta property="article:modified_time" content="2021-12-09T01:01:00&#43;01:00" />

<meta itemprop="name" content="Advent Of Code - Day 9">
<meta itemprop="description" content="Advent Of Code - Day 9 This one was an interesting one, and a step up from previous days. I used a BFS here and I have a fantastic link for the description, usage and appliance of BFS and others like A*. Pop over to Red Blog Games for all the good stuff. There are fantastic articles about all sorts of path finding and walking algorithms.
Day 9 - Part 1 We start off again with something easy."><meta itemprop="datePublished" content="2021-12-09T01:01:00&#43;01:00" />
<meta itemprop="dateModified" content="2021-12-09T01:01:00&#43;01:00" />
<meta itemprop="wordCount" content="961">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Advent Of Code - Day 9"/>
<meta name="twitter:description" content="Advent Of Code - Day 9 This one was an interesting one, and a step up from previous days. I used a BFS here and I have a fantastic link for the description, usage and appliance of BFS and others like A*. Pop over to Red Blog Games for all the good stuff. There are fantastic articles about all sorts of path finding and walking algorithms.
Day 9 - Part 1 We start off again with something easy."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Ramblings of a cloud engineer</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/blog/">
        <li class="mobile-menu-item">Archive</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Ramblings of a cloud engineer</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/blog/">Archive</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Advent Of Code - Day 9</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-12-09 </span>
        <div class="post-category">
            <a href="/categories/aoc/"> aoc </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#advent-of-code---day-9">Advent Of Code - Day 9</a>
      <ul>
        <li><a href="#day-9---part-1">Day 9 - Part 1</a></li>
        <li><a href="#day-9---part-2">Day 9 - Part 2</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h1 id="advent-of-code---day-9">Advent Of Code - Day 9</h1>
<p>This one was an interesting one, and a step up from previous days. I used a BFS here and I have a fantastic link for the
description, usage and appliance of BFS and others like A*. Pop over to <a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">Red Blog Games</a> for
all the good stuff. There are fantastic articles about all sorts of path finding and walking algorithms.</p>
<h2 id="day-9---part-1">Day 9 - Part 1</h2>
<p>We start off again with something easy. Basically, just walk through a map, and find lowest values in it compared to
neighbors of a cell. Here, we get to know a thing called direction calculation. In Go I have a list of points for that
which will come in handy in other situations. But first, let&rsquo;s parse our input. This time, I actually have a neat little
trick on Go to create a slice of numbers from a slice of string numbers:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="nx">input</span> <span class="o">:=</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="nx">content</span><span class="p">),</span> <span class="s">&#34;\n&#34;</span><span class="p">)</span>

	<span class="nx">grid</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([][]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">input</span> <span class="p">{</span>
		<span class="nx">row</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">i</span> <span class="p">{</span>
			<span class="nx">c</span> <span class="o">:=</span> <span class="nx">v</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span>
			<span class="nx">row</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">row</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span>
		<span class="p">}</span>
		<span class="nx">grid</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">grid</span><span class="p">,</span> <span class="nx">row</span><span class="p">)</span>
	<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In Go, characters are runes and they can be used like numbers with the ascii representations. So if you subtract the
ascii number <code>0</code> from the ascii value <code>1</code> you&rsquo;ll get <code>1</code> as a value. Converting that to <code>int</code> gives you the number that
you want. Neat.</p>
<p>With that out of the way, let&rsquo;s find our lowest points.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
	<span class="c1">// display(grid)
</span><span class="c1"></span>	<span class="k">for</span> <span class="nx">y</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">y</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">);</span> <span class="nx">y</span><span class="o">++</span> <span class="p">{</span>
		<span class="k">for</span> <span class="nx">x</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">x</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">[</span><span class="nx">y</span><span class="p">]);</span> <span class="nx">x</span><span class="o">++</span> <span class="p">{</span>
			<span class="nx">lowest</span> <span class="o">:=</span> <span class="kc">true</span>
			<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">d</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">directions</span> <span class="p">{</span>
				<span class="nx">np</span> <span class="o">:=</span> <span class="nx">point</span><span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="nx">y</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span>
				<span class="k">if</span> <span class="nx">np</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">x</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">[</span><span class="nx">y</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">y</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">)</span> <span class="p">{</span>
					<span class="k">if</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">np</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">np</span><span class="p">.</span><span class="nx">x</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span> <span class="p">{</span>
						<span class="nx">lowest</span> <span class="p">=</span> <span class="kc">false</span>
						<span class="k">break</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">if</span> <span class="nx">lowest</span> <span class="p">{</span>
				<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;lowest: &#34;</span><span class="p">,</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">])</span>
				<span class="nx">sum</span> <span class="o">+=</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">y</span><span class="p">][</span><span class="nx">x</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;sum: &#34;</span><span class="p">,</span> <span class="nx">sum</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>What is directions?</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="nx">directions</span> <span class="p">=</span> <span class="p">[]</span><span class="nx">point</span><span class="p">{</span>
		<span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span>
		<span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
		<span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
	<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>What&rsquo;s happening here is, instead of doing something like <code>if x-1 &lt; ... x-1...</code> we save the up, down, left, right as
directions which we add to the current coordinates. This could easily now be expanded with say <code>x: -1, y: -1</code> which would
be to upper left corner. This way we don&rsquo;t have to add any new ifs. We loop through them and check the boundaries.</p>
<p>Then we just a min on all the points and sum them up. Done. Nice. Now, comes the bigger part.</p>
<h2 id="day-9---part-2">Day 9 - Part 2</h2>
<p>For this, we first have to understand what the heck is going on. Reading the text, we see some keywords like, lowest point
and that they should converge to that point. And also the 9 is the limit and it&rsquo;s not part of the whole thing. We also
read on that it flows downward which makes us tempted to do this search from the other way around. But, we already have
the point of origin. So let&rsquo;s start from there and go outside.</p>
<p>What are we trying to do here exactly? We are trying to find paths which lead back to our lowest point. Our natural
stopper will be the number <code>9</code> and the ends of the map. Also, we will search for higher numbers than ours. Just to recap.
Start from lowest, and find paths with numbers that are higher than the previous number.</p>
<p>This is a BFS algorithm. And the linked blog will explain it better than I could. I really encourage you to take a look.
It has great resources for these things.</p>
<p>I&rsquo;m just going to show the Go equivalent.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">p</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">basins</span> <span class="p">{</span>
		<span class="nx">sizes</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">sizes</span><span class="p">,</span> <span class="nf">calculateBasinSize</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nx">grid</span><span class="p">))</span>
	<span class="p">}</span>
	<span class="nx">sort</span><span class="p">.</span><span class="nf">Ints</span><span class="p">(</span><span class="nx">sizes</span><span class="p">)</span>
	<span class="nx">l</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">sizes</span><span class="p">)</span>
	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;sum: &#34;</span><span class="p">,</span> <span class="nx">sizes</span><span class="p">[</span><span class="nx">l</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nx">sizes</span><span class="p">[</span><span class="nx">l</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="nx">sizes</span><span class="p">[</span><span class="nx">l</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><p>Calculate Basin is then the BFS:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">neighbors</span><span class="p">(</span><span class="nx">p</span> <span class="nx">point</span><span class="p">,</span> <span class="nx">grid</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="p">[]</span><span class="nx">point</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">result</span> <span class="p">[]</span><span class="nx">point</span>

	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">d</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">directions</span> <span class="p">{</span>
		<span class="nx">np</span> <span class="o">:=</span> <span class="nx">point</span><span class="p">{</span><span class="nx">x</span><span class="p">:</span> <span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">:</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">d</span><span class="p">.</span><span class="nx">y</span><span class="p">}</span>
		<span class="k">if</span> <span class="nx">np</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">x</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">[</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">np</span><span class="p">.</span><span class="nx">y</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">grid</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">np</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">np</span><span class="p">.</span><span class="nx">x</span><span class="p">]</span> <span class="p">&gt;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">grid</span><span class="p">[</span><span class="nx">np</span><span class="p">.</span><span class="nx">y</span><span class="p">][</span><span class="nx">np</span><span class="p">.</span><span class="nx">x</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">9</span> <span class="p">{</span>
				<span class="nx">result</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">np</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">result</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">calculateBasinSize</span><span class="p">(</span><span class="nx">p</span> <span class="nx">point</span><span class="p">,</span> <span class="nx">grid</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
	<span class="nx">start</span> <span class="o">:=</span> <span class="nx">p</span>
	<span class="nx">seen</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="nx">point</span><span class="p">]</span><span class="kd">struct</span><span class="p">{}{</span>
		<span class="nx">start</span><span class="p">:</span> <span class="p">{},</span>
	<span class="p">}</span>
	<span class="nx">queue</span> <span class="o">:=</span> <span class="p">[]</span><span class="nx">point</span><span class="p">{</span><span class="nx">start</span><span class="p">}</span>
	<span class="kd">var</span> <span class="nx">current</span> <span class="nx">point</span>
	<span class="k">for</span> <span class="nb">len</span><span class="p">(</span><span class="nx">queue</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
		<span class="nx">current</span><span class="p">,</span> <span class="nx">queue</span> <span class="p">=</span> <span class="nx">queue</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">queue</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
		<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">next</span> <span class="o">:=</span> <span class="k">range</span> <span class="nf">neighbors</span><span class="p">(</span><span class="nx">current</span><span class="p">,</span> <span class="nx">grid</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">seen</span><span class="p">[</span><span class="nx">next</span><span class="p">];</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
				<span class="nx">queue</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">queue</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span>
				<span class="nx">seen</span><span class="p">[</span><span class="nx">next</span><span class="p">]</span> <span class="p">=</span> <span class="kd">struct</span><span class="p">{}{}</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nx">seen</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The gist of this is the queue thing, finding neighbors based on the rules we have. Greater than us, and not 9. And then
we return the number of seen points. Those will be the size of the basin.</p>
<p>And we are done. We do the calculation and hopefully we&rsquo;ll have the right result.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Today we learned about BFS and later on about A* and various path finding algorithms which will come in handy later on.</p>
<p>The repository for all my solutions for AOC 2021 can be found <a href="https://github.com/Skarlso/aoc2021">here</a>.</p>
<p>Thank you for reading!</p>
<p>Gergely.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        
        <a class="next" href="/2021/12/08/aoc-day8/">
            <span class="next-text nav-default">Advent Of Code - Day 8</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'hannibalDisqus';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://twitter.com/skarlso" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/Skarlso" class="iconfont icon-github" title="github"></a>
  <a href="https://skarlso.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
     - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>Gergely Brautigam</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>






<script defer data-domain="skarlso.github.io" src="https://plausible.io/js/plausible.js"></script>






</body>
</html>
