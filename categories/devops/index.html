<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DevOps | Ramblings of a cloud engineer</title>
<meta name="keywords" content="">
<meta name="description" content="Welcome to my little corner of the internet">
<meta name="author" content="Gergely Brautigam">
<link rel="canonical" href="https://skarlso.github.io/categories/devops/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://skarlso.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://skarlso.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://skarlso.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://skarlso.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://skarlso.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://skarlso.github.io/categories/devops/index.xml">
<link rel="alternate" hreflang="en" href="https://skarlso.github.io/categories/devops/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="DevOps">
<meta property="og:description" content="Welcome to my little corner of the internet">
<meta property="og:type" content="website">
<meta property="og:url" content="https://skarlso.github.io/categories/devops/">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DevOps">
<meta name="twitter:description" content="Welcome to my little corner of the internet">

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://skarlso.github.io/" accesskey="h" title="Ramblings of a cloud engineer (Alt + H)">Ramblings of a cloud engineer</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://skarlso.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/search/" title="Search">
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://skarlso.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://skarlso.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://skarlso.github.io/categories/">Categories</a></div>
  <h1>
    DevOps
    <a href="/categories/devops/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to HTTPS with Hugo LetsEncrypt and HAProxy
    </h2>
  </header>
  <div class="entry-content">
    <p>Intro Hi folks.
Today, I would like to write about how to do HTTPS for a website, without the need to buy a certificate and set it up via your DNS provider. Let’s begin.
Abstract What you will achieve by the end of this post:
Every call to HTTP will be redirected to HTTPS via haproxy. HTTPS will be served with Haproxy and LetsEncrypt as the Certificate provider. Automatically update the certificate before its expiration. No need for IPTable rules to route 8080 to 80. Traffic to and from your page will be encrypted. This all will cost you nothing. I will use a static website generator for this called Hugo which, if you know me, is my favorite generator tool. These instructions are for haproxy and hugo, if you wish to use apache and nginx for example, you’ll have to dig for the corresponding settings for letsencrypt and certbot.
...</p>
  </div>
  <footer class="entry-footer"><span title='2017-02-15 19:20:00 +0100 +0100'>February 15, 2017</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to How to HTTPS with Hugo LetsEncrypt and HAProxy" href="https://skarlso.github.io/2017/02/15/how-to-https-with-hugo-letsencrypt-haproxy/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Go Development Environment
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello folks.
Here is a little something I’ve put together, since I’m doing it a lot.
Go Development Environment
If I have a project I’d like to contribute, like GoHugo, I have to setup a development environment, because most of the times, I’m on a Mac. And on OSX things work differently. I like to work in a Linux environment since that’s what most of the projects are built on.
So here you go. Just download the files, and say vagrant up which will do the magic.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-12-08 00:00:00 +0000 UTC'>December 8, 2015</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Go Development Environment" href="https://skarlso.github.io/2015/12/08/go-development-environment/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kill a Program on Connecting to a specific WiFi – OSX
    </h2>
  </header>
  <div class="entry-content">
    <p>Hi folks.
If you have the tendency, like me, to forget that you are on the corporate VPN, or leave a certain software open when you bring your laptop to work, this might be helpful to you too.
It’s a small script which kills a program when you change your Wifi network.
Script:
#!/bin/bash function log { directory=&#34;/Users/&lt;username&gt;/wifi_detect&#34; log_dir_exists=true if [ ! -d $directory ]; then echo &#34;Attempting to create =&gt; $directory&#34; mkdir -p $directory if [ ! -d $directory ]; then echo &#34;Could not create directory. Continue to log to echo.&#34; log_dir_exists=false fi fi if $log_dir_exists ; then echo &#34;$(date):$1&#34; &gt;&gt; &#34;$directory/log.txt&#34; else echo &#34;$(date):$1&#34; fi } function check_program { to_kill=&#34;[${1::1}]${1:1}&#34; log &#34;Checking if $to_kill really quit.&#34; ps=$(ps aux |grep &#34;$to_kill&#34;) log &#34;ps =&gt; $ps&#34; if [ -z &#34;$ps&#34; ]; then # 0 - True return else # 1 - False return 1 fi } function kill_program { log &#34;Killing program&#34; `pkill -f &#34;$1&#34;` sleep 1 if ! check_program $1 ; then log &#34;$1 Did not quit!&#34; else log &#34;$1 quit successfully&#34; fi } wifi_name=$(networksetup -getairportnetwork en0 |awk -F&#34;: &#34; &#39;{print $2}&#39;) log &#34;Wifi name: $wifi_name&#34; if [ &#34;$wifi_name&#34; = &#34;&lt;wifi_name&gt;&#34; ]; then log &#34;On corporate network... Killing Program&#34; kill_program &#34;&lt;programname&gt;&#34; elif [ &#34;$wifi_name&#34; = &#34;&lt;home_wifi_name&gt;&#34; ]; then # Kill &lt;program&gt; if enabled and if on &lt;home_wifi&gt; and if Tunnelblick is running. log &#34;Not on corporate network... Killing &lt;program&gt; if Tunnelblick is active.&#34; if ! check_program &#34;Tunnelblick&#34; ; then log &#34;Tunnelblick is active. Killing &lt;program&gt;&#34; kill_program &#34;&lt;program&gt;&#34; else log &#34;All good... Happy coding.&#34; fi else log &#34;No known Network...&#34; fi Now, the trick is, on OSX to only trigger this when your network changes. For this, you can have a ’launchd’ daemon, which is configured to watch three files which relate to a network being changed.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-26 00:00:00 +0000 UTC'>October 26, 2015</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Kill a Program on Connecting to a specific WiFi – OSX" href="https://skarlso.github.io/2015/10/26/kill-a-program-on-connecting-to-a-specific-wifi-osx/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Jenkins Job DSL and Groovy goodness
    </h2>
  </header>
  <div class="entry-content">
    <p>Hi Folks.
Ever used Job DSL plugin for Jenkins? What is that you say? Well, it’s TEH most awesome plug-in for Jenkins to have, because you can CODE your job configuration and put it under source control.
Today, however, I’m not going to write about that because the tutorials on Jenkins JOB DSL are very extensive and very well done. Anyone can pick them up.
Today, I would like to write about a part of it which is even more interesting. And that is, extracting re-occurring parts in your job configurations.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-15 00:00:00 +0000 UTC'>October 15, 2015</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Jenkins Job DSL and Groovy goodness" href="https://skarlso.github.io/2015/10/15/jenkins-job-dsl-and-groovy-goodness/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to Aggregate Tests with Jenkins with Aggregate Plugin on non-relating jobs
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello folks.
Today, I would like to talk about something I came in contact with, and was hard to find a proper answer / solution for it.
So I’m writing this down to document my findings. Like the title says, this is about aggregating test result with Jenkins, using the plug-in provided. If you, like me, have a pipeline structure which do not work on the same artifact, but do have a upstream-downstream relationship, you will have a hard time configuring and making Aggregation work. So here is how, I fixed the issue.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-10-02 00:00:00 +0000 UTC'>October 2, 2015</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to How to Aggregate Tests with Jenkins with Aggregate Plugin on non-relating jobs" href="https://skarlso.github.io/2015/10/02/how-to-aggregate-tests-with-jenkins-with-aggregate-plugin-on-non-relating-jobs/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Selenium Testing with Packer and Vagrant
    </h2>
  </header>
  <div class="entry-content">
    <p>So, recently, the tester team talked to me, that their build takes too long, and why is that? A quick look at their configuration and build scripts showed me, that they are actually using a vagrant box, which never gets destroyed or re-started at least. To remedy this problem, I came up with the following solution.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-07-16 00:00:00 +0000 UTC'>July 16, 2015</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Selenium Testing with Packer and Vagrant" href="https://skarlso.github.io/2015/07/16/selenium-testing-with-packer-and-vagrant/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Packer 0.8.1.
    </h2>
  </header>
  <div class="entry-content">
    <p>Previously I wrote that the scripts I’m writing, are failing because Packer hangs.
Apparently, this was a known issue. And apparently, I was using an older version, 0.7.5. After I updated everything is working wonderfully!!!
And for my thanks, here is an updated PowerShell script for provisioning my dotnet stuff.
$source = &#34;http://download.microsoft.com/download/1/6/7/167F0D79-9317-48AE-AEDB-17120579F8E2/NDP451-KB2858728-x86-x64-AllOS-ENU.exe&#34; $destination = &#34;C:\Windows\Temp\dotnet.exe&#34; Write-Host &#39;Starting to download dotnet file.&#39; try { (New-Object System.Net.WebClient).DownloadFile($source, $destination) } catch [Exception] { Write-Host &#34;Exception during download. Probable cause could be that the directory or the file didn&#39;t exist.&#34; Write-Host &#39;$_.Exception is&#39; $_.Exception } Write-Host &#39;Download done. Checking if file exists.&#39; if (!(Test-Path $destination)) { Write-Host &#39;Downloading dotnet Failed!&#39; } else { Write-Host &#39;Download successful.&#39; } Write-Host &#39;Starting install process.&#39; try { Start-Process -FilePath $source -ArgumentList &#34;/q /norestart&#34; -Wait -PassThru } catch [Exception] { Write-Host &#39;Exception during install process.&#39; Write-Host &#39;$_.Exception is&#39; $_.Exception } Write-Host &#39;All done. Goodbye.&#39; Thanks for reading!
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-07-01 00:00:00 +0000 UTC'>July 1, 2015</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Packer 0.8.1." href="https://skarlso.github.io/2015/07/01/packer-0-8-1/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Powershell can also be nice -Or Installing Java silently and waiting
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello folks.
Today, I would like to show you a small script. It installs Java JDK, both version, x86 and 64 bit, silently, and wait for that process to finish.
The wait is necessary because /s on a java install has the nasty habit of running in the background. If you are using a .bat file, you shouldn’t, than you would use something like: start /w jdk-setup.exe /s. This gets it done, but is ugly. Also, if you are using Packer and PowerShell provisioning, you might want to set up some environment variables as well for the next script. And you want that property to be available and you don’t want to mess it up with setting a path into a file and then re-setting your path on the begin of your other script. Or pass it around with Packer. No. Use a proper PowerShell script. Learn it. It’s not that hard. Be a professional. Don’t hack something together for the next person to suffer at.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-06-30 00:00:00 +0000 UTC'>June 30, 2015</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Powershell can also be nice -Or Installing Java silently and waiting" href="https://skarlso.github.io/2015/06/30/powershell-can-also-be-nice-or-installing-java-silently-and-waiting/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">The Packer, The Windows, and the Vagrant box
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello folks.
Today, I would like to write about something close to my heart recently. I’ve been fiddling with Packer, Windows and Vagrant these days. Trying to get a Windows box up in running is a pain in the arse though, so I thought I share my pain with you nice folks out there. Let’s begin.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-06-27 00:00:00 +0000 UTC'>June 27, 2015</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to The Packer, The Windows, and the Vagrant box" href="https://skarlso.github.io/2015/06/27/the-packer-the-windows-and-the-vagrant-box/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker &#43; Java &#43; Vagrant&#43; GO.CD
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello folks.
Today, I would like to write about something interesting and close to me at the moment. I’m going to setup Go.cd with Docker, and I’m going to get a Ruby Lotus app running. Let’s get started.
...</p>
  </div>
  <footer class="entry-footer"><span title='2015-06-06 00:00:00 +0000 UTC'>June 6, 2015</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;hannibal</footer>
  <a class="entry-link" aria-label="post link to Docker &#43; Java &#43; Vagrant&#43; GO.CD" href="https://skarlso.github.io/2015/06/06/docker-ruby-lotus-go-cd/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://skarlso.github.io/categories/devops/page/2/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://skarlso.github.io/">Ramblings of a cloud engineer</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
