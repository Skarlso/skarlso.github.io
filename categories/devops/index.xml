<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Devops on Ramblings of a build engineer</title>
    <link>https://skarlso.github.io/categories/devops/</link>
    <description>Recent content in Devops on Ramblings of a build engineer</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 08 Dec 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://skarlso.github.io/categories/devops/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Go Development Environment</title>
      <link>https://skarlso.github.io/2015/12/08/go-development-environment/</link>
      <pubDate>Tue, 08 Dec 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/12/08/go-development-environment/</guid>
      <description>&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;Here is a little something I&amp;rsquo;ve put together, since I&amp;rsquo;m doing it a lot.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/Skarlso/godevelopment&#34;&gt;Go Development Environment&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If I have a project I&amp;rsquo;d like to contribute, like &lt;a href=&#34;https://gohugo.io&#34;&gt;GoHugo&lt;/a&gt;, I have to setup a development environment, because most of the times, I&amp;rsquo;m on a Mac. And on OSX things work differently. I like to work in a Linux environment since that&amp;rsquo;s what most of the projects are built on.&lt;/p&gt;

&lt;p&gt;So here you go. Just download the files, and say &lt;strong&gt;vagrant up&lt;/strong&gt; which will do the magic.&lt;/p&gt;

&lt;p&gt;This sets up &lt;a href=&#34;https://github.com/fatih/vim-go&#34;&gt;vim-go&lt;/a&gt; with code completion given by YouCompleteMe and some go features like, fmt on save and build error highlighting.&lt;/p&gt;

&lt;p&gt;Also sets up ctags which will give you tags and the ability to do GoTo Declaration.&lt;/p&gt;

&lt;p&gt;Installs a bunch of utilities, and configures Go. There is an option to install docker as well. But it&amp;rsquo;s ignored at the moment.&lt;/p&gt;

&lt;p&gt;Just uncomment this line:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;#config.vm.provision &amp;quot;shell&amp;quot;, path: &amp;quot;install_docker.sh&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Any questions or request, feel free to submit an Issue!&lt;/p&gt;

&lt;p&gt;Thanks for reading!
Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Kill a Program on Connecting to a specific WiFi â€“ OSX</title>
      <link>https://skarlso.github.io/2015/10/26/kill-a-program-on-connecting-to-a-specific-wifi-osx/</link>
      <pubDate>Mon, 26 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/10/26/kill-a-program-on-connecting-to-a-specific-wifi-osx/</guid>
      <description>&lt;p&gt;Hi folks.&lt;/p&gt;

&lt;p&gt;If you have the tendency, like me, to forget that you are on the corporate VPN, or leave a certain software open when you bring your laptop to work, this might be helpful to you too.&lt;/p&gt;

&lt;p&gt;It&amp;#8217;s a small script which kills a program when you change your Wifi network.&lt;/p&gt;

&lt;p&gt;Script:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;bash&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;#!/bin/bash&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;function&lt;/span&gt; log &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #007800;&#34;&gt;directory&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;/Users/&amp;lt;username&amp;gt;/wifi_detect&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #007800;&#34;&gt;log_dir_exists&lt;/span&gt;=&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;true&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;!&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-d&lt;/span&gt; &lt;span style=&#34;color: #007800;&#34;&gt;$directory&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#93;&lt;/span&gt;; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
        &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Attempting to create =&amp;gt; &lt;span style=&#34;color: #007800;&#34;&gt;$directory&lt;/span&gt;&#34;&lt;/span&gt;
        &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;mkdir&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-p&lt;/span&gt; &lt;span style=&#34;color: #007800;&#34;&gt;$directory&lt;/span&gt;
        &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;!&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-d&lt;/span&gt; &lt;span style=&#34;color: #007800;&#34;&gt;$directory&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#93;&lt;/span&gt;; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
            &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Could not create directory. Continue to log to echo.&#34;&lt;/span&gt;
            &lt;span style=&#34;color: #007800;&#34;&gt;log_dir_exists&lt;/span&gt;=&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;false&lt;/span&gt;
        &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #007800;&#34;&gt;$log_dir_exists&lt;/span&gt; ; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
        &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$(date)&lt;/span&gt;:$1&#34;&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$directory&lt;/span&gt;/log.txt&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;else&lt;/span&gt;
        &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$(date)&lt;/span&gt;:$1&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;function&lt;/span&gt; check_program &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #007800;&#34;&gt;to_kill&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;[&lt;span style=&#34;color: #007800;&#34;&gt;${1::1}&lt;/span&gt;]&lt;span style=&#34;color: #007800;&#34;&gt;${1:1}&lt;/span&gt;&#34;&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Checking if &lt;span style=&#34;color: #007800;&#34;&gt;$to_kill&lt;/span&gt; really quit.&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #007800;&#34;&gt;ps&lt;/span&gt;=$&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;ps&lt;/span&gt; aux &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;grep&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$to_kill&lt;/span&gt;&#34;&lt;/span&gt;&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#41;&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;ps =&amp;gt; &lt;span style=&#34;color: #007800;&#34;&gt;$ps&lt;/span&gt;&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-z&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$ps&lt;/span&gt;&#34;&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#93;&lt;/span&gt;; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
    &lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;# 0 - True&lt;/span&gt;
        &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;else&lt;/span&gt;
    &lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;# 1 - False&lt;/span&gt;
        &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;function&lt;/span&gt; kill_program &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#123;&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Killing program&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;`&lt;/span&gt;pkill &lt;span style=&#34;color: #660033;&#34;&gt;-f&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;$1&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;`&lt;/span&gt;
    &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sleep&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;!&lt;/span&gt; check_program &lt;span style=&#34;color: #007800;&#34;&gt;$1&lt;/span&gt; ; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;$1 Did not quit!&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;else&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;$1 quit successfully&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #007800;&#34;&gt;wifi_name&lt;/span&gt;=$&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#40;&lt;/span&gt;networksetup &lt;span style=&#34;color: #660033;&#34;&gt;-getairportnetwork&lt;/span&gt; en0 &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;awk&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-F&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;: &#34;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;{print $2}&#39;&lt;/span&gt;&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#41;&lt;/span&gt;
log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Wifi name: &lt;span style=&#34;color: #007800;&#34;&gt;$wifi_name&lt;/span&gt;&#34;&lt;/span&gt;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$wifi_name&lt;/span&gt;&#34;&lt;/span&gt; = &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&amp;lt;wifi_name&amp;gt;&#34;&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#93;&lt;/span&gt;; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;On corporate network... Killing Program&#34;&lt;/span&gt;
    kill_program &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&amp;lt;programname&amp;gt;&#34;&lt;/span&gt;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;elif&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#91;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&lt;span style=&#34;color: #007800;&#34;&gt;$wifi_name&lt;/span&gt;&#34;&lt;/span&gt; = &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&amp;lt;home_wifi_name&amp;gt;&#34;&lt;/span&gt; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;&amp;#93;&lt;/span&gt;; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
    &lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;# Kill &amp;lt;program&amp;gt; if enabled and if on &amp;lt;home_wifi&amp;gt; and if Tunnelblick is running.&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Not on corporate network... Killing &amp;lt;program&amp;gt; if Tunnelblick is active.&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;!&lt;/span&gt; check_program &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Tunnelblick&#34;&lt;/span&gt; ; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;then&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Tunnelblick is active. Killing &amp;lt;program&amp;gt;&#34;&lt;/span&gt;
    kill_program &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;&amp;lt;program&amp;gt;&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;else&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;All good... Happy coding.&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;else&lt;/span&gt;
    log &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;No known Network...&#34;&lt;/span&gt;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;fi&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Now, the trick is, on OSX to only trigger this when your network changes. For this, you can have a &amp;#8216;launchd&amp;#8217; daemon, which is configured to watch three files which relate to a network being changed.&lt;/p&gt;

&lt;p&gt;The script sits under your ~/Library/LaunchAgents folder. Create something like, com.username.checknetwork.plist.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;?xml&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;version&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;1.0&#34;&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;encoding&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;UTF-8&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #00bbdd;&#34;&gt;&amp;lt;!DOCTYPE plist PUBLIC &#34;-//Apple Computer//DTD PLIST 1.0//EN&#34; \&lt;/span&gt;
&lt;span style=&#34;color: #00bbdd;&#34;&gt; &#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&#34;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;plist&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;version&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;1.0&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;dict&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Label&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ifup.ddns&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;LowPriorityIO&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;true&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ProgramArguments&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;array&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;/Users/username/scripts/ddns-update.sh&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/array&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;WatchPaths&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;array&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;/etc/resolv.conf&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;/Library/Preferences/SystemConfiguration/NetworkInterfaces.plist&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;/Library/Preferences/SystemConfiguration/com.apple.airport.preferences.plist&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/string&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/array&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;RunAtLoad&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/key&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;true&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/dict&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/plist&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Now, when you change your network, to whatever your corporate network is, you&amp;#8217;ll kill Sublime.&lt;/p&gt;

&lt;p&gt;Hope this helps somebody.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Jenkins Job DSL and Groovy goodness</title>
      <link>https://skarlso.github.io/2015/10/15/jenkins-job-dsl-and-groovy-goodness/</link>
      <pubDate>Thu, 15 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/10/15/jenkins-job-dsl-and-groovy-goodness/</guid>
      <description>&lt;p&gt;Hi Folks.&lt;/p&gt;

&lt;p&gt;Ever used &lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/Job+DSL+Plugin&#34; target=&#34;_blank&#34;&gt;Job DSL plugin&lt;/a&gt; for Jenkins? What is that you say? Well, it&amp;#8217;s TEH most awesome plug-in for Jenkins to have, because you can CODE your job configuration and put it under source control.&lt;/p&gt;

&lt;p&gt;Today, however, I&amp;#8217;m not going to write about that because the tutorials on Jenkins JOB DSL are very extensive and very well done. Anyone can pick them up.&lt;/p&gt;

&lt;p&gt;Today, I would like to write about a part of it which is even more interesting. And that is, extracting re-occurring parts in your job configurations.&lt;/p&gt;

&lt;p&gt;If you have jobs, which have a common part that is repeated everywhere, you usually have an urge to extracted that into one place, lest it changes and you have to go an apply the change everywhere. That&amp;#8217;s not very efficient. But how do you do that in something which looks like a JSON descriptor?&lt;/p&gt;

&lt;p&gt;Fret not, it is just Groovy. And being just groovy, you can use Groovy to implement parts of the job description and then apply that implementation to the job in the DSL.&lt;/p&gt;

&lt;p&gt;Suppose you have an email which you send after every job for which the DSL looks like this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;groovy&#34; style=&#34;font-family:monospace;&#34;&gt;job&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;MyTestJob&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
    description &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;&amp;lt;strong&amp;gt;GENERATED - do not modify&amp;lt;/strong&amp;gt;&#39;&lt;/span&gt;
    label&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;machine_label&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    logRotator&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;30&lt;/span&gt;, &lt;span style=&#34;color: #66cc66;&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #66cc66;&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #cc66cc;&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    parameters &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        stringParam&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;somestringparam&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;default_valye&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Description&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    wrappers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        timeout &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
            noActivity&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;600&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            abortBuild&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            failBuild&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            writeDescription&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Build failed due to timeout after {0} minutes&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
        &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    deliveryPipelineConfiguration&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Main&#34;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;MyTestJob&#34;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    wrappers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        preBuildCleanup &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
            deleteDirectories&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
        &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
        timestamps&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    triggers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        cron&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;H 12 * * 1,2&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    steps &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        batchFile&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;readFileFromWorkspace&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;relative/path/to/file&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
            publishers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
                wsCleanup&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                extendedEmail&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;email@address.com&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
                    configure &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt; node &lt;span style=&#34;color: #66cc66;&#34;&gt;-&amp;gt;&lt;/span&gt;
                        node / presendScript &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; readFileFromWorkspace&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;email_templates/emailtemplate.groovy&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                        node / replyTo &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;
                        node / contentType &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;default&#39;&lt;/span&gt;
                    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;StillUnstable&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Fixed&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Failure&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
            &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Now, that big chunk of email setting is copied into a bunch of files, which is pretty ugly. And once you try to change it, you&amp;#8217;ll have to change it everywhere. Also, the interesting bits here are those readFileFromWorkspace parts. Those allow us to export even larger chunks of the script into external files. Now, because the slave might be located somewhere else, you should not use new File(&amp;#8216;file&amp;#8217;).text in your job DSL. readFileFromWorkspace in the background does that, but applies correct way to the PATH it looks on for the file specified.&lt;/p&gt;

&lt;p&gt;Let&amp;#8217;s put this into a groovy script, shall we? Create a utilities folder where the DSL is and create a groovy file in it like this one:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;groovy&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color: #a1a100;&#34;&gt;utilities&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;class&lt;/span&gt; JobCommonTemplate &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;static&lt;/span&gt; &lt;span style=&#34;color: #993333;&#34;&gt;void&lt;/span&gt; addEmailTemplate&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;def&lt;/span&gt; job, &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;def&lt;/span&gt; dslFactory&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color: #aaaadd; font-weight: bold;&#34;&gt;String&lt;/span&gt; emailScript &lt;span style=&#34;color: #66cc66;&#34;&gt;=&lt;/span&gt; dslFactory.&lt;span style=&#34;color: #006600;&#34;&gt;readFileFromWorkspace&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;email_template/EmailTemplate.groovy&#34;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
        job.&lt;span style=&#34;color: #006600;&#34;&gt;with&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
            publishers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
                wsCleanup&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                extendedEmail&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;email@address.com&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
                    configure &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt; node &lt;span style=&#34;color: #66cc66;&#34;&gt;-&amp;gt;&lt;/span&gt;
                        node / presendScript &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; emailScript
                        node / replyTo &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;
                        node / contentType &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;default&#39;&lt;/span&gt;
                    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;StillUnstable&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Fixed&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                    trigger&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;triggerName: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Failure&#39;&lt;/span&gt;, subject: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_SUBJECT&#39;&lt;/span&gt;, body: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_CONTENT&#39;&lt;/span&gt;, replyTo: &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;$DEFAULT_REPLYTO&#39;&lt;/span&gt;, sendToDevelopers: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;, sendToRecipientList: &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;true&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
                &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
            &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
        &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;The function addEmailTemplate gets two parameters. A job, which is an implementation of a Job, and a dslFactory which is a DslFactory. That factory is an interface which defines our readFileFromWorkspace. Where do we get the implementation from then? That will be from the Job. Let&amp;#8217;s alter our job to apply this Groovy script.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;groovy&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color: #a1a100;&#34;&gt;utilities.JobCommonTemplate&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;def&lt;/span&gt; myJob &lt;span style=&#34;color: #66cc66;&#34;&gt;=&lt;/span&gt; job&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;MyTestJob&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
    description &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;&amp;lt;strong&amp;gt;GENERATED - do not modify&amp;lt;/strong&amp;gt;&#39;&lt;/span&gt;
    label&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;machine_label&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    logRotator&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;30&lt;/span&gt;, &lt;span style=&#34;color: #66cc66;&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #66cc66;&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color: #cc66cc;&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    parameters &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        stringParam&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;somestringparam&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;default_valye&#39;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Description&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    wrappers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        timeout &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
            noActivity&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #cc66cc;&#34;&gt;600&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            abortBuild&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            failBuild&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
            writeDescription&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;Build failed due to timeout after {0} minutes&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
        &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    deliveryPipelineConfiguration&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;Main&#34;&lt;/span&gt;, &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;MyTestJob&#34;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    wrappers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        preBuildCleanup &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
            deleteDirectories&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
        &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
        timestamps&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    triggers &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        cron&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;H 12 * * 1,2&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
    steps &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#123;&lt;/span&gt;
        batchFile&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;readFileFromWorkspace&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;relative/path/to/file&#39;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
JobCommonTemplate.&lt;span style=&#34;color: #006600;&#34;&gt;addEmailTemplate&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#40;&lt;/span&gt;myJob, &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;this&lt;/span&gt;&lt;span style=&#34;color: #66cc66;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Notice three things here.&lt;/p&gt;

&lt;p&gt;#1 =&amp;gt; &lt;strong&gt;import&lt;/strong&gt;. We import the script from utilities folder which we created and placed the script into it.&lt;/p&gt;

&lt;p&gt;#2 =&amp;gt; &lt;strong&gt;def myJob&lt;/strong&gt;. We create a variable which will contain our job&amp;#8217;s description.&lt;/p&gt;

&lt;p&gt;#3 =&amp;gt; &lt;strong&gt;this&lt;/strong&gt;. &amp;#8216;this&amp;#8217; will be the DslFactory. That&amp;#8217;s where we get our readFileFromWorkspace implementation.&lt;/p&gt;

&lt;p&gt;And that&amp;#8217;s it. We have extracted a part of our job which is re-occurring and we found our implementation for our readFileFromWorkspace. DslFactory has most of the things which you need in a job description, would you want to expand on this and extract other bits and pieces.&lt;/p&gt;

&lt;p&gt;Have fun, and happy coding!&lt;/p&gt;

&lt;p&gt;As always,&lt;/p&gt;

&lt;p&gt;Thanks for reading!&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to Aggregate Tests with Jenkins with Aggregate Plugin on non-relating jobs</title>
      <link>https://skarlso.github.io/2015/10/02/how-to-aggregate-tests-with-jenkins-with-aggregate-plugin-on-non-relating-jobs/</link>
      <pubDate>Fri, 02 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/10/02/how-to-aggregate-tests-with-jenkins-with-aggregate-plugin-on-non-relating-jobs/</guid>
      <description>

&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;Today, I would like to talk about something I came in contact with, and was hard to find a proper answer / solution for it.&lt;/p&gt;

&lt;p&gt;So I&amp;#8217;m writing this down to document my findings. Like the title says, this is about aggregating test result with Jenkins, using the plug-in provided. If you, like me, have a pipeline structure which do not work on the same artifact, but do have a upstream-downstream relationship, you will have a hard time configuring and making Aggregation work. So here is how, I fixed the issue.&lt;/p&gt;

&lt;h1 id=&#34;connection:8d940ee57e10d456fdd2ccfe653ed909&#34;&gt;Connection&lt;/h1&gt;

&lt;p&gt;In order for the aggregation to work, there needs to be an &lt;strong&gt;artifact connection&lt;/strong&gt; between the upstream and downstream projects. And that is the key. But if you don&amp;#8217;t have that, well, let&amp;#8217;s create one. I have a parent job configured like this one. =&amp;gt;&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;?xml&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;version&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;1.0&#39;&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;encoding&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;UTF-8&#39;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;actions&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;keepDependencies&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/keepDependencies&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;properties&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;scm&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;class&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;hudson.scm.NullSCM&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;canRoam&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/canRoam&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;disabled&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/disabled&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;blockBuildWhenDownstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/blockBuildWhenDownstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;blockBuildWhenUpstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/blockBuildWhenUpstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;triggers&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;concurrentBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/concurrentBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;builders&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;publishers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.tasks.test.AggregatedTestResultPublisher&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;junit@1.9&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;includeFailedBuilds&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/includeFailedBuilds&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.tasks.test.AggregatedTestResultPublisher&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.tasks.BuildTrigger&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;childProjects&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ChildJob&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/childProjects&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;threshold&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;name&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;SUCCESS&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/name&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;ordinal&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/ordinal&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;color&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;BLUE&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/color&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;completeBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/completeBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/threshold&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.tasks.BuildTrigger&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/publishers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;buildWrappers&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, it&amp;#8217;s pretty basic. It isn&amp;#8217;t much. It&amp;#8217;s supposed to be a trigger job for downstream projects. You could have this one at anything. Maybe scheduled, or have some kind of gathering here of some results, and so on and so forth. The end part of the configuration is the interesting bit.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/parentJobConfig1.png&#34;&gt;&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/parentJobConfig1-150x150.png&#34; alt=&#34;parentJobConfig&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-616&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Aggregation is setup, but it won&amp;#8217;t work, because despite there being an upstream/downstream relationship, there also needs to be an artifact connection which uses &lt;strong&gt;fingerprinting&lt;/strong&gt;. Fingerprinting for Jenkins is needed in oder to make the physical connection between the jobs via hashes. This is what you will get if that is not setup:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/statusBeforeFingerprint.png&#34;&gt;&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/statusBeforeFingerprint-150x150.png&#34; alt=&#34;statusBeforeFingerprint&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-615&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But if there is no artifact between them, what do you do? You create one.&lt;/p&gt;

&lt;h1 id=&#34;the-artifact-which-binds-us:8d940ee57e10d456fdd2ccfe653ed909&#34;&gt;The Artifact which Binds Us&lt;/h1&gt;

&lt;p&gt;Adding a simple &lt;strong&gt;timestamp file&lt;/strong&gt; is enough to make a connection. So let&amp;#8217;s do that. This is how it will look like =&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/statusAfterFingerprint.png&#34;&gt;&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/statusAfterFingerprint-150x150.png&#34; alt=&#34;statusAfterFingerprint&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-614&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The important bits about this picture are the small echo which simply creates a file which will contain some time stamp data, and after that the archive artifact, which also fingerprints that file, marking it with a hash which identifies this job as using that particular artifact.&lt;/p&gt;

&lt;p&gt;Now, the next step is to create the connection. For that, you need the artifact copy plugin =&amp;gt; &lt;a href=&#34;https://wiki.jenkins-ci.org/display/JENKINS/Copy+Artifact+Plugin&#34; target=&#34;_blank&#34;&gt;Copy Artifact Plugin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;With this, we create the childs configuration like this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;?xml&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;version&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;1.0&#39;&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;encoding&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#39;UTF-8&#39;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;?&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;actions&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;keepDependencies&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/keepDependencies&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;properties&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;scm&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;class&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;hudson.plugins.git.GitSCM&#34;&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;git@2.4.0&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;configVersion&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;2&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/configVersion&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;userRemoteConfigs&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.plugins.git.UserRemoteConfig&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;url&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;https://github.com/Skarlso/DataMung.git&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/url&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.plugins.git.UserRemoteConfig&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/userRemoteConfigs&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;branches&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.plugins.git.BranchSpec&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;name&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;*/master&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/name&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.plugins.git.BranchSpec&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/branches&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;doGenerateSubmoduleConfigurations&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/doGenerateSubmoduleConfigurations&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;submoduleCfg&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;class&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;list&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;extensions&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/scm&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;canRoam&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/canRoam&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;disabled&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/disabled&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;blockBuildWhenDownstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/blockBuildWhenDownstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;blockBuildWhenUpstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/blockBuildWhenUpstreamBuilding&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;triggers&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;concurrentBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/concurrentBuild&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;builders&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.plugins.gradle.Gradle&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;gradle@1.24&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;switches&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/switches&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;tasks&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;assemble check&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/tasks&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;rootBuildScriptDir&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/rootBuildScriptDir&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;buildFile&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;build.gradle&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/buildFile&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;gradleName&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;(Default)&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/gradleName&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;useWrapper&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/useWrapper&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;makeExecutable&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/makeExecutable&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;fromRootBuildScriptDir&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/fromRootBuildScriptDir&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;useWorkspaceAsHome&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/useWorkspaceAsHome&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.plugins.gradle.Gradle&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.plugins.copyartifact.CopyArtifact&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;copyartifact@1.36&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ParentJob&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;filter&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;timestamp.data&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/filter&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;target&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/target&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;excludes&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/excludes&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;selector&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;class&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;hudson.plugins.copyartifact.TriggeredBuildSelector&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
        &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;upstreamFilterStrategy&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;UseGlobalSetting&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/upstreamFilterStrategy&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/selector&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;doNotFingerprintArtifacts&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/doNotFingerprintArtifacts&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.plugins.copyartifact.CopyArtifact&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/builders&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;publishers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.tasks.junit.JUnitResultArchiver&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;junit@1.9&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;testResults&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;build/test-results/*.xml&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/testResults&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;keepLongStdio&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/keepLongStdio&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;healthScaleFactor&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;1.0&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/healthScaleFactor&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.tasks.junit.JUnitResultArchiver&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/publishers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;buildWrappers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;hudson.plugins.ws__cleanup.PreBuildCleanup&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;plugin&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;ws-cleanup@0.28&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;deleteDirs&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;false&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/deleteDirs&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;cleanupParameter&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/cleanupParameter&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
      &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;externalDelete&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/externalDelete&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/hudson.plugins.ws__cleanup.PreBuildCleanup&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/buildWrappers&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/project&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Again, the improtant bit is this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/childJobWithArtifactCopy.png&#34;&gt;&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/childJobWithArtifactCopy-150x150.png&#34; alt=&#34;childJobWithArtifactCopy&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-611&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After the copy is setup, we launch our parent job and if everything is correct, you should see something like this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/resultAfterArtifactCopySuccess.png&#34;&gt;&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/resultAfterArtifactCopySuccess-150x150.png&#34; alt=&#34;resultAfterArtifactCopySuccess&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-613&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;wrapping-it-up:8d940ee57e10d456fdd2ccfe653ed909&#34;&gt;Wrapping it Up&lt;/h1&gt;

&lt;p&gt;For final words, important bit to take away from this is that you need an &lt;strong&gt;artifact connection between the jobs&lt;/strong&gt; to make this work. Whatever your downstream / upstream connection is, it doesn&amp;#8217;t matter. Also, there can be a problem that you have everything set up, and there are artifacts which bind the jobs together but you still can&amp;#8217;t see the results, then your best option is to specify the jobs BY NAME in the aggregate test plug-in like this:&lt;/p&gt;

&lt;p&gt;[&lt;img src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/aggregatingByName-150x150.png&#34; alt=&#34;aggregatingByName&#34; width=&#34;150&#34; height=&#34;150&#34; class=&#34;alignnone size-thumbnail wp-image-622&#34; /&gt;][6]&lt;/p&gt;

&lt;p&gt;I know this is a pain if there are multiple jobs, but at least, jenkins is providing you with Autoexpande once you start typing.&lt;/p&gt;

&lt;p&gt;Of course this also works with multiple downstream jobs if they copy the artifact to themselves.&lt;/p&gt;

&lt;p&gt;Any questions, please feel free to comment and I will answer to the best of my knowledge.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;

&lt;p&gt;[6]: &lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/aggregatingByName.png&#34;&gt;http://ramblingsofaswtester.com/wp-content/uploads/2015/10/aggregatingByName.png&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Selenium Testing with Packer and Vagrant</title>
      <link>https://skarlso.github.io/2015/07/16/selenium-testing-with-packer-and-vagrant/</link>
      <pubDate>Thu, 16 Jul 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/07/16/selenium-testing-with-packer-and-vagrant/</guid>
      <description>

&lt;p&gt;So, recently, the tester team talked to me, that their build takes too long, and why is that? A quick look at their configuration and build scripts showed me, that they are actually using a vagrant box, which never gets destroyed or re-started at least. To remedy this problem, I came up with the following solution&amp;#8230;&lt;/p&gt;

&lt;h1 id=&#34;same-old-8230:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Same old&amp;#8230;&lt;/h1&gt;

&lt;p&gt;Same as in my previous post, we are going to build a Windows Machine for this purpose. The only addition to my previous settings, will be some Java install, downloading selenium and installing Chrome, and Firefox.&lt;/p&gt;

&lt;h1 id=&#34;installation:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Installation&lt;/h1&gt;

&lt;h4 id=&#34;answer-file:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Answer File&lt;/h4&gt;

&lt;p&gt;Here is the configuration and setup of Windows before the provision phase.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;...
               &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;SynchronousCommand&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;wcm:action&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;add&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;cmd.exe /c C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -File a:\jdk_inst.ps1 -AutoStart&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Install Java&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;103&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                  &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;RequiresUserInput&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/RequiresUserInput&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
               &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/SynchronousCommand&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
...&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;This is the part were I&amp;#8217;m installing Java. The script for the jdk_inst.ps1 is in my previous post, but I&amp;#8217;ll paste it here for ease of read.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #0000FF;&#34;&gt;function&lt;/span&gt; LogWrite &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
   &lt;span style=&#34;color: #0000FF;&#34;&gt;Param&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color: #008080;&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
   &lt;span style=&#34;color: #800080;&#34;&gt;$now&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Get-Date&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-format&lt;/span&gt; s
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Add-Content&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-value&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$now $logstring&#34;&lt;/span&gt;
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\jdk-install.log&#34;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_VER&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;7u75&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_FULL_VER&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;7u75-b13&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_PATH&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;1.7.0_75&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$source86&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://download.oracle.com/otn-pub/java/jdk/$JDK_FULL_VER/jdk-$JDK_VER-windows-i586.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$source64&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://download.oracle.com/otn-pub/java/jdk/$JDK_FULL_VER/jdk-$JDK_VER-windows-x64.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\$JDK_VER-x86.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\$JDK_VER-x64.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;new-object&lt;/span&gt; System.Net.WebClient
&lt;span style=&#34;color: #800080;&#34;&gt;$cookie&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;oraclelicense=accept-securebackup-cookie&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.Headers.Add&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Net.HttpRequestHeader&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::Cookie&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$cookie&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Setting Execution Policy level to Bypass&#34;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Set-ExecutionPolicy&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Scope&lt;/span&gt; CurrentUser &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ExecutionPolicy&lt;/span&gt; Bypass &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Force&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Checking if Java is already installed&#39;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #FF0000;&#34;&gt;-Or&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;No need to Install Java&#39;&lt;/span&gt;
    Exit
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading x86 to $destination86&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.downloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source86&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
  &lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
      LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Downloading $destination86 failed&#34;&lt;/span&gt;
      Exit
  &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading x64 to $destination64&#39;&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.downloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source64&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
  &lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
      LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Downloading $destination64 failed&#34;&lt;/span&gt;
      Exit
  &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installing JDK-x64&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc1&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$destination64&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/s REBOOT=ReallySuppress&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc1&lt;/span&gt;.waitForExit&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installation Done.&#39;&lt;/span&gt;
&amp;nbsp;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installing JDK-x86&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc2&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$destination86&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/s REBOOT=ReallySuppress&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc2&lt;/span&gt;.waitForExit&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installtion Done.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_ is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.GetType().FullName is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.GetType&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.FullName
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception.GetType().FullName is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception.GetType&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.FullName
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception.Message is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception.Message
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #FF0000;&#34;&gt;-Or&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Java installed successfully.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span style=&#34;color: #0000FF;&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Java install Failed!&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Setting up Path variables.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Environment&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::SetEnvironmentVariable&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;JAVA_HOME&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java\jdk$JDK_PATH&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Machine&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Environment&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::SetEnvironmentVariable&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;PATH&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Env&lt;/span&gt;:Path &lt;span style=&#34;color: pink;&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;;c:\Program Files (x86)\Java\jdk$JDK_PATH\bin&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Machine&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Done. Goodbye.&#39;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;This installs both x86 and 64 bit version of Java.&lt;/p&gt;

&lt;h1 id=&#34;provision:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Provision&lt;/h1&gt;

&lt;p&gt;I decided to put these into the provision phase to get log messages written out properly. Because in the unattended file, you can&amp;#8217;t see any progress.&lt;/p&gt;

&lt;h4 id=&#34;chrome-and-firefox:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Chrome And Firefox&lt;/h4&gt;

&lt;p&gt;Installing these two proved a little bit more difficult. Chrome didn&amp;#8217;t really like me to download their installer without accepting something first, like Java. Luckily, after a LOT of digging, I found a chrome installer which lets you install silently. Here is the script to install the two.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #0000FF;&#34;&gt;function&lt;/span&gt; LogWrite &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #0000FF;&#34;&gt;Param&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color: #008080;&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$now&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Get-Date&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-format&lt;/span&gt; s
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Add-Content&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-value&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$now $logstring&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #0000FF;&#34;&gt;function&lt;/span&gt; CheckLocation &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #0000FF;&#34;&gt;Param&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color: #008080;&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$location&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt;  &lt;span style=&#34;color: #800080;&#34;&gt;$location&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color: #0000FF;&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.IO.FileNotFoundException&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Could not download to Destination $location.&#34;&lt;/span&gt;
    &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\chrome-firefox-install.log&#34;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$chrome_source&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://dl.google.com/chrome/install/375.126/chrome_installer.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$chrome_destination&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\chrome_installer.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$firefox_source&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;https://download-installer.cdn.mozilla.net/pub/firefox/releases/39.0/win32/hu/Firefox%20Setup%2039.0.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$firefox_destination&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\firefoxinstaller.exe&#34;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting to download files.&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading Chrome...&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;New-Object&lt;/span&gt; System.Net.WebClient&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.DownloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$chrome_source&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$chrome_destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    CheckLocation &lt;span style=&#34;color: #800080;&#34;&gt;$chrome_destination&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Done...&#39;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading Firefox...&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;New-Object&lt;/span&gt; System.Net.WebClient&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.DownloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$firefox_source&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$firefox_destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    CheckLocation &lt;span style=&#34;color: #800080;&#34;&gt;$firefox_destination&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Exception during download. Probable cause could be that the directory or the file didn&#39;t exist.&#34;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting firefox install process.&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$firefox_destination&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;-ms&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Exception during install process.&#39;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting chrome install process.&#39;&lt;/span&gt;
&amp;nbsp;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$chrome_destination&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/silent /install&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Exception during install process.&#39;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;All done. Goodbye.&#39;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;They both install silently. Pretty neat.&lt;/p&gt;

&lt;h4 id=&#34;selenium:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Selenium&lt;/h4&gt;

&lt;p&gt;This only has to be downloaded, so this is pretty simple. Vagrant will handle the startup of course when it does a vagrant up.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #0000FF;&#34;&gt;function&lt;/span&gt; LogWrite &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
   &lt;span style=&#34;color: #0000FF;&#34;&gt;Param&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color: #008080;&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
   &lt;span style=&#34;color: #800080;&#34;&gt;$now&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Get-Date&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-format&lt;/span&gt; s
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Add-Content&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-value&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$now $logstring&#34;&lt;/span&gt;
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\selenium-install.log&#34;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$source&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://selenium-release.storage.googleapis.com/2.46/selenium-server-standalone-2.46.0.jar&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\selenium-server.jar&#34;&lt;/span&gt;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting to download selenium file.&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;New-Object&lt;/span&gt; System.Net.WebClient&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.DownloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Exception during download. Probable cause could be that the directory or the file didn&#39;t exist.&#34;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Download done. Checking if file exists.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading dotnet Failed!&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span style=&#34;color: #0000FF;&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Download successful.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#39;All done. Goodbye.&#39;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Straightforward.&lt;/p&gt;

&lt;h4 id=&#34;the-packer-json-file:f7526662c18d742c428b0293edfcb3e4&#34;&gt;The Packer Json File&lt;/h4&gt;

&lt;p&gt;So putting this all together, here is the Packer JSON file for this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;json&#34; style=&#34;font-family:monospace;&#34;&gt;{
      &#34;variables&#34;: {
      &#34;vm_name&#34;: &#34;win7x64selenium&#34;,
      &#34;output_dir&#34;: &#34;output_win7_x64_selenium&#34;,
      &#34;vagrant_box_output&#34;: &#34;box_output&#34;,
      &#34;cpu_number&#34;: &#34;2&#34;,
      &#34;memory_size&#34;: &#34;4096&#34;,
      &#34;machine_type&#34;: &#34;pc-1.2&#34;,
      &#34;accelerator&#34;: &#34;kvm&#34;,
      &#34;disk_format&#34;: &#34;qcow2&#34;,
      &#34;disk_interface&#34;: &#34;virtio&#34;,
      &#34;net_device&#34;: &#34;virtio-net&#34;,
      &#34;cpu_model&#34;: &#34;host&#34;,
      &#34;disk_cache&#34;: &#34;writeback&#34;,
      &#34;disk_io&#34;: &#34;native&#34;
   },
&amp;nbsp;
  &#34;builders&#34;: [
    {
      &#34;type&#34;: &#34;virtualbox-iso&#34;,
      &#34;iso_url&#34;: &#34;/home/user/vms/windows7.iso&#34;,
      &#34;iso_checksum_type&#34;: &#34;sha1&#34;,
      &#34;iso_checksum&#34;: &#34;0BCFC54019EA175B1EE51F6D2B207A3D14DD2B58&#34;,
      &#34;headless&#34;: true,
      &#34;boot_wait&#34;: &#34;2m&#34;,
      &#34;ssh_username&#34;: &#34;vagrant&#34;,
      &#34;ssh_password&#34;: &#34;vagrant&#34;,
      &#34;ssh_wait_timeout&#34;: &#34;8h&#34;,
      &#34;shutdown_command&#34;: &#34;shutdown /s /t 10 /f /d p:4:1 /c \&#34;Packer Shutdown\&#34;&#34;,
      &#34;guest_os_type&#34;: &#34;Windows7_64&#34;,
      &#34;disk_size&#34;: 61440,
      &#34;floppy_files&#34;: [
        &#34;./answer_files/7-selenium/Autounattend.xml&#34;,
        &#34;./scripts/dis-updates.ps1&#34;,
        &#34;./scripts/microsoft-updates.bat&#34;,
        &#34;./scripts/openssh.ps1&#34;,
        &#34;./scripts/jdk_inst.ps1&#34;
      ],
      &#34;vboxmanage&#34;: [
        [
          &#34;modifyvm&#34;,
          &#34;{{.Name}}&#34;,
          &#34;--memory&#34;,
          &#34;{{user `memory_size`}}&#34;
        ],
        [
          &#34;modifyvm&#34;,
          &#34;{{.Name}}&#34;,
          &#34;--cpus&#34;,
          &#34;{{user `cpu_number`}}&#34;
        ]
      ]
    }
  ],
  &#34;provisioners&#34;: [
    {
      &#34;type&#34;: &#34;powershell&#34;,
      &#34;scripts&#34; : [
        &#34;./scripts/install-selenium-server.ps1&#34;,
        &#34;./scripts/install-chrome-firefox.ps1&#34;
      ]
    },{
      &#34;type&#34;: &#34;shell&#34;,
      &#34;remote_path&#34;: &#34;/tmp/script.bat&#34;,
      &#34;execute_command&#34;: &#34;{{.Vars}} cmd /c C:/Windows/Temp/script.bat&#34;,
      &#34;scripts&#34;: [
        &#34;./scripts/vm-guest-tools.bat&#34;,
        &#34;./scripts/vagrant-ssh.bat&#34;,
        &#34;./scripts/rsync.bat&#34;,
        &#34;./scripts/enable-rdp.bat&#34;
      ]
    }
  ],
    &#34;post-processors&#34;: [
    {
      &#34;type&#34;: &#34;vagrant&#34;,
      &#34;keep_input_artifact&#34;: false,
      &#34;output&#34;: &#34;{{user `vm_name`}}_{{.Provider}}.box&#34;,
      &#34;vagrantfile_template&#34;: &#34;vagrantfile-template&#34;
    }
    ]
}&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;h4 id=&#34;additional-software:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Additional Software&lt;/h4&gt;

&lt;p&gt;This is not done here. Obviously, in order to test your stuff, you first need to install your software on this box. Ideally, everything you need should be in the code you clone to this box, and should be contained mostly. And your application deployment should take core of that. But, if you require something like a DB, postgres, oracle, whatnot, than this is the place where you would install all that.&lt;/p&gt;

&lt;h1 id=&#34;vagrant-and-using-the-packer-box:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Vagrant and Using the Packer Box&lt;/h1&gt;

&lt;p&gt;Now, this has been interesting so far, but how do you actually go about using this image? That&amp;#8217;s the real question now, isn&amp;#8217;t it? Having a box, just sitting on a shared folder, doesn&amp;#8217;t do you too much good. So let&amp;#8217;s create a Jenkins job, which utilizes this box in a job which runs a bunch of tests for some application.&lt;/p&gt;

&lt;h4 id=&#34;vagrantfile:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Vagrantfile&lt;/h4&gt;

&lt;p&gt;Your vagrant file, could either be generated automatically, under source control ( which is preferred ) or sitting somewhere entirely elsewhere. In any case, it would look something like this.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;ruby&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# -*- mode: ruby -*-&lt;/span&gt;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# vi: set ft=ruby :&lt;/span&gt;
&amp;nbsp;
VAGRANTFILE_API_VERSION = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;2&#34;&lt;/span&gt;
&amp;nbsp;
Vagrant.&lt;span style=&#34;color:#9900CC;&#34;&gt;configure&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#40;&lt;/span&gt;VAGRANTFILE_API_VERSION&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;config&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;
&amp;nbsp;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provider&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;virtualbox&#34;&lt;/span&gt;
&amp;nbsp;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;define&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;selenium-box&#34;&lt;/span&gt; &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;vs2013&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;
    vs2013.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;box&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;windows7-x64-04-selenium&#34;&lt;/span&gt;
    vs2013.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;box_url&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;path/to/your/share/win7x64_selenium_virtualbox.box&#34;&lt;/span&gt;
  &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;end&lt;/span&gt;
&amp;nbsp;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;env&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;enable&lt;/span&gt;
&amp;nbsp;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;guest&lt;/span&gt; = &lt;span style=&#34;color:#ff3333; font-weight:bold;&#34;&gt;:windows&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;communicator&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;winrm&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;winrm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;username&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;vagrant&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;winrm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;password&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;vagrant&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;windows&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;set_work_network&lt;/span&gt; = &lt;span style=&#34;color:#0000FF; font-weight:bold;&#34;&gt;true&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;network&lt;/span&gt; &lt;span style=&#34;color:#ff3333; font-weight:bold;&#34;&gt;:forwarded_port&lt;/span&gt;, guest: &lt;span style=&#34;color:#006666;&#34;&gt;3389&lt;/span&gt;, host: ENV&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;RDESKTOP_PORT&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;, host_ip: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;0.0.0.0&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;network&lt;/span&gt; &lt;span style=&#34;color:#ff3333; font-weight:bold;&#34;&gt;:forwarded_port&lt;/span&gt;, guest: &lt;span style=&#34;color:#006666;&#34;&gt;5985&lt;/span&gt;, host: &lt;span style=&#34;color:#006666;&#34;&gt;5985&lt;/span&gt;, id: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;winrm&#34;&lt;/span&gt;, auto_correct: &lt;span style=&#34;color:#0000FF; font-weight:bold;&#34;&gt;true&lt;/span&gt;, host_ip: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;0.0.0.0&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;network&lt;/span&gt; &lt;span style=&#34;color:#ff3333; font-weight:bold;&#34;&gt;:forwarded_port&lt;/span&gt;, guest: &lt;span style=&#34;color:#006666;&#34;&gt;9991&lt;/span&gt;, host: &lt;span style=&#34;color:#006666;&#34;&gt;9991&lt;/span&gt;, id: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;selenium&#34;&lt;/span&gt;, auto_correct: &lt;span style=&#34;color:#0000FF; font-weight:bold;&#34;&gt;true&lt;/span&gt;, host_ip: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;0.0.0.0&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provider&lt;/span&gt; &lt;span style=&#34;color:#ff3333; font-weight:bold;&#34;&gt;:virtualbox&lt;/span&gt; &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;vbox&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;
    vbox.&lt;span style=&#34;color:#9900CC;&#34;&gt;gui&lt;/span&gt; = &lt;span style=&#34;color:#0000FF; font-weight:bold;&#34;&gt;false&lt;/span&gt;
    vbox.&lt;span style=&#34;color:#9900CC;&#34;&gt;memory&lt;/span&gt; = &lt;span style=&#34;color:#006666;&#34;&gt;4096&lt;/span&gt;
    vbox.&lt;span style=&#34;color:#9900CC;&#34;&gt;cpus&lt;/span&gt; = &lt;span style=&#34;color:#006666;&#34;&gt;2&lt;/span&gt;
  &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;end&lt;/span&gt;
&amp;nbsp;
&amp;nbsp;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;winrm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;max_tries&lt;/span&gt; = &lt;span style=&#34;color:#006666;&#34;&gt;10&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;synced_folder&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;.&#34;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/vagrant&#34;&lt;/span&gt;, type: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;rsync&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provision&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;shell&#34;&lt;/span&gt;, path: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;init.bat&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provision&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;shell&#34;&lt;/span&gt;, path: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;utils_inst.bat&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provision&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;shell&#34;&lt;/span&gt;, path: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;jenkins_reg.ps1&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provision&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;shell&#34;&lt;/span&gt;, path: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;start_selenium.bat&#34;&lt;/span&gt;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;end&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Easy, no? Here is the script to start selenium.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;batch&#34; style=&#34;font-family:monospace;&#34;&gt;    java -jar c:\Windows\Temp\selenium-server.jar -Dhttp.proxyPort=9991&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Straight forward. We also are forwarding the port on which Selenium is running in order for the test to see it.&lt;/p&gt;

&lt;h4 id=&#34;the-jenkins-job:f7526662c18d742c428b0293edfcb3e4&#34;&gt;The Jenkins Job&lt;/h4&gt;

&lt;p&gt;The job can be anything. This is actually too large to cover here. It could be a gradle job, a maven job, an ant, a nant &amp;#8211; or whatever is running the test -, job; it&amp;#8217;s up to you.&lt;/p&gt;

&lt;p&gt;Just make sure that before the test runs, do a &lt;strong&gt;vagrant up&lt;/strong&gt; and after the test finishes, in an ALWAYS TO BE EXECUTED HOOK -like gradle&amp;#8217;s finalizedBy , call a &lt;strong&gt;vagrant destroy&lt;/strong&gt;. This way, your test will always run on a clean instance that has the necessary stuff on it.&lt;/p&gt;

&lt;h1 id=&#34;closing-words:f7526662c18d742c428b0293edfcb3e4&#34;&gt;Closing words&lt;/h1&gt;

&lt;p&gt;So, there you have it. It&amp;#8217;s relatively simple. Tying this all into your infrastructure might prove difficult though depending on how rigid your deployment is. But it will always help you make your tests a bit more robust.&lt;/p&gt;

&lt;p&gt;Also, you could run the whole deployment and test phase on a vagrant box, from the start, which is tied to jenkins as a slave and gets started when the job starts and destroyed when the job ends. That way you wouldn&amp;#8217;t have to create a, box in a box running on a box, kind of effect.&lt;/p&gt;

&lt;p&gt;Thanks for reading,&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Packer 0.8.1.</title>
      <link>https://skarlso.github.io/2015/07/01/packer-0-8-1/</link>
      <pubDate>Wed, 01 Jul 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/07/01/packer-0-8-1/</guid>
      <description>&lt;p&gt;Previously I wrote that the scripts I&amp;#8217;m writing, are failing because Packer hangs.&lt;/p&gt;

&lt;p&gt;Apparently, this was a known issue. And apparently, I was using an older version, 0.7.5. After I updated everything is working wonderfully!!!&lt;/p&gt;

&lt;p&gt;And for my thanks, here is an updated PowerShell script for provisioning my dotnet stuff.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://download.microsoft.com/download/1/6/7/167F0D79-9317-48AE-AEDB-17120579F8E2/NDP451-KB2858728-x86-x64-AllOS-ENU.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\dotnet.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting to download dotnet file.&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;New-Object&lt;/span&gt; System.Net.WebClient&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.DownloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Exception during download. Probable cause could be that the directory or the file didn&#39;t exist.&#34;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Download done. Checking if file exists.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading dotnet Failed!&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; &lt;span style=&#34;color: #0000FF;&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Download successful.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Starting install process.&#39;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$source&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/q /norestart&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;Exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Exception during install process.&#39;&lt;/span&gt;
  &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;All done. Goodbye.&#39;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Thanks for reading!&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Powershell can also be nice -Or Installing Java silently and waiting</title>
      <link>https://skarlso.github.io/2015/06/30/powershell-can-also-be-nice-or-installing-java-silently-and-waiting/</link>
      <pubDate>Tue, 30 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/06/30/powershell-can-also-be-nice-or-installing-java-silently-and-waiting/</guid>
      <description>&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;Today, I would like to show you a small script. It installs Java JDK, both version, x86 and 64 bit, silently, and wait for that process to finish.&lt;/p&gt;

&lt;p&gt;The wait is necessary because /s on a java install has the nasty habit of running in the background. If you are using a .bat file, &lt;strong&gt;you shouldn&amp;#8217;t&lt;/strong&gt;, than you would use something like: start /w jdk-setup.exe /s. This gets it done, but is ugly. Also, if you are using Packer and PowerShell provisioning, you might want to set up some environment variables as well for the next script. And you want that property to be available and you don&amp;#8217;t want to mess it up with setting a path into a file and then re-setting your path on the begin of your other script. Or pass it around with Packer. No. Use a proper PowerShell script. Learn it. It&amp;#8217;s not that hard. Be a professional. Don&amp;#8217;t hack something together for the next person to suffer at.&lt;/p&gt;

&lt;p&gt;Here is how I did it. Hope it helps somebody out.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_VER&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;7u75&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_FULL_VER&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;7u75-b13&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$JDK_PATH&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;1.7.0_75&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$source86&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://download.oracle.com/otn-pub/java/jdk/$JDK_FULL_VER/jdk-$JDK_VER-windows-i586.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$source64&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;http://download.oracle.com/otn-pub/java/jdk/$JDK_FULL_VER/jdk-$JDK_VER-windows-x64.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\vagrant\$JDK_VER-x86.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\vagrant\$JDK_VER-x64.exe&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;new-object&lt;/span&gt; System.Net.WebClient
&lt;span style=&#34;color: #800080;&#34;&gt;$cookie&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;oraclelicense=accept-securebackup-cookie&#34;&lt;/span&gt;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.Headers.Add&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Net.HttpRequestHeader&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::Cookie&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$cookie&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Checking if Java is already installed&#39;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #FF0000;&#34;&gt;-Or&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;No need to Install Java&#39;&lt;/span&gt;
    Exit
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading x86 to $destination86&#39;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.downloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source86&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination86&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Downloading $destination86 failed&#34;&lt;/span&gt;
    Exit
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Downloading x64 to $destination64&#39;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #800080;&#34;&gt;$client&lt;/span&gt;.downloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$source64&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$destination64&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Downloading $destination64 failed&#34;&lt;/span&gt;
    Exit
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&amp;nbsp;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installing JDK-x64&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc1&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$destination64&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/s REBOOT=ReallySuppress&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc1&lt;/span&gt;.waitForExit&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installation Done.&#39;&lt;/span&gt;
&amp;nbsp;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installing JDK-x86&#39;&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc2&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$destination86&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/s REBOOT=ReallySuppress&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
    &lt;span style=&#34;color: #800080;&#34;&gt;$proc2&lt;/span&gt;.waitForExit&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Installtion Done.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;exception&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;write-host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_ is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;write-host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.GetType().FullName is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.GetType&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.FullName
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;write-host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;write-host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception.GetType().FullName is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception.GetType&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.FullName
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;write-host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;$_.Exception.Message is&#39;&lt;/span&gt; &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception.Message
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color: #0000FF;&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #FF0000;&#34;&gt;-Or&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Test-Path&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files\Java&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Java installed successfully.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Setting up Path variables.&#39;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Environment&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::SetEnvironmentVariable&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;JAVA_HOME&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;c:\Program Files (x86)\Java\jdk$JDK_PATH&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Machine&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;System.Environment&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;::SetEnvironmentVariable&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#34;PATH&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Env&lt;/span&gt;:Path &lt;span style=&#34;color: pink;&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;;c:\Program Files (x86)\Java\jdk$JDK_PATH\bin&#34;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Machine&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;Done. Goodbye.&#39;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Now, there is room for improvement here. Like checking exit code, doing something extra after a failed exit. Throwing an exception, and so on and so forth. But this is a much needed improvement from calling a BAT file.&lt;/p&gt;

&lt;p&gt;And you would use this in a Packer JSON file like this..&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;json&#34; style=&#34;font-family:monospace;&#34;&gt;{
      &#34;type&#34;: &#34;powershell&#34;,
      &#34;scripts&#34;: [
        &#34;./scripts/jdk_inst.ps1&#34;
      ]
}&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Easy. And at the end, the System.Environment actually writes out into the registry permanently so no need to pass it around in a file or something ugly like that.&lt;/p&gt;

&lt;p&gt;Hope this helps somebody.&lt;/p&gt;

&lt;p&gt;Thanks for reading.&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The Packer, The Windows, and the Vagrant box</title>
      <link>https://skarlso.github.io/2015/06/27/the-packer-the-windows-and-the-vagrant-box/</link>
      <pubDate>Sat, 27 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/06/27/the-packer-the-windows-and-the-vagrant-box/</guid>
      <description>

&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;Today, I would like to write about something close to my heart recently. I&amp;#8217;ve been fiddling with Packer, Windows and Vagrant these days. Trying to get a Windows box up in running is a pain in the arse though, so I thought I share my pain with you nice folks out there. Let&amp;#8217;s begin.&lt;/p&gt;

&lt;h1 id=&#34;setup:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Setup&lt;/h1&gt;

&lt;p&gt;First things first. You need &lt;a href=&#34;https://packer.io/&#34; target=&#34;_blank&#34;&gt;Packer&lt;/a&gt;, and &lt;a href=&#34;https://www.vagrantup.com/&#34; target=&#34;_blank&#34;&gt;Vagrant&lt;/a&gt; obviously. I&amp;#8217;ll leave the install up to you. Next, you should clone this git repo =&amp;gt; &lt;a href=&#34;https://github.com/joefitzgerald/packer-windows&#34; target=&#34;_blank&#34;&gt;Packer Windows Plugin&lt;/a&gt;. This plugin contains all the files necessary to get, install, and provision Windows boxes. Luckily, some very nice and clever folks, figured out a lot of things about how to install stuff on Windows. And given that people at Microsoft realised that sys admins would like to install stuff remotely, there are a bunch of forums and places where you can search for how to install software without user interaction. And this is the keyword you should look for =&amp;gt; &lt;strong&gt;unattended Windows install&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;This will lead you further into the bowls of Windows technology and silent / quiet installs all over the place.&lt;/p&gt;

&lt;h1 id=&#34;packer-and-answer-files:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Packer and Answer Files&lt;/h1&gt;

&lt;p&gt;When it comes to installing software on Windows, you have quite a few obstacles to overtake. One of the biggest obstacle you are facing, are restarts. Windows has a special place in hell for that. Every time you install something important which requires system libraries or other kind of configuration which &amp;#8220;will only take effect after you restart Windows&amp;#8221; you have to do a restart. Now, a little background on how Packer interacts with Windows. At the moment, it uses OpenSSH to talk to the box which has to be the last which comes up. If it looses connection to openssh because, I don&amp;#8217;t know, it restarted itself, you loose communication to the box, and the setup process stops in mid tracks.&lt;/p&gt;

&lt;p&gt;If you read about that in an earlier attempt to overtake this, you saw that you could use time-outs. You could kill ssh process which presumably makes packer do an attempt to start a new connection. If you are like me, you experienced that Packer does indeed NOT re-try. Because the previous task couldn&amp;#8217;t finish, the restart killed the ssh service which could tell Packer that the previous task, an install for example, has finished. Hence, Packer will stay there and wait for that task to complete; which will never happen at this point.&lt;/p&gt;

&lt;p&gt;What can we do? Enter the world of &lt;a href=&#34;https://technet.microsoft.com/en-us/library/cc749113(v=ws.10).aspx&#34; target=&#34;_blank&#34;&gt;Answer Files&lt;/a&gt;. Basically, it&amp;#8217;s an xml file which sets up Windows. When Packer is running this file, the last service which should be installed, must be openSSH. And after that, in the provisioning phase, you should only install software which does not require restarts.&lt;/p&gt;

&lt;p&gt;Let&amp;#8217;s look at an example.&lt;/p&gt;

&lt;h1 id=&#34;example-1-windows-updates:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Example #1: Windows Updates&lt;/h1&gt;

&lt;p&gt;This is another layer of purgatory for Windows. It&amp;#8217;s updates. The updates take massive amount of times, if you are doing them from scratch, and also require several restart before it&amp;#8217;s actually done. YouÂ &lt;strong&gt;couldÂ &lt;/strong&gt;speed up the process a little bit, if you have a private network share where all of the Windows updates are sitting. At least that way you don&amp;#8217;t have to download them every time you are creating a box. But you can&amp;#8217;t avert the install process itself.&lt;/p&gt;

&lt;p&gt;Let&amp;#8217;s look at a setup for packer. Packer works with JSON files for it&amp;#8217;s configuration. An example for a Windows 7 box would look something like this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;json&#34; style=&#34;font-family:monospace;&#34;&gt;{
  &#34;builders&#34;: [
    {
      &#34;type&#34;: &#34;vmware-iso&#34;,
      &#34;iso_url&#34;: &#34;http://care.dlservice.microsoft.com/dl/download/evalx/win7/x64/EN/7600.16385.090713-1255_x64fre_enterprise_en-us_EVAL_Eval_Enterprise-GRMCENXEVAL_EN_DVD.iso&#34;,
      &#34;iso_checksum_type&#34;: &#34;md5&#34;,
      &#34;iso_checksum&#34;: &#34;1d0d239a252cb53e466d39e752b17c28&#34;,
      &#34;headless&#34;: true,
      &#34;boot_wait&#34;: &#34;2m&#34;,
      &#34;ssh_username&#34;: &#34;vagrant&#34;,
      &#34;ssh_password&#34;: &#34;vagrant&#34;,
      &#34;ssh_wait_timeout&#34;: &#34;8h&#34;,
      &#34;shutdown_command&#34;: &#34;shutdown /s /t 10 /f /d p:4:1 /c \&#34;Packer Shutdown\&#34;&#34;,
      &#34;guest_os_type&#34;: &#34;windows7-64&#34;,
      &#34;tools_upload_flavor&#34;: &#34;windows&#34;,
      &#34;disk_size&#34;: 61440,
      &#34;vnc_port_min&#34;: 5900,
      &#34;vnc_port_max&#34;: 5980,
      &#34;floppy_files&#34;: [
        &#34;./answer_files/7/Autounattend.xml&#34;,
        &#34;./scripts/dis-updates.ps1&#34;,
        &#34;./scripts/microsoft-updates.bat&#34;,
        &#34;./scripts/win-updates.ps1&#34;,
        &#34;./scripts/openssh.ps1&#34;
      ],
      &#34;vmx_data&#34;: {
        &#34;RemoteDisplay.vnc.enabled&#34;: &#34;false&#34;,
        &#34;RemoteDisplay.vnc.port&#34;: &#34;5900&#34;,
        &#34;memsize&#34;: &#34;2048&#34;,
        &#34;numvcpus&#34;: &#34;2&#34;,
        &#34;scsi0.virtualDev&#34;: &#34;lsisas1068&#34;
      }
    },
    {
      &#34;type&#34;: &#34;virtualbox-iso&#34;,
      &#34;iso_url&#34;: &#34;http://care.dlservice.microsoft.com/dl/download/evalx/win7/x64/EN/7600.16385.090713-1255_x64fre_enterprise_en-us_EVAL_Eval_Enterprise-GRMCENXEVAL_EN_DVD.iso&#34;,
      &#34;iso_checksum_type&#34;: &#34;md5&#34;,
      &#34;iso_checksum&#34;: &#34;1d0d239a252cb53e466d39e752b17c28&#34;,
      &#34;headless&#34;: true,
      &#34;boot_wait&#34;: &#34;2m&#34;,
      &#34;ssh_username&#34;: &#34;vagrant&#34;,
      &#34;ssh_password&#34;: &#34;vagrant&#34;,
      &#34;ssh_wait_timeout&#34;: &#34;8h&#34;,
      &#34;shutdown_command&#34;: &#34;shutdown /s /t 10 /f /d p:4:1 /c \&#34;Packer Shutdown\&#34;&#34;,
      &#34;guest_os_type&#34;: &#34;Windows7_64&#34;,
      &#34;disk_size&#34;: 61440,
      &#34;floppy_files&#34;: [
        &#34;./answer_files/7/Autounattend.xml&#34;,
        &#34;./scripts/dis-updates.ps1&#34;,
        &#34;./scripts/microsoft-updates.bat&#34;,
        &#34;./scripts/win-updates.ps1&#34;,
        &#34;./scripts/openssh.ps1&#34;,
        &#34;./scripts/oracle-cert.cer&#34;
      ],
      &#34;vboxmanage&#34;: [
        [
          &#34;modifyvm&#34;,
          &#34;{{.Name}}&#34;,
          &#34;--memory&#34;,
          &#34;2048&#34;
        ],
        [
          &#34;modifyvm&#34;,
          &#34;{{.Name}}&#34;,
          &#34;--cpus&#34;,
          &#34;2&#34;
        ]
      ]
    }
  ],
  &#34;provisioners&#34;: [
    {
      &#34;type&#34;: &#34;shell&#34;,
      &#34;remote_path&#34;: &#34;/tmp/script.bat&#34;,
      &#34;execute_command&#34;: &#34;{{.Vars}} cmd /c C:/Windows/Temp/script.bat&#34;,
      &#34;scripts&#34;: [
        &#34;./scripts/vm-guest-tools.bat&#34;,
        &#34;./scripts/chef.bat&#34;,
        &#34;./scripts/vagrant-ssh.bat&#34;,
        &#34;./scripts/disable-auto-logon.bat&#34;,
        &#34;./scripts/enable-rdp.bat&#34;,
        &#34;./scripts/compile-dotnet-assemblies.bat&#34;,
        &#34;./scripts/compact.bat&#34;
      ]
    }
  ],
  &#34;post-processors&#34;: [
    {
      &#34;type&#34;: &#34;vagrant&#34;,
      &#34;keep_input_artifact&#34;: false,
      &#34;output&#34;: &#34;windows_7_{{.Provider}}.box&#34;,
      &#34;vagrantfile_template&#34;: &#34;vagrantfile-windows_7.template&#34;
    }
  ]
}&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;If it feels daunting, don&amp;#8217;t worry. You&amp;#8217;ll get used to it fairly quickly. Let&amp;#8217;s go over section by section on what this does.&lt;/p&gt;

&lt;h4 id=&#34;builders:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Builders&lt;/h4&gt;

&lt;p&gt;Packer uses builders for, well, building stuff. These two builders are virtualbox and vmware. I&amp;#8217;m only interested in virtualbox. This builder downloads win7 and sets up some virtual box details like, disk size, vagrant user, memory, and so and so forth. The interesting part is the floppy part. Here, we can add in some files for setup. We will use this part later on.&lt;/p&gt;

&lt;h4 id=&#34;provisioners:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Provisioners&lt;/h4&gt;

&lt;p&gt;Now here is an interesting tid-bit. There are a bunch of provisioners available as plugin for packer.Â Installing them is fairly easy. Packer needs binary plugins. Just copy them into ~/.packer.d/plugins or directly into the packer home directly. I&amp;#8217;d advice against that. Have them in your own packer.d, that&amp;#8217;s much cleaner. For binary plugin releases in the Windows side, look here =&amp;gt;Â &lt;a href=&#34;https://github.com/packer-community/packer-windows-plugins/releases&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;https://github.com/packer-community/packer-windows-plugins/releases&#34;&gt;https://github.com/packer-community/packer-windows-plugins/releases&lt;/a&gt;&lt;/a&gt;. If you would like to build them yourself from source, download the source and use go gcc to build it. You will have to &lt;strong&gt;go get&lt;/strong&gt; a few packages though. Also you will have to have &lt;strong&gt;$GOPATH&lt;/strong&gt;Â (pointing to your own workspace) and &lt;strong&gt;$GOROOT&lt;/strong&gt; (pointing to your working go)Â setup. But this is not a Go guide. After that just do &lt;strong&gt;go build main.goÂ &lt;/strong&gt;and you have your plugin.&lt;/p&gt;

&lt;p&gt;Provisioners are like vagrant provision they will execute post setup stuff on your box. Like installing utils, 7zip, choco, nuget, and so and so forth. There are a few interesting Windows provisioners, like restart-windows, powershell, and Windows shell. Which is like shell, but without the need of pre-setup if you are trying to use it on Windows. The basic shell on Windows is a little clanky and can hang from time-to-time so I recommend using PowerShell or WindowsShell provisioner if you are dealing with Windows post-setup Setup.&lt;/p&gt;

&lt;h4 id=&#34;post-processor:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Post-Processor&lt;/h4&gt;

&lt;p&gt;This will create the Vagrant box after everything is done.&lt;/p&gt;

&lt;h4 id=&#34;running-the-update:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Running the Update&lt;/h4&gt;

&lt;p&gt;For use, two things are interesting from here at this moment. These guys =&amp;gt;&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;json&#34; style=&#34;font-family:monospace;&#34;&gt;        &#34;./scripts/microsoft-updates.bat&#34;,
        &#34;./scripts/win-updates.ps1&#34;,&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;These two contain most of the logic which is part of the update process. You should see it in your checked out source. There is some very interesting logic in there which describes how the update happens. Basically it&amp;#8217;s a loop which re-checks if there are updates available or if a re-start is needed. Packer handles re-starts well at this point in the install because it simply waits for SSH to come only. The rest is handled by Windows.&lt;/p&gt;

&lt;p&gt;These scripts are called in the Answer File which the Windows Setup uses for configuration purposes. Take a look at this section:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;SynchronousCommand&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;wcm:action&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;add&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;cmd.exe /c a:\microsoft-updates.bat&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;98&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Enable Microsoft Updates&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/SynchronousCommand&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;SynchronousCommand&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;wcm:action&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;add&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;cmd.exe /c C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -File a:\win-updates.ps1 -MaxUpdatesPerCycle 30&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Install Windows Updates&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;100&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;RequiresUserInput&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;true&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/RequiresUserInput&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/SynchronousCommand&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;This is were the floppy part comes on handy. This part uses the scripts bound by floppy and which will be available from a:.&lt;/p&gt;

&lt;p&gt;This will install all the updates available. It will take a while. A very very long while&amp;#8230; But let&amp;#8217;s go a step further.&lt;/p&gt;

&lt;h1 id=&#34;example-2-installing-dotnet-4-5:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Example #2: Installing DotNet 4.5&lt;/h1&gt;

&lt;p&gt;Let&amp;#8217;s assume you want to create a box with visual studio 2013, office, and have choco on it, and a couple of more things for which you need lots of restarts. You could try installing with /norestart switch, which also works; howeverÂ if you definitely need it to restart I suggest installing stuff with the Answer File. For this, let&amp;#8217;s create a PowerShell script which downloads and installs dotnet 451 which is needed for visual studio ultimate 2013.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\dotnet-install.log&#34;&lt;/span&gt;
&lt;span style=&#34;color: #0000FF;&#34;&gt;function&lt;/span&gt; LogWrite &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
   &lt;span style=&#34;color: #0000FF;&#34;&gt;Param&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color: #008080;&#34;&gt;string&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#93;&lt;/span&gt;&lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
   &lt;span style=&#34;color: #800080;&#34;&gt;$now&lt;/span&gt; &lt;span style=&#34;color: pink;&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Get-Date&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-format&lt;/span&gt; s
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Add-Content&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$Logfile&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-value&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;$now $logstring&#34;&lt;/span&gt;
   &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Write-Host&lt;/span&gt; &lt;span style=&#34;color: #800080;&#34;&gt;$logstring&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Downlading dotNetFx40_Full_x86_x64.&#34;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;New-Object&lt;/span&gt; System.Net.WebClient&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;.DownloadFile&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color: #800000;&#34;&gt;&#39;http://download.microsoft.com/download/1/6/7/167F0D79-9317-48AE-AEDB-17120579F8E2/NDP451-KB2858728-x86-x64-AllOS-ENU.exe&#39;&lt;/span&gt;&lt;span style=&#34;color: pink;&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#39;C:\Windows\Temp\dotnet.exe&#39;&lt;/span&gt;&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#41;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception &lt;span style=&#34;color: pink;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Format-List&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-force&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Failed to download file.&#34;&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Starting installation process...&#34;&lt;/span&gt;
try &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\dotnet.exe&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/I /q /norestart&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt; catch &lt;span style=&#34;color: #000000;&#34;&gt;&amp;#123;&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #000080;&#34;&gt;$_&lt;/span&gt;.Exception &lt;span style=&#34;color: pink;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #008080; font-weight: bold;&#34;&gt;Format-List&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-force&lt;/span&gt;
    LogWrite &lt;span style=&#34;color: #800000;&#34;&gt;&#34;Exception during install process.&#34;&lt;/span&gt;    
&lt;span style=&#34;color: #000000;&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;So this downloads it right from the source. As mentioned earlier, you could have this on a nice shared drive so downloading from the internet is not necessary. The installer is in fact a bit friendly. It has a switch called /q /norestart. The /q is called silent install and the /norestart speaks for itself. If you leave it out, you can use /forcerestart or you could have the following two lines after this finishes:Â &lt;em&gt;LogWrite &amp;#8220;Resarting Computer.&amp;#8221;Â Restart-Computer -Force&lt;/em&gt;. This will force a restart. You need the -Force because otherwise it won&amp;#8217;t let it restart while there are active sessions logged on the computer.&lt;/p&gt;

&lt;p&gt;Now, let&amp;#8217;s add this to the answer file:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;xml&#34; style=&#34;font-family:monospace;&#34;&gt;                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;SynchronousCommand&lt;/span&gt; &lt;span style=&#34;color: #000066;&#34;&gt;wcm:action&lt;/span&gt;=&lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;add&#34;&lt;/span&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;cmd.exe /c C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -File a:\install-dotnet-451.ps1 -AutoStart&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/CommandLine&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;98&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Order&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                    &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;Install DotNet 4.5.1.&lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/Description&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
                &lt;span style=&#34;color: #009900;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;lt;/SynchronousCommand&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;See, how easy this is? And now we make use of the floppy part of the windows-7.json by adding this line: &lt;strong&gt;&amp;#8220;./scripts/install-dotnet-451.ps1&amp;#8221;&lt;/strong&gt;. Don&amp;#8217;t forget to append the &amp;#8220;,&amp;#8221; at the end of the previous line. This is an array.&lt;/p&gt;

&lt;p&gt;We are ready to go. Just run &lt;strong&gt;packer build -only=virtualbox-iso windows-7.json&lt;/strong&gt; and you should be done!&lt;/p&gt;

&lt;h1 id=&#34;example-3-installing-visual-studio-ultimate:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Example #3: Installing Visual Studio Ultimate&lt;/h1&gt;

&lt;p&gt;Installing visual studio is almost trivial as well. With the addition that visual studio requires an admin.xml for silent install which has a bunch of settings. When you have the admin.xml just bind it into the floppy drive as well and call the visual studio install powershell script like this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;powershell&#34; style=&#34;font-family:monospace;&#34;&gt;    Start&lt;span style=&#34;color: pink;&#34;&gt;-&lt;/span&gt;Process &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-FilePath&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;C:\Windows\Temp\visualstudioultimate.exe&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-ArgumentList&lt;/span&gt; &lt;span style=&#34;color: #800000;&#34;&gt;&#34;/Quiet /NoRestart /admin a:\admin.xml&#34;&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-Wait&lt;/span&gt; &lt;span style=&#34;color: #008080; font-style: italic;&#34;&gt;-PassThru&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Again, this will take a while&amp;#8230;&amp;#8230;&amp;#8230;&amp;#8230;.&lt;/p&gt;

&lt;h1 id=&#34;post-setup-provisioning:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Post Setup Provisioning&lt;/h1&gt;

&lt;p&gt;When all this is done, you can still add some provisioning steps to add some utils with PowerShell or WindowsShell provisioner. I would advice against using simple shell. Bare in mind one other thing. If you have a batch file, and you are calling another batch file in that batch file, like choco install 7zip, it will happen that the install process will hang on installing 7zip. Because in Windows land the called script will not return the exec handler to the caller unless specifically asking for it with &lt;strong&gt;call&lt;/strong&gt;. Which means your bat file will look something like this:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;batch&#34; style=&#34;font-family:monospace;&#34;&gt;call choco install 7zip
call choco install notepadplusplus&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;batch&#34; style=&#34;font-family:monospace;&#34;&gt;cmd /c choco install 7zip
cmd /c choco install notepadplusplus&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;And so on, and so forth.&lt;/p&gt;

&lt;h1 id=&#34;wrap-up:f5491ddf470c8b3b2c7d93c66ee59189&#34;&gt;Wrap-Up&lt;/h1&gt;

&lt;p&gt;So, what have we learned? We have learned that installing software which requires re-start is better left to Windows itself with an answer file. Batch files will not return the handler. SSH &lt;strong&gt;MUST&lt;/strong&gt; be the last thing you start up in the answer file. Use PowerShell provisioner or WindowsShell provisioner on Windows.&lt;/p&gt;

&lt;p&gt;Hope this helped.&lt;/p&gt;

&lt;p&gt;Happy installing, and as always,&lt;/p&gt;

&lt;p&gt;Thanks for reading.&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Docker &#43; Java &#43; Vagrant&#43; GO.CD</title>
      <link>https://skarlso.github.io/2015/06/06/docker-ruby-lotus-go-cd/</link>
      <pubDate>Sat, 06 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/06/06/docker-ruby-lotus-go-cd/</guid>
      <description>

&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;Today, I would like to write about something interesting and close to me at the moment. I&amp;#8217;m going to setup Go.cd with Docker, and I&amp;#8217;m going to get a Ruby Lotus app running. Let&amp;#8217;s get started.&lt;/p&gt;

&lt;h1 id=&#34;fluff:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Fluff&lt;/h1&gt;

&lt;p&gt;Now, obviously, you don&amp;#8217;t really need Go.Cd or Docker to setup a Java Gradle application, since it&amp;#8217;s dead easy. But I&amp;#8217;m going to do it just for the heck of it.&lt;/p&gt;

&lt;h1 id=&#34;setup:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Setup&lt;/h1&gt;

&lt;p&gt;Okay, lets start with Vagrant. Docker&amp;#8217;s strength is coming from Linux&amp;#8217;s process isolation capabilities it&amp;#8217;s not yet properly working on OSX or Windows. You have a couple of options if you&amp;#8217;d like to try never the less, like boot2docker, or a Tiny Linux kernel, but at that point, I think it&amp;#8217;s easier to use a VM.&lt;/p&gt;

&lt;h4 id=&#34;vagrant:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Vagrant&lt;/h4&gt;

&lt;p&gt;So, let&amp;#8217;s start with my small Vagrantfile.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;ruby&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# -*- mode: ruby -*-&lt;/span&gt;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# vi: set ft=ruby :&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# All Vagrant configuration is done below. The &#34;2&#34; in Vagrant.configure&lt;/span&gt;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# configures the configuration version (we support older styles for&lt;/span&gt;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# backwards compatibility). Please don&#39;t change it unless you know what&lt;/span&gt;
&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# you&#39;re doing.&lt;/span&gt;
Vagrant.&lt;span style=&#34;color:#9900CC;&#34;&gt;configure&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#40;&lt;/span&gt;&lt;span style=&#34;color:#006666;&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#41;&lt;/span&gt; &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;config&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;
  &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# The most common configuration options are documented and commented below.&lt;/span&gt;
  &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# For a complete reference, please see the online documentation at&lt;/span&gt;
  &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# https://docs.vagrantup.com.&lt;/span&gt;
&amp;nbsp;
  &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# Every Vagrant development environment requires a box. You can search for&lt;/span&gt;
  &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# boxes at https://atlas.hashicorp.com/search.&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;box&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;trusty&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;box_url&lt;/span&gt; = &lt;span style=&#34;color:#996600;&#34;&gt;&#34;https://cloud-images.ubuntu.com/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;network&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;forwarded_port&#34;&lt;/span&gt;, guest: &lt;span style=&#34;color:#006666;&#34;&gt;2300&lt;/span&gt;, host: &lt;span style=&#34;color:#006666;&#34;&gt;2300&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;network&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;forwarded_port&#34;&lt;/span&gt;, guest: &lt;span style=&#34;color:#006666;&#34;&gt;8153&lt;/span&gt;, host: &lt;span style=&#34;color:#006666;&#34;&gt;8153&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provision&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;shell&#34;&lt;/span&gt;, path: &lt;span style=&#34;color:#996600;&#34;&gt;&#34;setup.sh&#34;&lt;/span&gt;
  config.&lt;span style=&#34;color:#9900CC;&#34;&gt;vm&lt;/span&gt;.&lt;span style=&#34;color:#9900CC;&#34;&gt;provider&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;virtualbox&#34;&lt;/span&gt; &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;do&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;v&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;|&lt;/span&gt;
    v.&lt;span style=&#34;color:#9900CC;&#34;&gt;memory&lt;/span&gt; = &lt;span style=&#34;color:#006666;&#34;&gt;8192&lt;/span&gt;
    v.&lt;span style=&#34;color:#9900CC;&#34;&gt;cpus&lt;/span&gt; = &lt;span style=&#34;color:#006666;&#34;&gt;2&lt;/span&gt;
  &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;end&lt;/span&gt;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;end&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Very simple. I&amp;#8217;m setting up a trusty64(because docker requires 3.10 &amp;lt;= x)Â box and then doing a simple shell provision. Also, I gave it a bit juice, since go-server requires a raw power. Here is the shell script:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;bash&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;!&lt;/span&gt;&lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;#/bin/bash&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; software-properties-common python-software-properties
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;vim&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; add-apt-repository &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;ppa:webupd8team/java&#34;&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
&lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;debconf&lt;/span&gt; shared&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;accepted-oracle-license-v1-&lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; debconf-set-selections &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;&lt;/span&gt;amp;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;&lt;/span&gt;amp; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;debconf&lt;/span&gt; shared&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;accepted-oracle-license-v1-&lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt; seen &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; debconf-set-selections
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; oracle-java8-installer
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;wget&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-qO-&lt;/span&gt; https:&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;//&lt;/span&gt;get.docker.com&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sh&lt;/span&gt;
route add &lt;span style=&#34;color: #660033;&#34;&gt;-net&lt;/span&gt; 172.17.0.0 netmask 255.255.255.0 gw 172.17.42.1&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;The debconf at the end accepts java8&amp;#8217;s terms and conditions. And the last line installs docker in my box. This runs for a little while&amp;#8230;&lt;/p&gt;

&lt;p&gt;The routing on the end routes every traffic from 172.17.*.* to my vagrant box, which in turn I&amp;#8217;ll be able to use from my mac local, like 127.0.0.1:8153/go/home.&lt;/p&gt;

&lt;p&gt;After a vagrant up, my box is ready to be used.&lt;/p&gt;

&lt;h4 id=&#34;docker:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Docker&lt;/h4&gt;

&lt;p&gt;When that&amp;#8217;s finished, we can move on to the next part, which is writing a little Dockerfile for our image. Go.cd will require java and a couple of other things, so let&amp;#8217;s automate the installation of that so we don&amp;#8217;t have to do itÂ by hand.&lt;/p&gt;

&lt;p&gt;Here is a Dockerfile I came up with:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;bash&#34; style=&#34;font-family:monospace;&#34;&gt;FROM ubuntu
MAINTAINER Skarlso
&amp;nbsp;
&lt;span style=&#34;color: #666666; font-style: italic;&#34;&gt;############ SETUP #############&lt;/span&gt;
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; software-properties-common python-software-properties
RUN add-apt-repository &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #ff0000;&#34;&gt;&#34;ppa:webupd8team/java&#34;&lt;/span&gt;
RUN &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;debconf&lt;/span&gt; shared&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;accepted-oracle-license-v1-&lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; debconf-set-selections &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;&lt;/span&gt;amp;&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;&amp;&lt;/span&gt;amp; &lt;span style=&#34;color: #7a0874; font-weight: bold;&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;debconf&lt;/span&gt; shared&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;accepted-oracle-license-v1-&lt;span style=&#34;color: #000000;&#34;&gt;1&lt;/span&gt; seen &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;true&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;sudo&lt;/span&gt; debconf-set-selections
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get update&lt;/span&gt;
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; oracle-java8-installer
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;vim&lt;/span&gt;
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;unzip&lt;/span&gt;
RUN &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;apt-get install&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-y&lt;/span&gt; &lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;git&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;So, our docker images have to be setup with Java as well for go.cd which I&amp;#8217;m taking care of here, and a little bit extra, to add vim, and unzip, which is required for dpkg later.&lt;/p&gt;

&lt;p&gt;At this point run: &lt;strong&gt;docker build -t ubuntu:go .&lt;/strong&gt; -&amp;gt; This will use the dockerfile and create the ubuntu:go image. Note theÂ &lt;strong&gt;.Â &lt;/strong&gt;at the end.&lt;/p&gt;

&lt;h4 id=&#34;go-cd:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Go.cd&lt;/h4&gt;

&lt;p&gt;Now, I&amp;#8217;m creating two containers. One, go-server, will be the go server, and the other, go-agent, will be the go agent.&lt;/p&gt;

&lt;p&gt;First, go-server:&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;bash&#34; style=&#34;font-family:monospace;&#34;&gt;docker run &lt;span style=&#34;color: #660033;&#34;&gt;-i&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-t&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;--name&lt;/span&gt; go-server &lt;span style=&#34;color: #660033;&#34;&gt;--hostname&lt;/span&gt;=go-server &lt;span style=&#34;color: #660033;&#34;&gt;-p&lt;/span&gt; &lt;span style=&#34;color: #000000;&#34;&gt;8153&lt;/span&gt;:&lt;span style=&#34;color: #000000;&#34;&gt;8153&lt;/span&gt; ubuntu:go &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;bin&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;bash&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;wget&lt;/span&gt; http:&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;//&lt;/span&gt;download.go.cd&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;gocd-deb&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;go-server-15.1.0-&lt;span style=&#34;color: #000000;&#34;&gt;1863&lt;/span&gt;.deb
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;dpkg&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-i&lt;/span&gt; go-server-15.1.0-&lt;span style=&#34;color: #000000;&#34;&gt;1863&lt;/span&gt;.deb&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;Pretty straight forward, no? We forward 8153 to vagrant (which forwards it to my mac), so after we start go-server service we should be able to visit: &lt;a href=&#34;http://127.0.0.1:8153/go/home&#34;&gt;http://127.0.0.1:8153/go/home&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-00.00.08.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-519&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-00.00.08-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 00.00.08&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Lo&amp;#8217;, and behold, go server. Let&amp;#8217;s add an agent too.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;bash&#34; style=&#34;font-family:monospace;&#34;&gt;docker run &lt;span style=&#34;color: #660033;&#34;&gt;-i&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-t&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;--name&lt;/span&gt; go-agent &lt;span style=&#34;color: #660033;&#34;&gt;--hostname&lt;/span&gt;=go-agent ubuntu:go &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;bin&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;bash&lt;/span&gt;
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;wget&lt;/span&gt; http:&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;//&lt;/span&gt;download.go.cd&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;gocd-deb&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;go-agent-15.1.0-&lt;span style=&#34;color: #000000;&#34;&gt;1863&lt;/span&gt;.deb
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;dpkg&lt;/span&gt; &lt;span style=&#34;color: #660033;&#34;&gt;-i&lt;/span&gt; go-agent-15.1.0-&lt;span style=&#34;color: #000000;&#34;&gt;1863&lt;/span&gt;.deb
&lt;span style=&#34;color: #c20cb9; font-weight: bold;&#34;&gt;vim&lt;/span&gt; &lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;etc&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;default&lt;span style=&#34;color: #000000; font-weight: bold;&#34;&gt;/&lt;/span&gt;go-agent
&lt;span style=&#34;color: #007800;&#34;&gt;GO_SERVER&lt;/span&gt;=172.17.0.1
service go-agent start&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;No need to forward anything here. And as you can see, my agent was added successfully.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-00.03.47.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-520&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-00.03.47-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 00.03.47&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All nice, and dandy. The agent is there, and I enabled it, so it&amp;#8217;s ready to work. Let&amp;#8217;s give it something to do, shall we?&lt;/p&gt;

&lt;h1 id=&#34;the-app:364caadcaeab0c477e5f38267f76ea35&#34;&gt;The App&lt;/h1&gt;

&lt;p&gt;I&amp;#8217;m going to use my gradle project which is on github. This one =&amp;gt;Â &lt;a href=&#34;https://github.com/Skarlso/DataMung.git&#34;&gt;https://github.com/Skarlso/DataMung.git&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Very basic setup. Just check it out and then build &amp;amp; run tests. Easy, right?&lt;/p&gt;

&lt;p&gt;First step in this process, define the pipeline. I&amp;#8217;m going to keep it simple. Name the pipeline DataMunger. Group is Linux. Now, in go.cd you have to define something called, an &lt;strong&gt;environment&lt;/strong&gt;. Environment can be anything you want, I&amp;#8217;m going to go with Linux. You have to assign &lt;strong&gt;agents&lt;/strong&gt; to this environment who fulfil it and the pipeline which will use that environment. More on that you can read in the go.cd documentation. This is how you would handle a pipeline which uses linux, and a windows environment at the same time.&lt;/p&gt;

&lt;p&gt;In step one you have to define something called the &lt;strong&gt;Material&lt;/strong&gt;. That will be the source on which the agent will work. This can be multiple, in different folders within the confines of the pipeline, or singular.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.09.55.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-523&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.09.55-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.09.55&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I defined my git project and tested the connection OK. Next up is the firstÂ &lt;strong&gt;StageÂ &lt;/strong&gt;and the initialÂ &lt;strong&gt;JobÂ &lt;/strong&gt;to perform. This, for me, will be a compile or an assemble, and later on a test run.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.12.19.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-524&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.12.19-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.12.19&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now, Go is awesome in parallelising jobs. If my project would be large enough, I could have multiple jobsÂ here. But for now,Â I&amp;#8217;ll use stages because they run subsequently. So, first stage, compile. Next stage, testing and archiving the results.&lt;/p&gt;

&lt;p&gt;I added the next stage and defined the artefact. Go supports test-reports. If you define the path to a test artefact than go will parse it and create a nice report out of it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.20.23.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-525&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.20.23-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.20.23&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.22.23.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-526&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.22.23-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.22.23&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now, let&amp;#8217;s run it. It will probably fail on something. ðŸ˜‰&lt;/p&gt;

&lt;p&gt;Well, I&amp;#8217;ll be&amp;#8230; It worked on the first run.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.29.51.png&#34;&gt;&lt;img class=&#34;alignnone size-thumbnail wp-image-529&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.29.51-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.29.51&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And here are the test results.&lt;/p&gt;

&lt;p&gt;[&lt;img class=&#34;alignnone size-thumbnail wp-image-530&#34; src=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.30.54-150x150.png&#34; alt=&#34;Screen Shot 2015-06-06 at 09.30.54&#34; width=&#34;150&#34; height=&#34;150&#34; /&gt;][8]&lt;/p&gt;

&lt;h1 id=&#34;wrap-up:364caadcaeab0c477e5f38267f76ea35&#34;&gt;Wrap-up&lt;/h1&gt;

&lt;p&gt;Well, that&amp;#8217;s it folks. Gradle project, with vagrant, docker, and go.cd. I hope you all enjoyed reading about it as much as I did doing it.&lt;/p&gt;

&lt;p&gt;Any questions, please feel free to ask it in the comment section below.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Have a nice weekend,&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;

&lt;p&gt;&amp;nbsp;&lt;/p&gt;

&lt;p&gt;[8]: &lt;a href=&#34;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.30.54.png&#34;&gt;http://ramblingsofaswtester.com/wp-content/uploads/2015/06/Screen-Shot-2015-06-06-at-09.30.54.png&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Setting up a new Laptop with Puppet</title>
      <link>https://skarlso.github.io/2015/05/21/setting-up-a-new-laptop-with-puppet/</link>
      <pubDate>Thu, 21 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/05/21/setting-up-a-new-laptop-with-puppet/</guid>
      <description>&lt;p&gt;Hello folks.&lt;/p&gt;

&lt;p&gt;So, some of you know &lt;a href=&#34;https://puppetlabs.com/&#34; target=&#34;_blank&#34;&gt;puppet&lt;/a&gt;, some of you don&amp;#8217;t. Puppet is a configuration management system. It&amp;#8217;s quite awesome. I like working with it. One of the benefits of puppet is, that I never, ever, EVER have to setup a new laptop from scratch, EVER again.&lt;/p&gt;

&lt;p&gt;I&amp;#8217;m writing a puppet manifest file which sets up my new laptop to my liking. I will improve it as I go along. Here is version 1.0.&lt;/p&gt;

&lt;div class=&#34;wp_syntax&#34;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&#34;code&#34;&gt;
        &lt;pre class=&#34;ruby&#34; style=&#34;font-family:monospace;&#34;&gt;&lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# include apt&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::basics &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#ff6633; font-weight:bold;&#34;&gt;$packages&lt;/span&gt; = &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;git&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;subversion&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;mc&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;vim&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;maven&#39;&lt;/span&gt;, &lt;span style=&#34;color:#996600;&#34;&gt;&#39;gradle&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;update&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get update&#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        package &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#ff6633; font-weight:bold;&#34;&gt;$packages&lt;/span&gt;:
                &lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;ensure&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; installed,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#34;update&#34;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::skype &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-arc&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/dpkg --add-architecture i386&#34;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-repo-skype&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/add-apt-repository &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;deb http://archive.canonical.com/ &lt;span style=&#34;color:#000099;&#34;&gt;\$&lt;/span&gt;(lsb_release -sc) partner&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-arc&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;update-and-install&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get update &amp;&amp; /usr/bin/apt-get install skype&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-repo-skype&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;class&lt;/span&gt; base::java8 &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt;
        &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# Automatically does an update afterwards&lt;/span&gt;
        &lt;span style=&#34;color:#008000; font-style:italic;&#34;&gt;# apt::ppa { &#39;ppa:webupd8team/java&#39;: }&lt;/span&gt;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;add-repo-java&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/add-apt-repository -y &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;ppa:webupd8team/java&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt; &amp;&amp; /usr/bin/apt-get update&#34;&lt;/span&gt;
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;set-accept&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/bin/echo /usr/bin/debconf shared/accepted-oracle-license-v1-1 select true | sudo /usr/bin/debconf-set-selections &amp;&amp; /bin/echo /usr/bin/debconf shared/accepted-oracle-license-v1-1 seen true | sudo /usr/bin/debconf-set-selections&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;add-repo-java&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;install&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/usr/bin/apt-get install -y oracle-java8-installer&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;set-accept&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
        &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;exec&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#123;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;setup_home&#34;&lt;/span&gt;:
                command &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#996600;&#34;&gt;&#34;/bin/echo &lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt;export JDK18_HOME=/usr/lib/jvm/java-8-oracle/&lt;span style=&#34;color:#000099;&#34;&gt;\&#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/environment&#34;&lt;/span&gt;,
                &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span style=&#34;color:#CC0066; font-weight:bold;&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#91;&lt;/span&gt;&lt;span style=&#34;color:#996600;&#34;&gt;&#39;install&#39;&lt;/span&gt;&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#93;&lt;/span&gt;,
        &lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&lt;span style=&#34;color:#006600; font-weight:bold;&#34;&gt;&amp;#125;&lt;/span&gt;
&amp;nbsp;
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::basics
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::skype
&lt;span style=&#34;color:#9966CC; font-weight:bold;&#34;&gt;include&lt;/span&gt; base::java8&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;I&amp;#8217;ll improve upon it as I go, and you can check it out later from my git repo. I removed the parts which required extra libraries for now, as I want it to run without the need of getting extra stuff installed. I might automate that part as well later on.&lt;/p&gt;

&lt;p&gt;EDIT:Â &lt;a href=&#34;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&#34; target=&#34;_blank&#34;&gt;&lt;a href=&#34;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&#34;&gt;https://github.com/Skarlso/puppet/blob/master/manifests/base_setup.pp&lt;/a&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have fun.&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Busy building the future</title>
      <link>https://skarlso.github.io/2015/05/19/busy-building-the-future/</link>
      <pubDate>Tue, 19 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://skarlso.github.io/2015/05/19/busy-building-the-future/</guid>
      <description>&lt;p&gt;Fact is, I&amp;#8217;ve been busy.&lt;/p&gt;

&lt;p&gt;I&amp;#8217;ve got a new job as a build engineer. As sort of a devops kind of guy. It&amp;#8217;s extremely interesting considering that I made a career as a tester. Granted, I always was technical, and never really knew my path; but it seems my path is finding me after all.&lt;/p&gt;

&lt;p&gt;In the past years, I got betterÂ at Docker, Puppet, Chef, AWS, Packer, Vagrant, Gradle, and a hell of a lot more. Also honed my linux skills from the ability of doing an ls -l to do an find . -type f -atime +5 | xargs rm -fr (find all the files which are 5 days older and pipe them to a delete command). I already read many books about devops but this time, it&amp;#8217;s different. This time, I can actually do these things as well in a live environment.&lt;/p&gt;

&lt;p&gt;As once a friend of mine told me: &amp;#8220;You ain&amp;#8217;t gonna learn anything unless you are getting payed for it.&amp;#8221; Wise words. True words.&lt;/p&gt;

&lt;p&gt;So stayed tuned for some devops and engineering type posts. I would like to continue working on the Django parts as well, however given my priorities and lack of time ( family and stuff, must choose what I learned in the hour I get each day), it might fall behind. I might stick it into some kind of provision practice or even give it a Travis.ci and put it into a gradle project. Now THAT&amp;#8217;S interesting.&lt;/p&gt;

&lt;p&gt;Cheers folks.&lt;/p&gt;

&lt;p&gt;And as always,&lt;/p&gt;

&lt;p&gt;Thanks for reading.&lt;/p&gt;

&lt;p&gt;Gergely.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>