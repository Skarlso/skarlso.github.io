<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python &middot; Ramblings of a cloud engineer</title>

    <meta name="description" content="Ramblings of a Cloud Engineer">

    <meta name="generator" content="Hugo 0.54-DEV" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Python &middot; Ramblings of a cloud engineer">
    <meta name="twitter:description" content="Ramblings of a Cloud Engineer">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Python &middot; Ramblings of a cloud engineer">
    <meta property="og:description" content="Ramblings of a Cloud Engineer">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href="https://skarlso.github.io//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Ramblings of a cloud engineer" href="https://skarlso.github.io//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="https://skarlso.github.io/">Ramblings of a cloud engineer</a></h1>
            <h2 class="brand-tagline"> Ramblings of a Cloud Engineer </h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://skarlso.github.io//index.xml"><i class="fa fa-rss"></i> rss</a>
                </li></br>
                <div style="box-shadow: 0px 0px 0px 1px #000; overflow-y: scroll; height:250px;" align="left">
                    
                        <a href="https://skarlso.github.io/2015/04/21/django-rpg-part-3/">Django – RPG – Part 3</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/21/django-rpg-part-3/">Django – RPG – Part 3</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/12/django-rpg-part-2/">Django – RPG – Part 2</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/12/django-rpg-part-2/">Django – RPG – Part 2</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/10/django-rpg-2/">Django – RPG – Part 1</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/10/django-rpg-2/">Django – RPG – Part 1</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/10/small-python-gui-to-calculate-lever-distance/">Small Python GUI to Calculate Lever Distance</a></br>
                    
                        <a href="https://skarlso.github.io/2015/04/10/small-python-gui-to-calculate-lever-distance/">Small Python GUI to Calculate Lever Distance</a></br>
                    
                        <a href="https://skarlso.github.io/2015/03/15/python-and-my-math-commitment/">Python and my Math commitment</a></br>
                    
                        <a href="https://skarlso.github.io/2015/03/15/python-and-my-math-commitment/">Python and my Math commitment</a></br>
                    
                        <a href="https://skarlso.github.io/2015/03/02/sphere-judge-online-python-kivy-android-app-part-2/">Sphere Judge Online – Python Kivy Android app – Part 2</a></br>
                    
                        <a href="https://skarlso.github.io/2015/03/02/sphere-judge-online-python-kivy-android-app-part-2/">Sphere Judge Online – Python Kivy Android app – Part 2</a></br>
                    
                        <a href="https://skarlso.github.io/2015/02/26/sphere-judge-online-python-kivy-android-app/">Sphere Judge Online – Python Kivy Android app</a></br>
                    
                        <a href="https://skarlso.github.io/2015/02/26/sphere-judge-online-python-kivy-android-app/">Sphere Judge Online – Python Kivy Android app</a></br>
                    
                        <a href="https://skarlso.github.io/2014/11/07/updating-all-jenkins-jobs-via-jenkins-api-python/">Updating All Jenkins Jobs Via Jenkins API – Python</a></br>
                    
                        <a href="https://skarlso.github.io/2014/11/07/updating-all-jenkins-jobs-via-jenkins-api-python/">Updating All Jenkins Jobs Via Jenkins API – Python</a></br>
                    
                        <a href="https://skarlso.github.io/2014/08/25/python-course-review/">Python Course Review</a></br>
                    
                        <a href="https://skarlso.github.io/2014/08/25/python-course-review/">Python Course Review</a></br>
                    
                        <a href="https://skarlso.github.io/2014/02/11/how-to-check-content-header-on-unknown-number-of-items-python/">How to check content header on unknown number of items – Python</a></br>
                    
                        <a href="https://skarlso.github.io/2014/02/11/how-to-check-content-header-on-unknown-number-of-items-python/">How to check content header on unknown number of items – Python</a></br>
                    
                </div>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">02 Mar 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2015/03/02/sphere-judge-online-python-kivy-android-app-part-2/" class="post-title">Sphere Judge Online – Python Kivy Android app – Part 2</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-android" href="https://skarlso.github.io//categories/android">android</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Here we are again. I will attempt to further this little journey of mine into the land of Android and Python.</p>

<p>This is the second part of the advanture you can read the first one a little bit back.</p>

<h1 style="text-align: center;">
  The Script
</h1>

<p>&nbsp;</p>

<p>We left off at a point where I successfully configured my environment and compiled my first hello world APK. At that point it took a little bit fiddling to get it to work on my phone.</p>

<p>Now, I have progressed a little bit into spoj&#8217;s page parsing. The code so far is as follows:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">__author__ <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'hannibal'</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">random</span> <span style="color: #ff7700;font-weight:bold;">import</span> randint
<span style="color: #ff7700;font-weight:bold;">import</span> lxml.<span style="color: black;">html</span> <span style="color: #ff7700;font-weight:bold;">as</span> lh
&nbsp;
random_page_number <span style="color: #66cc66;">=</span> randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">63</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 63 being the maximum page number at spoj</span>
r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/problems/classical/sort=0,start=%d"</span> % <span style="color: black;">&#40;</span>random_page_number * <span style="color: #ff4500;">50</span> - <span style="color: #ff4500;">50</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;"># Problem Div XPath =&gt; //[@class="problems"]</span>
&nbsp;
spoj_page <span style="color: #66cc66;">=</span> lh.<span style="color: black;">document_fromstring</span><span style="color: black;">&#40;</span>r.<span style="color: black;">text</span><span style="color: black;">&#41;</span>
links_to_problems <span style="color: #66cc66;">=</span> spoj_page<span style="color: black;">&#91;</span><span style="color: #ff4500;"></span><span style="color: black;">&#93;</span>.<span style="color: black;">xpath</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"//tr[@class='problemrow']/td[2]/a"</span><span style="color: black;">&#41;</span>
&nbsp;
current_link <span style="color: #66cc66;">=</span> links_to_problems<span style="color: black;">&#91;</span>randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>links_to_problems<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>current_link.<span style="color: black;">attrib</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'href'</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/%s"</span> % current_link.<span style="color: black;">attrib</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'href'</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>r.<span style="color: black;">text</span>.<span style="color: black;">encode</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"utf-8"</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is pretty straight forward so far. It gets the problems page, loads in all of the links and prints it out.</p>

<p>My goal is an application which looks something like this:</p>

<p>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>___</p>

<p>|   _<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>  |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                    Display Problem Description               | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_____ | |</p>

<p>|                                                                                 |</p>

<p>|                                                                                 |</p>

<p>|                         Button:Finish Problem                        |</p>

<p>|                                                                                 |</p>

<p>|                         Button:Next Problem                          |</p>

<p>|_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>__ |</p>

<p>It&#8217;s very basic. When it loads up, it will gather and display a new problem. You have two options, either get a new one, or save / finish this item, saying you never want to see it again.</p>

<p>Let&#8217;s put the first part into an android app. Just gather data, and get it disaplyed.</p>

<p>*Queue a days worth of hacking and frustrated cussing.*</p>

<p>So, turns out it&#8217;s not as easy as I would have liked it to be. I ran into some pretty nasty problems. Some of them I&#8217;ll write down below for the record, and an attempted solution as well.</p>

<h1 style="text-align: center;">
  Problems
</h1>

<p><strong>#1:</strong> <strong>Problem:</strong> Libraries. I&#8217;m using lxml and requests. Requests is a pure python library, but lxml is partially C. Which apparently is not very well supported yet.</p>

<p><strong>Solution (Partial):</strong> I could optain request by two ways, but the most simple one, was basically just building my distribution with the optional requests module like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>distribute.sh <span style="color: #660033;">-m</span> <span style="color: #ff0000;">"openssl pil requests kivy"</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Attempting to do the same with LXML resulted in a compile issue which I tracked down to something like: &#8220;sorry, but we don&#8217;t support OSX&#8221;. But it&#8217;s okay. There are other ways to parse an html page, I just really like the xpath filter. So I soldiered on with trying to get something to work at least.</p>

<p><strong>#3: Problem:</strong> <em>Bogus compile time exception.</em> There were some exceptions on the way when I was trying to compile with buildozer. <strong>Solution:</strong> It&#8217;s interesting because previously my solution to another compile time issue was to use a specific version of Cython. But this time the solution was to actually remove that version and install the latest one. Which is 0.22 as of the time of this writing. So:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> pip update cython</pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>#2: Problem:</strong> Connection. So now, I&#8217;m down to the bare bone. At this point, I just want to see a page source in a label. My code looks like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> kivy
kivy.<span style="color: black;">require</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'1.8.0'</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">lang</span> <span style="color: #ff7700;font-weight:bold;">import</span> Builder
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">uix</span>.<span style="color: black;">gridlayout</span> <span style="color: #ff7700;font-weight:bold;">import</span> GridLayout
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">properties</span> <span style="color: #ff7700;font-weight:bold;">import</span> NumericProperty
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">app</span> <span style="color: #ff7700;font-weight:bold;">import</span> App
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">random</span> <span style="color: #ff7700;font-weight:bold;">import</span> randint
<span style="color: #808080; font-style: italic;"># import lxml.html as lh</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># import sys</span>
<span style="color: #808080; font-style: italic;"># sys.path.append('/sdcard/com.googlecode.pythonforandroid/extras/python/site-packages')</span>
&nbsp;
&nbsp;
Builder.<span style="color: black;">load_string</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'''
:
    cols: 1
    Label:
        text: root.get_problem()
    Button:
        text: 'Click me! %d' % root.counter
        on_release: root.my_callback()
'''</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> SpojAppScreen<span style="color: black;">&#40;</span>GridLayout<span style="color: black;">&#41;</span>:
    counter <span style="color: #66cc66;">=</span> NumericProperty<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> my_callback<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">'The button has been pushed'</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">counter</span> +<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> get_problem<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        random_page_number <span style="color: #66cc66;">=</span> randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">63</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 63 being the maximum page number at spoj</span>
        r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/problems/classical/sort=0,start=%d"</span> % <span style="color: black;">&#40;</span>random_page_number * <span style="color: #ff4500;">50</span> - <span style="color: #ff4500;">50</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># Problem Div XPath =&gt; //[@class="problems"]</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># spoj_page = lh.document_fromstring(r.text)</span>
        <span style="color: #808080; font-style: italic;"># links_to_problems = spoj_page[0].xpath("//tr[@class='problemrow']/td[2]/a")</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># current_link = links_to_problems[randint(0, len(links_to_problems))]</span>
        <span style="color: #808080; font-style: italic;"># print(current_link.attrib['href'])</span>
        <span style="color: #808080; font-style: italic;"># r = requests.get("http://www.spoj.com/%s" % current_link.attrib['href'])</span>
        <span style="color: #808080; font-style: italic;"># print(r.text.encode("utf-8"))</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> r.<span style="color: black;">text</span>.<span style="color: black;">encode</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"utf-8"</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> SpojApp<span style="color: black;">&#40;</span>App<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> build<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> SpojAppScreen<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'__main__'</span>:
    SpojApp<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">run</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>However, running this results in a connection error in adb logcat:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  kivy.lang.BuilderException: Parser: File <span style="color: #ff0000;">""</span>, line <span style="color: #000000;">5</span>:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">3</span>:    cols: <span style="color: #000000;">1</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">4</span>:    Label:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  <span style="color: #000000; font-weight: bold;">&</span>gt;<span style="color: #000000; font-weight: bold;">&</span>gt;    <span style="color: #000000;">5</span>:        text: root.get_problem<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">6</span>:    Button:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">7</span>:        text: <span style="color: #ff0000;">'Click me! %d'</span> <span style="color: #000000; font-weight: bold;">%</span> root.counter
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  BuilderException: Parser: File <span style="color: #ff0000;">""</span>, line <span style="color: #000000;">5</span>:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">3</span>:    cols: <span style="color: #000000;">1</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">4</span>:    Label:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  <span style="color: #000000; font-weight: bold;">&</span>gt;<span style="color: #000000; font-weight: bold;">&</span>gt;    <span style="color: #000000;">5</span>:        text: root.get_problem<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">6</span>:    Button:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">7</span>:        text: <span style="color: #ff0000;">'Click me! %d'</span> <span style="color: #000000; font-weight: bold;">%</span> root.counter
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ConnectionError: <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'Connection aborted.'</span>, gaierror<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">4</span>, <span style="color: #ff0000;">'non-recoverable failure in name resolution.'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Solution:</strong> I tried simply putting out a random number at some point, which actullay worked, so I know it&#8217;s the connection. I&#8217;m guessing I need permission to access the network. Which would be this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="xml" style="font-family:monospace;">uses-permission android:name="android.permission.INTERNET"</pre>
      </td>
    </tr>
  </table>
</div>

<p>And yes! Building and installing it with this additional permission got me so far as I can display the web page&#8217;s content in a label.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>build.py <span style="color: #660033;">--package</span> org.spoj <span style="color: #660033;">--permission</span> INTERNET <span style="color: #660033;">--name</span> <span style="color: #ff0000;">"Spoj"</span> <span style="color: #660033;">--version</span> <span style="color: #000000;">1.0</span> <span style="color: #660033;">--dir</span> <span style="color: #000000; font-weight: bold;">/</span>Users<span style="color: #000000; font-weight: bold;">/</span>hannibal<span style="color: #000000; font-weight: bold;">/</span>PythonProjects<span style="color: #000000; font-weight: bold;">/</span>spoj<span style="color: #000000; font-weight: bold;">/</span> debug</pre>
      </td>
    </tr>
  </table>
</div>

<p>There is a saying that you should end on a high note, so that is what I&#8217;m going to do here right now. Join me next time, when I&#8217;ll try to replace lxml with something else&#8230;</p>

<p>Thanks for reading!</p>

<p>Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">02 Mar 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2015/03/02/sphere-judge-online-python-kivy-android-app-part-2/" class="post-title">Sphere Judge Online – Python Kivy Android app – Part 2</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-android" href="https://skarlso.github.io//categories/android">android</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Here we are again. I will attempt to further this little journey of mine into the land of Android and Python.</p>

<p>This is the second part of the advanture you can read the first one a little bit back.</p>

<h1 style="text-align: center;">
  The Script
</h1>

<p>&nbsp;</p>

<p>We left off at a point where I successfully configured my environment and compiled my first hello world APK. At that point it took a little bit fiddling to get it to work on my phone.</p>

<p>Now, I have progressed a little bit into spoj&#8217;s page parsing. The code so far is as follows:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">__author__ <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'hannibal'</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">random</span> <span style="color: #ff7700;font-weight:bold;">import</span> randint
<span style="color: #ff7700;font-weight:bold;">import</span> lxml.<span style="color: black;">html</span> <span style="color: #ff7700;font-weight:bold;">as</span> lh
&nbsp;
random_page_number <span style="color: #66cc66;">=</span> randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">63</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 63 being the maximum page number at spoj</span>
r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/problems/classical/sort=0,start=%d"</span> % <span style="color: black;">&#40;</span>random_page_number * <span style="color: #ff4500;">50</span> - <span style="color: #ff4500;">50</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
<span style="color: #808080; font-style: italic;"># Problem Div XPath =&gt; //[@class="problems"]</span>
&nbsp;
spoj_page <span style="color: #66cc66;">=</span> lh.<span style="color: black;">document_fromstring</span><span style="color: black;">&#40;</span>r.<span style="color: black;">text</span><span style="color: black;">&#41;</span>
links_to_problems <span style="color: #66cc66;">=</span> spoj_page<span style="color: black;">&#91;</span><span style="color: #ff4500;"></span><span style="color: black;">&#93;</span>.<span style="color: black;">xpath</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"//tr[@class='problemrow']/td[2]/a"</span><span style="color: black;">&#41;</span>
&nbsp;
current_link <span style="color: #66cc66;">=</span> links_to_problems<span style="color: black;">&#91;</span>randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span>links_to_problems<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#93;</span>
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>current_link.<span style="color: black;">attrib</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'href'</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/%s"</span> % current_link.<span style="color: black;">attrib</span><span style="color: black;">&#91;</span><span style="color: #483d8b;">'href'</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span>r.<span style="color: black;">text</span>.<span style="color: black;">encode</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"utf-8"</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is pretty straight forward so far. It gets the problems page, loads in all of the links and prints it out.</p>

<p>My goal is an application which looks something like this:</p>

<p>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>___</p>

<p>|   _<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>  |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                    Display Problem Description               | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |                                                                           | |</p>

<p>|  |_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_____ | |</p>

<p>|                                                                                 |</p>

<p>|                                                                                 |</p>

<p>|                         Button:Finish Problem                        |</p>

<p>|                                                                                 |</p>

<p>|                         Button:Next Problem                          |</p>

<p>|_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>_<strong>_</strong>__ |</p>

<p>It&#8217;s very basic. When it loads up, it will gather and display a new problem. You have two options, either get a new one, or save / finish this item, saying you never want to see it again.</p>

<p>Let&#8217;s put the first part into an android app. Just gather data, and get it disaplyed.</p>

<p>*Queue a days worth of hacking and frustrated cussing.*</p>

<p>So, turns out it&#8217;s not as easy as I would have liked it to be. I ran into some pretty nasty problems. Some of them I&#8217;ll write down below for the record, and an attempted solution as well.</p>

<h1 style="text-align: center;">
  Problems
</h1>

<p><strong>#1:</strong> <strong>Problem:</strong> Libraries. I&#8217;m using lxml and requests. Requests is a pure python library, but lxml is partially C. Which apparently is not very well supported yet.</p>

<p><strong>Solution (Partial):</strong> I could optain request by two ways, but the most simple one, was basically just building my distribution with the optional requests module like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>distribute.sh <span style="color: #660033;">-m</span> <span style="color: #ff0000;">"openssl pil requests kivy"</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Attempting to do the same with LXML resulted in a compile issue which I tracked down to something like: &#8220;sorry, but we don&#8217;t support OSX&#8221;. But it&#8217;s okay. There are other ways to parse an html page, I just really like the xpath filter. So I soldiered on with trying to get something to work at least.</p>

<p><strong>#3: Problem:</strong> <em>Bogus compile time exception.</em> There were some exceptions on the way when I was trying to compile with buildozer. <strong>Solution:</strong> It&#8217;s interesting because previously my solution to another compile time issue was to use a specific version of Cython. But this time the solution was to actually remove that version and install the latest one. Which is 0.22 as of the time of this writing. So:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> pip update cython</pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>#2: Problem:</strong> Connection. So now, I&#8217;m down to the bare bone. At this point, I just want to see a page source in a label. My code looks like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> kivy
kivy.<span style="color: black;">require</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'1.8.0'</span><span style="color: black;">&#41;</span>
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">lang</span> <span style="color: #ff7700;font-weight:bold;">import</span> Builder
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">uix</span>.<span style="color: black;">gridlayout</span> <span style="color: #ff7700;font-weight:bold;">import</span> GridLayout
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">properties</span> <span style="color: #ff7700;font-weight:bold;">import</span> NumericProperty
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">app</span> <span style="color: #ff7700;font-weight:bold;">import</span> App
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">random</span> <span style="color: #ff7700;font-weight:bold;">import</span> randint
<span style="color: #808080; font-style: italic;"># import lxml.html as lh</span>
&nbsp;
<span style="color: #808080; font-style: italic;"># import sys</span>
<span style="color: #808080; font-style: italic;"># sys.path.append('/sdcard/com.googlecode.pythonforandroid/extras/python/site-packages')</span>
&nbsp;
&nbsp;
Builder.<span style="color: black;">load_string</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'''
:
    cols: 1
    Label:
        text: root.get_problem()
    Button:
        text: 'Click me! %d' % root.counter
        on_release: root.my_callback()
'''</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> SpojAppScreen<span style="color: black;">&#40;</span>GridLayout<span style="color: black;">&#41;</span>:
    counter <span style="color: #66cc66;">=</span> NumericProperty<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> my_callback<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">'The button has been pushed'</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">counter</span> +<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> get_problem<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        random_page_number <span style="color: #66cc66;">=</span> randint<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: #66cc66;">,</span> <span style="color: #ff4500;">63</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 63 being the maximum page number at spoj</span>
        r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"http://www.spoj.com/problems/classical/sort=0,start=%d"</span> % <span style="color: black;">&#40;</span>random_page_number * <span style="color: #ff4500;">50</span> - <span style="color: #ff4500;">50</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># Problem Div XPath =&gt; //[@class="problems"]</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># spoj_page = lh.document_fromstring(r.text)</span>
        <span style="color: #808080; font-style: italic;"># links_to_problems = spoj_page[0].xpath("//tr[@class='problemrow']/td[2]/a")</span>
&nbsp;
        <span style="color: #808080; font-style: italic;"># current_link = links_to_problems[randint(0, len(links_to_problems))]</span>
        <span style="color: #808080; font-style: italic;"># print(current_link.attrib['href'])</span>
        <span style="color: #808080; font-style: italic;"># r = requests.get("http://www.spoj.com/%s" % current_link.attrib['href'])</span>
        <span style="color: #808080; font-style: italic;"># print(r.text.encode("utf-8"))</span>
        <span style="color: #ff7700;font-weight:bold;">return</span> r.<span style="color: black;">text</span>.<span style="color: black;">encode</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"utf-8"</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> SpojApp<span style="color: black;">&#40;</span>App<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> build<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> SpojAppScreen<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'__main__'</span>:
    SpojApp<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">run</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>However, running this results in a connection error in adb logcat:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  kivy.lang.BuilderException: Parser: File <span style="color: #ff0000;">""</span>, line <span style="color: #000000;">5</span>:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">3</span>:    cols: <span style="color: #000000;">1</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">4</span>:    Label:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  <span style="color: #000000; font-weight: bold;">&</span>gt;<span style="color: #000000; font-weight: bold;">&</span>gt;    <span style="color: #000000;">5</span>:        text: root.get_problem<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">6</span>:    Button:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">7</span>:        text: <span style="color: #ff0000;">'Click me! %d'</span> <span style="color: #000000; font-weight: bold;">%</span> root.counter
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  BuilderException: Parser: File <span style="color: #ff0000;">""</span>, line <span style="color: #000000;">5</span>:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">3</span>:    cols: <span style="color: #000000;">1</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">4</span>:    Label:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  <span style="color: #000000; font-weight: bold;">&</span>gt;<span style="color: #000000; font-weight: bold;">&</span>gt;    <span style="color: #000000;">5</span>:        text: root.get_problem<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">6</span>:    Button:
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:        <span style="color: #000000;">7</span>:        text: <span style="color: #ff0000;">'Click me! %d'</span> <span style="color: #000000; font-weight: bold;">%</span> root.counter
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ...
I<span style="color: #000000; font-weight: bold;">/</span>python  <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">27610</span><span style="color: #7a0874; font-weight: bold;">&#41;</span>:  ConnectionError: <span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #ff0000;">'Connection aborted.'</span>, gaierror<span style="color: #7a0874; font-weight: bold;">&#40;</span><span style="color: #000000;">4</span>, <span style="color: #ff0000;">'non-recoverable failure in name resolution.'</span><span style="color: #7a0874; font-weight: bold;">&#41;</span><span style="color: #7a0874; font-weight: bold;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Solution:</strong> I tried simply putting out a random number at some point, which actullay worked, so I know it&#8217;s the connection. I&#8217;m guessing I need permission to access the network. Which would be this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="xml" style="font-family:monospace;">uses-permission android:name="android.permission.INTERNET"</pre>
      </td>
    </tr>
  </table>
</div>

<p>And yes! Building and installing it with this additional permission got me so far as I can display the web page&#8217;s content in a label.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>build.py <span style="color: #660033;">--package</span> org.spoj <span style="color: #660033;">--permission</span> INTERNET <span style="color: #660033;">--name</span> <span style="color: #ff0000;">"Spoj"</span> <span style="color: #660033;">--version</span> <span style="color: #000000;">1.0</span> <span style="color: #660033;">--dir</span> <span style="color: #000000; font-weight: bold;">/</span>Users<span style="color: #000000; font-weight: bold;">/</span>hannibal<span style="color: #000000; font-weight: bold;">/</span>PythonProjects<span style="color: #000000; font-weight: bold;">/</span>spoj<span style="color: #000000; font-weight: bold;">/</span> debug</pre>
      </td>
    </tr>
  </table>
</div>

<p>There is a saying that you should end on a high note, so that is what I&#8217;m going to do here right now. Join me next time, when I&#8217;ll try to replace lxml with something else&#8230;</p>

<p>Thanks for reading!</p>

<p>Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">26 Feb 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2015/02/26/sphere-judge-online-python-kivy-android-app/" class="post-title">Sphere Judge Online – Python Kivy Android app</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-android" href="https://skarlso.github.io//categories/android">android</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello folks.</p>

<p>Today I would like to take you on a journey I fought myself through in order to write a python android app, which gets you a random problem from <a href="http://www.spoj.com/problems/classical/" target="_blank">Sphere Judge Online</a>. Then you can mark it as solved and it will be stored as such, and you can move on to the next problem. With the words of Neil deGrasse Tyson, Come with Me!</p>

<h1 style="text-align: center;">
  Beginnings
</h1>

<p>When I first embarked on this endeavour I ran into numerous errors, many amongst them being compilation issues when I was trying to install libraries.</p>

<p>I started to write down all of these, and then started fresh on a new machine. I realised that ALL of my problems where only because of <strong>ONE </strong>thing. One thing, which I wanted to do, but it ended up being the death of me. And that is&#8230;. *Drummrolls* <strong>Python 3. </strong>I tried doing all the things that I started to do, with Python 3. Turns out, that neither libraries are supporting it very well yet. And that&#8217;s including Cython as well, which I thought would be up to speed by now. But sadly, it&#8217;s not.</p>

<h1 style="text-align: center;">
  Prerequisite
</h1>

<p>In order to go any further we need a few things first. For this to work, you&#8217;ll have to perform these things in order as I found out later. And certain versions of certain libraries are required instead of the latest ones.</p>

<p>Depending on the environment you are using, you need to install python-dev and some other graphic libraries. I followed this and that was fine. Latest packages are working alright.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> build-essential <span style="color: #c20cb9; font-weight: bold;">patch</span> git-core ccache ant python-pip python-dev
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> ia32-libs  libc6-dev-i386
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> lib32stdc++<span style="color: #000000;">6</span> lib32z1</pre>
      </td>
    </tr>
  </table>
</div>

<p>Only install these if you are absolutely certain you need them.</p>

<p>Clone python-android from git into a nice and cosy directory.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> https:<span style="color: #000000; font-weight: bold;">//</span>github.com<span style="color: #000000; font-weight: bold;">/</span>kivy<span style="color: #000000; font-weight: bold;">/</span>python-for-android.git</pre>
      </td>
    </tr>
  </table>
</div>

<p>While this is underway, for python-android you also need <a href="http://developer.android.com/sdk/index.html#Other" target="_blank">android-sdk</a> and <a href="https://developer.android.com/tools/sdk/ndk/index.html" target="_blank">android-ndk</a>. Select the ones which are for your environment. The NDK is needed in order to build the APK out of our python code later on.</p>

<p>After you are done, run ./android and install tools, APIs and other things you want. Make sure you have these set up:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDSDK</span>=<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>android-sdk
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDNDK</span>=<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>android-ndk
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDNDKVER</span>=rX
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDAPI</span>=X</pre>
      </td>
    </tr>
  </table>
</div>

<pre>export PATH=$ANDROIDNDK:$ANDROIDSDK/platform-tools:$ANDROIDSDK/tools:$PATH</pre>

<p>The API version needs to be the one which you installed on your machine.</p>

<p>Now, we have to get a specific version of Cython. In order to do that, execute the following command:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> pip <span style="color: #c20cb9; font-weight: bold;">install</span> <span style="color: #660033;">-I</span> https:<span style="color: #000000; font-weight: bold;">//</span>pypi.python.org<span style="color: #000000; font-weight: bold;">/</span>packages<span style="color: #000000; font-weight: bold;">/</span>source<span style="color: #000000; font-weight: bold;">/</span>C<span style="color: #000000; font-weight: bold;">/</span>Cython<span style="color: #000000; font-weight: bold;">/</span>Cython-0.20.1.tar.gz</pre>
      </td>
    </tr>
  </table>
</div>

<p>Source your new .bash_profile file if you haven&#8217;t done so already.</p>

<p>At this point we are ready to install Kivy. Please follow the instructions for your environment on the respective page from Kivy&#8217;s documentation:</p>

<p><a href="http://kivy.org/docs/installation/installation.html" target="_blank"><a href="http://kivy.org/docs/installation/installation.html">http://kivy.org/docs/installation/installation.html</a></a></p>

<p><strong>Note</strong>: For Mac users. In addition, before doing the kivy stuff, and if you would like to execute kivy applications on your mac, you need to install pygame.</p>

<p>It&#8217;s a bit of a hassle but you only need to perform these commands:</p>

<p>Install Quartz =&gt; <a href="http://xquartz.macosforge.org/landing/" target="_blank"><a href="http://xquartz.macosforge.org/landing/">http://xquartz.macosforge.org/landing/</a></a></p>

<p>Install Homebrew =&gt; <span style="color: #ff9900;">ruby -e &#8220;$(curl -fsSL <a href="https://raw.github.com/Homebrew/homebrew/go/install)&amp;#8221">https://raw.github.com/Homebrew/homebrew/go/install)&amp;#8221</a>;</span></p>

<p>Install some other packages =&gt; <span style="color: #ff9900;">brew install hg sdl sdl_image sdl_mixer sdl_ttf portmidi</span></p>

<p>Install pygame =&gt; <span style="color: #ff9900;">pip install hg+<a href="http://bitbucket.org/pygame/pygame">http://bitbucket.org/pygame/pygame</a></span></p>

<p>Once this finishes, you should be good to go for the final command in the prerequisites. Go to your cloned python-android folder and run this (make sure you have ANT installed):</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>distribute.sh <span style="color: #660033;">-m</span> <span style="color: #ff0000;">"openssl pil kivy"</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Now we are ready for some coding.</p>

<h1 style="text-align: center;">
  Implementation
</h1>

<p>So, finally after our environment is all setup, we can move on to write some python code. Let&#8217;s start with a simple hello world application:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> kivy
kivy.<span style="color: black;">require</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'1.8.0'</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 1.8.0 is the latest kivy version</span>
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">lang</span> <span style="color: #ff7700;font-weight:bold;">import</span> Builder
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">uix</span>.<span style="color: black;">gridlayout</span> <span style="color: #ff7700;font-weight:bold;">import</span> GridLayout
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">properties</span> <span style="color: #ff7700;font-weight:bold;">import</span> NumericProperty
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">app</span> <span style="color: #ff7700;font-weight:bold;">import</span> App
&nbsp;
Builder.<span style="color: black;">load_string</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'''
:
    cols: 1
    Label:
        text: 'Welcome to the Hello world'
    Button:
        text: 'Click me! %d' % root.counter
        on_release: root.my_callback()
'''</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> HelloWorldScreen<span style="color: black;">&#40;</span>GridLayout<span style="color: black;">&#41;</span>:
    counter <span style="color: #66cc66;">=</span> NumericProperty<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> my_callback<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">'The button has been pushed'</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">counter</span> +<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> HelloWorldApp<span style="color: black;">&#40;</span>App<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> build<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> HelloWorldScreen<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'__main__'</span>:
    HelloWorldApp<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">run</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is a simple Hello World python-android app. Save this into a file called <span style="color: #ff9900;">main.py</span>. Main.py is used to execute the app on your phone. It&#8217;s your entry point. Whatever app you are writing, this has to be where it will begin.</p>

<p>In order to get this installed on our device, we will use python-android&#8217;s distribution.sh. The command to run after you changed directory into python-android is this (make sure that you have a compatible android device plugged in and in developer mode):</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>build.py <span style="color: #660033;">--package</span> org.hello.world <span style="color: #660033;">--name</span> <span style="color: #ff0000;">"Hello world"</span> <span style="color: #660033;">--version</span> <span style="color: #000000;">1.0</span> <span style="color: #660033;">--dir</span> <span style="color: #000000; font-weight: bold;">/</span>PATH<span style="color: #000000; font-weight: bold;">/</span>TO<span style="color: #000000; font-weight: bold;">/</span>helloworld debug installd</pre>
      </td>
    </tr>
  </table>
</div>

<p>Upon success, you should see it on your device. This is how the hello world app looks like:</p>

<h1 style="text-align: center;">
  Finishing up
</h1>

<p>This has been quite the ride so far. We will continue our journey when I&#8217;ll start writing my own app for SPOJ.</p>

<p>Thanks for reading!
Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">26 Feb 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2015/02/26/sphere-judge-online-python-kivy-android-app/" class="post-title">Sphere Judge Online – Python Kivy Android app</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-android" href="https://skarlso.github.io//categories/android">android</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello folks.</p>

<p>Today I would like to take you on a journey I fought myself through in order to write a python android app, which gets you a random problem from <a href="http://www.spoj.com/problems/classical/" target="_blank">Sphere Judge Online</a>. Then you can mark it as solved and it will be stored as such, and you can move on to the next problem. With the words of Neil deGrasse Tyson, Come with Me!</p>

<h1 style="text-align: center;">
  Beginnings
</h1>

<p>When I first embarked on this endeavour I ran into numerous errors, many amongst them being compilation issues when I was trying to install libraries.</p>

<p>I started to write down all of these, and then started fresh on a new machine. I realised that ALL of my problems where only because of <strong>ONE </strong>thing. One thing, which I wanted to do, but it ended up being the death of me. And that is&#8230;. *Drummrolls* <strong>Python 3. </strong>I tried doing all the things that I started to do, with Python 3. Turns out, that neither libraries are supporting it very well yet. And that&#8217;s including Cython as well, which I thought would be up to speed by now. But sadly, it&#8217;s not.</p>

<h1 style="text-align: center;">
  Prerequisite
</h1>

<p>In order to go any further we need a few things first. For this to work, you&#8217;ll have to perform these things in order as I found out later. And certain versions of certain libraries are required instead of the latest ones.</p>

<p>Depending on the environment you are using, you need to install python-dev and some other graphic libraries. I followed this and that was fine. Latest packages are working alright.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> build-essential <span style="color: #c20cb9; font-weight: bold;">patch</span> git-core ccache ant python-pip python-dev
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> ia32-libs  libc6-dev-i386
<span style="color: #c20cb9; font-weight: bold;">sudo</span> <span style="color: #c20cb9; font-weight: bold;">apt-get install</span> lib32stdc++<span style="color: #000000;">6</span> lib32z1</pre>
      </td>
    </tr>
  </table>
</div>

<p>Only install these if you are absolutely certain you need them.</p>

<p>Clone python-android from git into a nice and cosy directory.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">git clone</span> https:<span style="color: #000000; font-weight: bold;">//</span>github.com<span style="color: #000000; font-weight: bold;">/</span>kivy<span style="color: #000000; font-weight: bold;">/</span>python-for-android.git</pre>
      </td>
    </tr>
  </table>
</div>

<p>While this is underway, for python-android you also need <a href="http://developer.android.com/sdk/index.html#Other" target="_blank">android-sdk</a> and <a href="https://developer.android.com/tools/sdk/ndk/index.html" target="_blank">android-ndk</a>. Select the ones which are for your environment. The NDK is needed in order to build the APK out of our python code later on.</p>

<p>After you are done, run ./android and install tools, APIs and other things you want. Make sure you have these set up:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDSDK</span>=<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>android-sdk
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDNDK</span>=<span style="color: #000000; font-weight: bold;">/</span>path<span style="color: #000000; font-weight: bold;">/</span>to<span style="color: #000000; font-weight: bold;">/</span>android-ndk
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDNDKVER</span>=rX
<span style="color: #7a0874; font-weight: bold;">export</span> <span style="color: #007800;">ANDROIDAPI</span>=X</pre>
      </td>
    </tr>
  </table>
</div>

<pre>export PATH=$ANDROIDNDK:$ANDROIDSDK/platform-tools:$ANDROIDSDK/tools:$PATH</pre>

<p>The API version needs to be the one which you installed on your machine.</p>

<p>Now, we have to get a specific version of Cython. In order to do that, execute the following command:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">sudo</span> pip <span style="color: #c20cb9; font-weight: bold;">install</span> <span style="color: #660033;">-I</span> https:<span style="color: #000000; font-weight: bold;">//</span>pypi.python.org<span style="color: #000000; font-weight: bold;">/</span>packages<span style="color: #000000; font-weight: bold;">/</span>source<span style="color: #000000; font-weight: bold;">/</span>C<span style="color: #000000; font-weight: bold;">/</span>Cython<span style="color: #000000; font-weight: bold;">/</span>Cython-0.20.1.tar.gz</pre>
      </td>
    </tr>
  </table>
</div>

<p>Source your new .bash_profile file if you haven&#8217;t done so already.</p>

<p>At this point we are ready to install Kivy. Please follow the instructions for your environment on the respective page from Kivy&#8217;s documentation:</p>

<p><a href="http://kivy.org/docs/installation/installation.html" target="_blank"><a href="http://kivy.org/docs/installation/installation.html">http://kivy.org/docs/installation/installation.html</a></a></p>

<p><strong>Note</strong>: For Mac users. In addition, before doing the kivy stuff, and if you would like to execute kivy applications on your mac, you need to install pygame.</p>

<p>It&#8217;s a bit of a hassle but you only need to perform these commands:</p>

<p>Install Quartz =&gt; <a href="http://xquartz.macosforge.org/landing/" target="_blank"><a href="http://xquartz.macosforge.org/landing/">http://xquartz.macosforge.org/landing/</a></a></p>

<p>Install Homebrew =&gt; <span style="color: #ff9900;">ruby -e &#8220;$(curl -fsSL <a href="https://raw.github.com/Homebrew/homebrew/go/install)&amp;#8221">https://raw.github.com/Homebrew/homebrew/go/install)&amp;#8221</a>;</span></p>

<p>Install some other packages =&gt; <span style="color: #ff9900;">brew install hg sdl sdl_image sdl_mixer sdl_ttf portmidi</span></p>

<p>Install pygame =&gt; <span style="color: #ff9900;">pip install hg+<a href="http://bitbucket.org/pygame/pygame">http://bitbucket.org/pygame/pygame</a></span></p>

<p>Once this finishes, you should be good to go for the final command in the prerequisites. Go to your cloned python-android folder and run this (make sure you have ANT installed):</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>distribute.sh <span style="color: #660033;">-m</span> <span style="color: #ff0000;">"openssl pil kivy"</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Now we are ready for some coding.</p>

<h1 style="text-align: center;">
  Implementation
</h1>

<p>So, finally after our environment is all setup, we can move on to write some python code. Let&#8217;s start with a simple hello world application:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> kivy
kivy.<span style="color: black;">require</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'1.8.0'</span><span style="color: black;">&#41;</span> <span style="color: #808080; font-style: italic;"># 1.8.0 is the latest kivy version</span>
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">lang</span> <span style="color: #ff7700;font-weight:bold;">import</span> Builder
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">uix</span>.<span style="color: black;">gridlayout</span> <span style="color: #ff7700;font-weight:bold;">import</span> GridLayout
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">properties</span> <span style="color: #ff7700;font-weight:bold;">import</span> NumericProperty
<span style="color: #ff7700;font-weight:bold;">from</span> kivy.<span style="color: black;">app</span> <span style="color: #ff7700;font-weight:bold;">import</span> App
&nbsp;
Builder.<span style="color: black;">load_string</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'''
:
    cols: 1
    Label:
        text: 'Welcome to the Hello world'
    Button:
        text: 'Click me! %d' % root.counter
        on_release: root.my_callback()
'''</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> HelloWorldScreen<span style="color: black;">&#40;</span>GridLayout<span style="color: black;">&#41;</span>:
    counter <span style="color: #66cc66;">=</span> NumericProperty<span style="color: black;">&#40;</span><span style="color: #ff4500;"></span><span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">def</span> my_callback<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">print</span> <span style="color: #483d8b;">'The button has been pushed'</span>
        <span style="color: #008000;">self</span>.<span style="color: black;">counter</span> +<span style="color: #66cc66;">=</span> <span style="color: #ff4500;">1</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> HelloWorldApp<span style="color: black;">&#40;</span>App<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">def</span> build<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> HelloWorldScreen<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> __name__ <span style="color: #66cc66;">==</span> <span style="color: #483d8b;">'__main__'</span>:
    HelloWorldApp<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">run</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is a simple Hello World python-android app. Save this into a file called <span style="color: #ff9900;">main.py</span>. Main.py is used to execute the app on your phone. It&#8217;s your entry point. Whatever app you are writing, this has to be where it will begin.</p>

<p>In order to get this installed on our device, we will use python-android&#8217;s distribution.sh. The command to run after you changed directory into python-android is this (make sure that you have a compatible android device plugged in and in developer mode):</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="bash" style="font-family:monospace;">.<span style="color: #000000; font-weight: bold;">/</span>build.py <span style="color: #660033;">--package</span> org.hello.world <span style="color: #660033;">--name</span> <span style="color: #ff0000;">"Hello world"</span> <span style="color: #660033;">--version</span> <span style="color: #000000;">1.0</span> <span style="color: #660033;">--dir</span> <span style="color: #000000; font-weight: bold;">/</span>PATH<span style="color: #000000; font-weight: bold;">/</span>TO<span style="color: #000000; font-weight: bold;">/</span>helloworld debug installd</pre>
      </td>
    </tr>
  </table>
</div>

<p>Upon success, you should see it on your device. This is how the hello world app looks like:</p>

<h1 style="text-align: center;">
  Finishing up
</h1>

<p>This has been quite the ride so far. We will continue our journey when I&#8217;ll start writing my own app for SPOJ.</p>

<p>Thanks for reading!
Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">07 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/11/07/updating-all-jenkins-jobs-via-jenkins-api-python/" class="post-title">Updating All Jenkins Jobs Via Jenkins API – Python</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello everybody.</p>

<p>I would like to share with you a small script I wrote to update all, or a single, Jenkins job from a Python script remotely.</p>

<p>This will enable you to update a Jenkins job from anywhere using an admin credential based on a config.xml template that you have. With this, if you want to apply a config change to all or just a single job in Jenkins, you don&#8217;t have to go and do it for all the rest. You just call this script and it will cycle through all the jobs you have and update them if the begin with &#8220;yourpipelinedelimiter&#8221; or if they aren&#8217;t in a restricted list of jobs. The delimiter helps to identify pipelines which are dev pipelines. If you have multiple pipelines which are helpers or builders and you don&#8217;t usually apply the same config to them, than the delimiter can help identify the dev pipelines you actually want to update.</p>

<p>Enjoy, hope it helps someone.</p>

<p>And now, without any further ado:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #483d8b;">'''
    Created to update multiple pipelines in jenkins with a given configuration and job list.
    Usage: 
    Example 1:
    Updating a single pipeline's job with a given config.xml.
    python update-jenkins-jobs.py job-name config.xml pipeline-name
    Example 2:
    Updating every pipeline in jenkins dynamically. !!!WARNING!!! This updates every job EXCEPT of the ones specified in restricted_jobs.
    python update-jenkins-jobs.py job-name config.xml
'''</span>
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">xml</span>.<span style="color: black;">dom</span> <span style="color: #ff7700;font-weight:bold;">import</span> minidom
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> update_pipeline<span style="color: black;">&#40;</span>pipeline<span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''
    Takes in a list of pipelines to update.
    '''</span>
    config_file <span style="color: #66cc66;">=</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span>config_to_use<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'rb'</span><span style="color: black;">&#41;</span>
    headers <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: #483d8b;">'content-type'</span>: <span style="color: #483d8b;">'application/xml'</span><span style="color: black;">&#125;</span>
    <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Updating pipelines: "</span><span style="color: #66cc66;">,</span> pipeline<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">for</span> dev_job <span style="color: #ff7700;font-weight:bold;">in</span> pipeline:
        url <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"http://jenkins:9999/job/%s/job/%s/config.xml"</span> % <span style="color: black;">&#40;</span>dev_job<span style="color: #66cc66;">,</span> job_to_update<span style="color: black;">&#41;</span>
        r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">post</span><span style="color: black;">&#40;</span>url<span style="color: #66cc66;">,</span> data<span style="color: #66cc66;">=</span>config_file<span style="color: #66cc66;">,</span> headers<span style="color: #66cc66;">=</span>headers<span style="color: #66cc66;">,</span> auth<span style="color: #66cc66;">=</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'user'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'password'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Updating pipeline: %s; Response Code: %s"</span> % <span style="color: black;">&#40;</span>dev_job<span style="color: #66cc66;">,</span> r<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> get_dev_pipelines<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''
    Gets a list of pipelines which can be used by update_pipeline.
    '''</span>
    r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'http://jenkins:9999/api/xml'</span><span style="color: #66cc66;">,</span> auth<span style="color: #66cc66;">=</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'user'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'password'</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> stream<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: black;">&#41;</span>
    job_list_xml <span style="color: #66cc66;">=</span> r.<span style="color: black;">text</span>
&nbsp;
    xmldoc <span style="color: #66cc66;">=</span> minidom.<span style="color: black;">parseString</span><span style="color: black;">&#40;</span>job_list_xml<span style="color: black;">&#41;</span>
    itemlist <span style="color: #66cc66;">=</span> xmldoc.<span style="color: black;">getElementsByTagName</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'name'</span><span style="color: black;">&#41;</span> 
&nbsp;
    dev_job_list <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
&nbsp;
    restricted_jobs <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline1"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline2"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline3"</span><span style="color: black;">&#93;</span>
    <span style="color: #ff7700;font-weight:bold;">for</span> s <span style="color: #ff7700;font-weight:bold;">in</span> itemlist:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">"yourpipelinedelimiter-dev"</span> <span style="color: #ff7700;font-weight:bold;">in</span> s.<span style="color: black;">firstChild</span>.<span style="color: black;">nodeValue</span><span style="color: black;">&#41;</span> :
            value <span style="color: #66cc66;">=</span> s.<span style="color: black;">firstChild</span>.<span style="color: black;">nodeValue</span>
            <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: black;">&#40;</span>value <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> restricted_jobs<span style="color: black;">&#41;</span>:
                dev_job_list.<span style="color: black;">append</span><span style="color: black;">&#40;</span>value<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">return</span> dev_job_list
&nbsp;
&nbsp;
job_to_update <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span>
config_to_use <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span>
dev_pipeline <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#41;</span> &gt<span style="color: #66cc66;">;</span> <span style="color: #ff4500;">3</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Args length:"</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
    dev_pipeline.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">3</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
&nbsp;
update_pipeline<span style="color: black;">&#40;</span>get_dev_pipelines<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> dev_pipeline <span style="color: #ff7700;font-weight:bold;">else</span> dev_pipeline<span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Thanks for reading.</p>

<p>Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">07 Nov 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/11/07/updating-all-jenkins-jobs-via-jenkins-api-python/" class="post-title">Updating All Jenkins Jobs Via Jenkins API – Python</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello everybody.</p>

<p>I would like to share with you a small script I wrote to update all, or a single, Jenkins job from a Python script remotely.</p>

<p>This will enable you to update a Jenkins job from anywhere using an admin credential based on a config.xml template that you have. With this, if you want to apply a config change to all or just a single job in Jenkins, you don&#8217;t have to go and do it for all the rest. You just call this script and it will cycle through all the jobs you have and update them if the begin with &#8220;yourpipelinedelimiter&#8221; or if they aren&#8217;t in a restricted list of jobs. The delimiter helps to identify pipelines which are dev pipelines. If you have multiple pipelines which are helpers or builders and you don&#8217;t usually apply the same config to them, than the delimiter can help identify the dev pipelines you actually want to update.</p>

<p>Enjoy, hope it helps someone.</p>

<p>And now, without any further ado:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #483d8b;">'''
    Created to update multiple pipelines in jenkins with a given configuration and job list.
    Usage: 
    Example 1:
    Updating a single pipeline's job with a given config.xml.
    python update-jenkins-jobs.py job-name config.xml pipeline-name
    Example 2:
    Updating every pipeline in jenkins dynamically. !!!WARNING!!! This updates every job EXCEPT of the ones specified in restricted_jobs.
    python update-jenkins-jobs.py job-name config.xml
'''</span>
<span style="color: #ff7700;font-weight:bold;">from</span> <span style="color: #dc143c;">xml</span>.<span style="color: black;">dom</span> <span style="color: #ff7700;font-weight:bold;">import</span> minidom
<span style="color: #ff7700;font-weight:bold;">import</span> requests
<span style="color: #ff7700;font-weight:bold;">import</span> <span style="color: #dc143c;">sys</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> update_pipeline<span style="color: black;">&#40;</span>pipeline<span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''
    Takes in a list of pipelines to update.
    '''</span>
    config_file <span style="color: #66cc66;">=</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span>config_to_use<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'rb'</span><span style="color: black;">&#41;</span>
    headers <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: #483d8b;">'content-type'</span>: <span style="color: #483d8b;">'application/xml'</span><span style="color: black;">&#125;</span>
    <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Updating pipelines: "</span><span style="color: #66cc66;">,</span> pipeline<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">for</span> dev_job <span style="color: #ff7700;font-weight:bold;">in</span> pipeline:
        url <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"http://jenkins:9999/job/%s/job/%s/config.xml"</span> % <span style="color: black;">&#40;</span>dev_job<span style="color: #66cc66;">,</span> job_to_update<span style="color: black;">&#41;</span>
        r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">post</span><span style="color: black;">&#40;</span>url<span style="color: #66cc66;">,</span> data<span style="color: #66cc66;">=</span>config_file<span style="color: #66cc66;">,</span> headers<span style="color: #66cc66;">=</span>headers<span style="color: #66cc66;">,</span> auth<span style="color: #66cc66;">=</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'user'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'password'</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
        <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Updating pipeline: %s; Response Code: %s"</span> % <span style="color: black;">&#40;</span>dev_job<span style="color: #66cc66;">,</span> r<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
&nbsp;
<span style="color: #ff7700;font-weight:bold;">def</span> get_dev_pipelines<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>:
    <span style="color: #483d8b;">'''
    Gets a list of pipelines which can be used by update_pipeline.
    '''</span>
    r <span style="color: #66cc66;">=</span> requests.<span style="color: black;">get</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'http://jenkins:9999/api/xml'</span><span style="color: #66cc66;">,</span> auth<span style="color: #66cc66;">=</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'user'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'password'</span><span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> stream<span style="color: #66cc66;">=</span><span style="color: #008000;">True</span><span style="color: black;">&#41;</span>
    job_list_xml <span style="color: #66cc66;">=</span> r.<span style="color: black;">text</span>
&nbsp;
    xmldoc <span style="color: #66cc66;">=</span> minidom.<span style="color: black;">parseString</span><span style="color: black;">&#40;</span>job_list_xml<span style="color: black;">&#41;</span>
    itemlist <span style="color: #66cc66;">=</span> xmldoc.<span style="color: black;">getElementsByTagName</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'name'</span><span style="color: black;">&#41;</span> 
&nbsp;
    dev_job_list <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
&nbsp;
    restricted_jobs <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline1"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline2"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"yourpipelinedelimiter-dev-pipeline3"</span><span style="color: black;">&#93;</span>
    <span style="color: #ff7700;font-weight:bold;">for</span> s <span style="color: #ff7700;font-weight:bold;">in</span> itemlist:
        <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: black;">&#40;</span><span style="color: #483d8b;">"yourpipelinedelimiter-dev"</span> <span style="color: #ff7700;font-weight:bold;">in</span> s.<span style="color: black;">firstChild</span>.<span style="color: black;">nodeValue</span><span style="color: black;">&#41;</span> :
            value <span style="color: #66cc66;">=</span> s.<span style="color: black;">firstChild</span>.<span style="color: black;">nodeValue</span>
            <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: black;">&#40;</span>value <span style="color: #ff7700;font-weight:bold;">not</span> <span style="color: #ff7700;font-weight:bold;">in</span> restricted_jobs<span style="color: black;">&#41;</span>:
                dev_job_list.<span style="color: black;">append</span><span style="color: black;">&#40;</span>value<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">return</span> dev_job_list
&nbsp;
&nbsp;
job_to_update <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">1</span><span style="color: black;">&#93;</span>
config_to_use <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">2</span><span style="color: black;">&#93;</span>
dev_pipeline <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#41;</span> &gt<span style="color: #66cc66;">;</span> <span style="color: #ff4500;">3</span>:
    <span style="color: #ff7700;font-weight:bold;">print</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"Args length:"</span><span style="color: #66cc66;">,</span> <span style="color: #008000;">len</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
    dev_pipeline.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">sys</span>.<span style="color: black;">argv</span><span style="color: black;">&#91;</span><span style="color: #ff4500;">3</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span>
&nbsp;
update_pipeline<span style="color: black;">&#40;</span>get_dev_pipelines<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #ff7700;font-weight:bold;">not</span> dev_pipeline <span style="color: #ff7700;font-weight:bold;">else</span> dev_pipeline<span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Thanks for reading.</p>

<p>Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">25 Aug 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/08/25/python-course-review/" class="post-title">Python Course Review</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello Everybody.</p>

<p>Today I&#8217;d like to write a little bit about a python course I did.</p>

<p>It&#8217;s an 8 week course on algorithmic programming with fun little projects. I&#8217;d like to write down some of my solutions with pseudo code for my own better understanding and for the sake of sharing knowledge. I won&#8217;t, however, share full projects since that would be against the honour code.</p>

<p>Let&#8217;s begin&#8230;</p>

<p><strong>Week Zero</strong></p>

<p>This week was all about getting the hang out of reading the posts and the documentation and the questions and getting used to the wordings. The tutors really out did themselves. They tried to make a course that can be both funny and teach something at the same time which is anything but easy.</p>

<p>Even though the tasks that were given were interesting al-bight at times a little bit far stretched and could have been easier done if used something else to complete them. But if we would have done that, what&#8217;s the point of it all then?</p>

<p>So I&#8217;ll try to recall everything solely based on my notes taken in those 8 weeks. Let&#8217;s see how much I truly learned.</p>

<p><strong>Assignment of week one</strong></p>

<p>We were to build the game 2048 which if you played you know what it is all about.</p>

<div style="width: 225px" class="wp-caption alignleft">
  <img src="http://ironyca.files.wordpress.com/2014/03/2048-game.jpg?w=500&h=666" alt="" width="215" height="287" />
  
  <p class="wp-caption-text">
    2048 Game
  </p>
</div>

<p>The goal is to add up numbers so that higher and higher numbers are created. There is no real &#8220;end&#8221; of the game. You can continue as long as you have space left although the intended goal is to create 2048. There are a couple of clones of this game and we were supposed to write one this time of our own.</p>

<p>We approached this game with the intention of refreshing our memory about Python. Handling matrices python syntax, counting indices and a bit of assessment about the general understanding of Mathematics and programming from the populace.</p>

<p>I must say it was hard. It was hard to get back into the habit of properly thinking about something at first. It was hard to get used to Math again which I missed for a very long time. I forgot many things and as English is not my first language many things written about Math in English were extremely hard to understand in the beginning.</p>

<p>But thankfully for my trusty mathematics Bible in Hungarian I was saved.</p>

<div style="width: 187px" class="wp-caption alignleft">
  <img src="http://s02.static.libri.hu/cover/9f/3/818403_5.jpg" alt="" width="177" height="248" />
  
  <p class="wp-caption-text">
    Math book
  </p>
</div>

<p>This book is 1448 pages long but contained all the information necessary to get my mind back into the game. And oh boy was it worth the initial trouble. I had to first realize that I forgot so much it was very painful and immensely disappointing, frustrating and shameful. But you should never give up and so I fought my way through it.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>And it was extremely helpful to do Tests First. As the grading was based on how many of a given set of Unit Tests were passing it was very helpful to start tests first which were leading the design of the program. Also it was crucial to work in as little chunks as possible since one could easily lost himself trying to grasp a problem proving to be too large to look at from afar.</p>

<p>The hard part about this project was the Merging of the numbers and creating the proper grid which results from the Merge. Here are some examples:</p>

<ul>
<li><code style="color: #dd1144;">[2, 0, 2, 4]</code> should return <code style="color: #dd1144;">[4, 4, 0, 0]</code></li>
<li><code style="color: #dd1144;">[0, 0, 2, 2]</code> should return <code style="color: #dd1144;">[4, 0, 0, 0]</code></li>
<li><code style="color: #dd1144;">[2, 2, 0, 0]</code> should return <code style="color: #dd1144;">[4, 0, 0, 0]</code></li>
<li><code style="color: #dd1144;">[2, 2, 2, 2]</code> should return <code style="color: #dd1144;">[4, 4, 0, 0]</code></li>
<li><code style="color: #dd1144;">[8, 16, 16, 8]</code> should return <code style="color: #dd1144;">[8, 32, 8, 0]</code></li>
</ul>

<p>In order to achieve this you must trim the zeros like this <span style="color: #ff0000;">[2,2,4]</span> and than produce the result which is <span style="color: #ff0000;">[4,4]</span> and put a couple of zeros at the end <span style="color: #ff0000;">[4,4,0,0]</span>. My first though was to use the Deque class in Python in order to achieve this but that was an outside module which was not allowed.</p>

<p>It was an interesting way to begin the course. Many people left at this point and were leaving afterwards too. Most of them in frustration that they were missing the python knowledge the rest out of frustration of not knowing the necessary math. At the end though it was getting easier to follow the problems after we got used to the conventions and sentence structures. The professors were also helpful and sometimes re-worded some of the descriptions to better describe what they wanted.</p>

<p><strong>Week One</strong></p>

<p>So after a hard start we moved on to a very interesting week one. This one got me into a certain game I don&#8217;t want to see ever again&#8230; It&#8217;s name: <strong><a title="Cookie Clicker" href="http://orteil.dashnet.org/cookieclicker/" target="_blank">Cookie Clicker</a>.</strong></p>

<p><img class="alignnone" src="http://img2.wikia.nocookie.net/__cb20130827014912/cookieclicker/images/5/5a/PerfectCookie.png" alt="" width="203" height="203" /></p>

<p>We sort of had to re-create the cookie clicker but without the clicking. We only were supposed to re-create the buying of upgrades and simulate a sequence of clicks via the means of a cycle.</p>

<p>In this week the description of the tasks was, at the least, confusing. They started to use the term _time _which lead many to believe that we were somehow supposed to use python&#8217;s date / time methods and libraries. But after a couple of re-reads it was apparent that by _time <em>they actually were referring to </em><strong>cycle count.</strong>_<strong> </strong></p>

<p>Knowing this made the task at hand a lot easier. This time around our main focus were the following:</p>

<ul>
<li>Mathematical Sums</li>
<li>Finding the Max</li>
<li>Higher &#8211; Order functions</li>
<li>Plotting with Python</li>
</ul>

<p>The course just went into overdrive. We were looking a lot at thing like these:</p>

<p><span id="MathJax-Span-185" class="mrow"><span id="MathJax-Span-186" class="munderover"><span id="MathJax-Span-187" class="mo">∑</span><span id="MathJax-Span-193" class="mi" style="font-style: italic;">n i=0 </span></span><span id="MathJax-Span-194" class="msubsup"><span id="MathJax-Span-195" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-196" class="mi" style="font-style: italic;">i </span></span><span id="MathJax-Span-197" class="mo">= </span><span id="MathJax-Span-198" class="msubsup"><span id="MathJax-Span-199" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-200" class="mn">0 </span></span><span id="MathJax-Span-201" class="mo">+ </span><span id="MathJax-Span-202" class="msubsup"><span id="MathJax-Span-203" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-204" class="mn">1 </span></span><span id="MathJax-Span-205" class="mo">+ </span><span id="MathJax-Span-206" class="msubsup"><span id="MathJax-Span-207" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-208" class="mn">2 </span></span><span id="MathJax-Span-209" class="mo">+ </span><span id="MathJax-Span-210" class="mo">.</span><span id="MathJax-Span-211" class="mo">.</span><span id="MathJax-Span-212" class="mo">. </span><span id="MathJax-Span-213" class="mo">+ </span><span id="MathJax-Span-214" class="msubsup"><span id="MathJax-Span-215" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-216" class="mi" style="font-style: italic;">n </span></span><span id="MathJax-Span-217" class="mo">= </span><span id="MathJax-Span-218" class="mfrac"><span id="MathJax-Span-219" class="mrow"><span id="MathJax-Span-220" class="msubsup"><span id="MathJax-Span-221" class="mi" style="font-style: italic;">α^(</span><span id="MathJax-Span-222" class="texatom"><span id="MathJax-Span-223" class="mrow"><span id="MathJax-Span-224" class="mi" style="font-style: italic;">n</span><span id="MathJax-Span-225" class="mo">+</span><span id="MathJax-Span-226" class="mn">1) </span></span></span></span><span id="MathJax-Span-227" class="mo">− </span><span id="MathJax-Span-228" class="mn">1 / </span></span><span id="MathJax-Span-229" class="mrow"><span id="MathJax-Span-230" class="mi" style="font-style: italic;">α </span><span id="MathJax-Span-231" class="mo">− </span><span id="MathJax-Span-232" class="mn">1</span></span></span></span></p>

<p>It was rather awesome though frustrating at first like I wrote earlier. These were the easier one.</p>

<p>Finding the maximum is trivial. Especially if you are using a built in <strong>max </strong>provided by Python. But if you mix it with Higher-Order functions it gets interesting. If you want to do anything else as well and not just a max, for example getting the index of the maximum item as well, you usually end up writing a custom Max any ways.</p>

<p>Plotting in Python was exquisite interesting. The garphs which were produced showed as an insight into how powerful a solution really is or how effective. Here came in the Big-O notations almost. To see if a function was exponential, logarithmic or plain polynomial. O(n), O(n^2), O(logn) etc, etc.</p>

<p>This resulted in very interesting graphs like this:</p>

<p><strong>Week Two</strong></p>

<p>So last week we had plotting and counting this week was even more interesting. Week Two&#8217;s main focus was <strong>Probability</strong>. Specifically the <a href="http://en.wikipedia.org/wiki/Monte_Carlo_method" target="_blank"><strong>Monte Carlo</strong> <strong>methods</strong></a>. Tl;dr; it describes that if you try something enough times you can derive a result that will be, with very high probability, the one you are looking for (expected value).</p>

<p>We tried out this algorithm by playing a nice game of tic-tac-toe.</p>

<p><img class="alignleft" src="http://www.janetkruskamp.com/Images/TicTacToe.jpg" alt="" width="227" height="227" /></p>

<p>The point of this exercise was to create a machine player which, after running a 1000 or so random scenarios, was choosing the best option given a certain game state. It was difficult to get the results to always return a correct answer. At this point last weeks plotting became important since if your Monet Carlo algorithm was not fast enough the program was running increasingly slower and slower.</p>

<p>I was not very satisfied with my solution. It worked, but it was very slow and it wasn&#8217;t always returning the best option&#8230;</p>

<p><strong>Week Three</strong></p>

<p>So what comes after probability? Correct. <strong>Combinatorics. </strong></p>

<p>The next hill to climb was combinatorics. Fortunately for me I love probability and combinatorics so this was a little bit easier for me. I was getting the hang out of function calculation as well so I wrote better homework and better projects at this point. Which is the aim of the course, right?</p>

<p>The game we used for this approach was <a href="http://en.wikipedia.org/wiki/Yahtzee" target="_blank"><strong>Yahtzee</strong></a>.</p>

<p><img class="alignleft" src="http://playpop.com/medias/images/splashscreens/yahtzee_en.png" alt="" width="279" height="201" /></p>

<p>Now let me say this without too much remorse. I truly, fully and with all my heart, hate Yahtzee. I think it&#8217;s stupid. I&#8217;m sorry. I truly do. The only thing I can think of when I hear yahtzee is the South Park version of it.</p>

<p>&nbsp;</p>

<p>South Park Version of Yahtzee + Tron:</p>

<p>I share the enthusiastic look of Stan here.</p>

<p>Anyhow, moving on&#8230; Thank to the coursera Gods we weren&#8217;t suppose to write a whole game of Yathzee just a very simplified version of it. We were supposed to count the upper combinations on the second throw. So you already have one throw and you must choose how many die you want to hold on to to maximise the possibility of the best outcome possible. Huh&#8230; come again?</p>

<p>So you already had a hand. And now the program was to determine which die you were supposed to hold on too in order to maximise the score you can achieve with the remaining two throws.</p>

<p>There were a few interesting things that came in with this task. For example this was the first time I could use a Dict init from a list with a zip.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">hand_dict <span style="color: #66cc66;">=</span> <span style="color: #008000;">dict</span><span style="color: black;">&#40;</span><span style="color: #008000;">zip</span><span style="color: black;">&#40;</span><span style="color: #008000;">list</span><span style="color: black;">&#40;</span>hand<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: #ff4500;"></span><span style="color: black;">&#93;</span>*<span style="color: #008000;">len</span><span style="color: black;">&#40;</span>hand<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>And this was the point in course were I found perhaps the most interesting thing. I found an actual use for reduce which was working. I was beginning to get into the habit of using map, filter, reduce.</p>

<p>This was the beauty:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">my_list <span style="color: #66cc66;">=</span> <span style="color: #008000;">reduce</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> z<span style="color: #66cc66;">,</span> x: z + <span style="color: black;">&#91;</span>y + <span style="color: black;">&#91;</span>x<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">for</span> y <span style="color: #ff7700;font-weight:bold;">in</span> z<span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> hand<span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This piece of code produced all the combinations of a given hand which was a list of Tuples. It merged them into a list of lists which I created a list of Tuples out from. After this my life was never ever the same again.</p>

<p><strong>Week Four</strong></p>

<p>For me this was the most interesting part of the course. I LOVED this task. Focus was:</p>

<ul>
<li>Python Generators</li>
<li>Stacks / Queues</li>
<li>Inheritance in Python</li>
<li>Girds</li>
<li>Grid Search / <a href="http://en.wikipedia.org/wiki/Breadth-first_search" target="_blank">Breadth First Search</a></li>
</ul>

<p>And the task with which we were supposed to achieve this was&#8230;. <span style="color: #ff0000;"><strong>Zombie Apocalypse</strong></span>. It was sort of like <strong><a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life" target="_blank">Conway&#8217;s Game of Life</a></strong>. Given a grid in which there were <span style="color: #ff0000;"><strong>Zombies</strong></span><strong> </strong>and <span style="color: #000000;"><strong><span style="color: #339966;">Humans </span></strong></span> <strong><span style="color: #000000;">Obstacles.</span></strong></p>

<p>The Zombies could only move up, down, left, right. The humans could flee diagonally and none of them could penetrate an obstacle. It was very much fun to write this. The most challenge was to learn the proper implementation of the breadth first search algorithm as the Zombies had to detect the nearest Humans to move towards to and the Humans needed to see the nearest Zombies to flee from.</p>

<p><strong>Week Five</strong></p>

<p>Halfway through it was become difficult to maintain the time needed for this course. I was finding myself applying a few late days here and there. This was a two months course after all. I did not have all the time in the world at my disposal. But I managed to submit everything without penalties.</p>

<p>So this weeks task was rather mundane. It was a <strong>world wrangler</strong>. Which means given a word generate valid words from the letters in the provided word.</p>

<p>The algorithm we were supposed to use though was for me a bit of a challenge. I&#8217;ll be honest with you, for me, it was a little bit hard to wrap my head around this one. But eventually I succeeded.</p>

<p>It was Merge-Sort and Recursion. Let me tell you this now, I hate merge-sort. Recursion I do love though. What I never learned though and was very interesting for me to learn now was recurrences in mathematics. Well never learned is a bit harsh since I knew Fibonacci already and Pascal&#8217;s Triangle but the mathematical definition was a refreshing new view. I&#8217;m talking about <a href="http://en.wikipedia.org/wiki/Recurrence_relation" target="_blank"><strong>Recurrence Relations</strong></a>.</p>

<p><img class="mwe-math-fallback-png-inline tex" style="color: #252525;" src="http://upload.wikimedia.org/math/1/a/4/1a4da05124f61db47a4805b411ff8c3b.png" alt="F_n = F_{n-1}+F_{n-2}" /></p>

<p>This is the Recurrence relation of the famous Fibonacci. Easy, right? Well the hard part is when you are trying to get the <a href="http://en.wikipedia.org/wiki/Binet_formula#Closed-form_expression" target="_blank"><strong>closed-form-expression</strong></a> of a Recurrence.</p>

<p><strong>Week Six</strong></p>

<p>Finally it was coming to an end. The last week was easy so this week had to have a punch. And oh boy it did. This weeks focus:</p>

<ul>
<li>Trees</li>
<li>Lambdas</li>
<li>Illustration of Trees</li>
<li><a href="http://en.wikipedia.org/wiki/Minimax" target="_blank">Minimax</a></li>
<li><a href="http://en.wikipedia.org/wiki/Depth-first_search" target="_blank">Depth First Search</a></li>
</ul>

<p>If I hated merge-sort I hated minimax more. I don&#8217;t know why but it was again very hard for me to properly grasp this concept. I mean I understood what needed to be done of course but writing it done with code proved to be more difficult then I thought it would be.</p>

<p>After hours of research and reading finally I could come up with a solution which was working. I wouldn&#8217;t say it was good&#8230; But it was working.</p>

<p>The game with which we were supposed to demonstrate this algorithm was&#8230; Tic-Tac-Toe. Turns out that it&#8217;s rather common place to show off minimax with tic-tac-toe as it was fewer possibilities. The point of the exercise was the following&#8230;:</p>

<p><img class="alignnone" src="http://www.ocf.berkeley.edu/~yosenl/extras/alphabeta/alphabeta.jpg" alt="" width="516" height="405" /></p>

<p>&nbsp;</p>

<p>To create trees out of the possible moves given a certain game state. This time we wanted to make absolutely sure that if we can&#8217;t win the game at least we won&#8217;t loose it. And that&#8217;s the point of minimax. It will minimize your losses.</p>

<p>Now there are several things about this algorithm that are hard.</p>

<p><strong>Performance of Minimax</strong></p>

<p>It has and always will be a very interesting task for programmers to try to achieve a better performance for these calculations. Since it&#8217;s trying to build up a tree with all the possible combinations a game can have it will end up with a huge tree which will take ages to traverse.</p>

<p>A few of the solutions could be to exit the search once you have a definitive answer. If you find a winning move there is no point of looking any further. You just stop.</p>

<p>You can create the tree dynamically. You can make it somehow intelligent enough to predict a possible best first move and then use minimax on the rest. Or use <a href="http://en.wikipedia.org/wiki/Alpha-beta_pruning" target="_blank"><strong>Alpha-beta pruning</strong></a>.</p>

<p><strong>Week Seven</strong></p>

<p>And so we are coming to an end. Last weeks assignment was basically to put all the previous weeks knowledge together to create the application called 15 puzzle.</p>

<p><img class="alignleft" src="http://kociemba.org/fifteen/pics/puz.jpg" alt="" width="183" height="183" /></p>

<p>Now, there was however a little addition to the previous knowledge. It was <a href="http://en.wikipedia.org/wiki/Invariant_(computer_science)" target="_blank"><strong>invariants</strong></a>. Now, I love Logic. And I&#8217;ve been actually using invariants in computer science programming and testing for a long time so this part was not really a problem.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>An example of an invariant in python would be something like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">while</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">5</span>:
  x <span style="color: #66cc66;">=</span> x + <span style="color: #ff4500;">1</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is a loop invariant example. In you find a very useful invariant in your program you can write an assert for it which will help you debug your code and work in small chunks. Invariants will make refactoring your code a hell of a lot easier. As if your invariant is suddenly false you need to check what went wrong.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">while</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">5</span>:
  x <span style="color: #66cc66;">=</span> x + <span style="color: #ff4500;">1</span>
  <span style="color: #ff7700;font-weight:bold;">assert</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">6</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This assert will make sure that if your invariant for whatever reason isn&#8217;t true your code fails immediately.</p>

<p><strong>End Credits</strong></p>

<p>So this was the end of the course. I learned a a lot from this course and I&#8217;m very proud of myself for completing it. I took away a lot from this course. I took away confidence and logical thinking. I took away greater trust in my Python knowledge and that it&#8217;s very important to keep my skills from deteriorating.</p>

<p>And I think math is important for proper, deep understanding of programming as a science. I think refreshing my math skills gave me at least a deeper trust in my ability to write a piece of code however complicated it might appear. After writing a minimax algorithm I think some Hibernate with DIP and SRP will prove to be less of a problem. Or at least a different category of a problem&#8230;. Hehe.</p>

<p>Thanks for reading!
Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">25 Aug 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/08/25/python-course-review/" class="post-title">Python Course Review</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello Everybody.</p>

<p>Today I&#8217;d like to write a little bit about a python course I did.</p>

<p>It&#8217;s an 8 week course on algorithmic programming with fun little projects. I&#8217;d like to write down some of my solutions with pseudo code for my own better understanding and for the sake of sharing knowledge. I won&#8217;t, however, share full projects since that would be against the honour code.</p>

<p>Let&#8217;s begin&#8230;</p>

<p><strong>Week Zero</strong></p>

<p>This week was all about getting the hang out of reading the posts and the documentation and the questions and getting used to the wordings. The tutors really out did themselves. They tried to make a course that can be both funny and teach something at the same time which is anything but easy.</p>

<p>Even though the tasks that were given were interesting al-bight at times a little bit far stretched and could have been easier done if used something else to complete them. But if we would have done that, what&#8217;s the point of it all then?</p>

<p>So I&#8217;ll try to recall everything solely based on my notes taken in those 8 weeks. Let&#8217;s see how much I truly learned.</p>

<p><strong>Assignment of week one</strong></p>

<p>We were to build the game 2048 which if you played you know what it is all about.</p>

<div style="width: 225px" class="wp-caption alignleft">
  <img src="http://ironyca.files.wordpress.com/2014/03/2048-game.jpg?w=500&h=666" alt="" width="215" height="287" />
  
  <p class="wp-caption-text">
    2048 Game
  </p>
</div>

<p>The goal is to add up numbers so that higher and higher numbers are created. There is no real &#8220;end&#8221; of the game. You can continue as long as you have space left although the intended goal is to create 2048. There are a couple of clones of this game and we were supposed to write one this time of our own.</p>

<p>We approached this game with the intention of refreshing our memory about Python. Handling matrices python syntax, counting indices and a bit of assessment about the general understanding of Mathematics and programming from the populace.</p>

<p>I must say it was hard. It was hard to get back into the habit of properly thinking about something at first. It was hard to get used to Math again which I missed for a very long time. I forgot many things and as English is not my first language many things written about Math in English were extremely hard to understand in the beginning.</p>

<p>But thankfully for my trusty mathematics Bible in Hungarian I was saved.</p>

<div style="width: 187px" class="wp-caption alignleft">
  <img src="http://s02.static.libri.hu/cover/9f/3/818403_5.jpg" alt="" width="177" height="248" />
  
  <p class="wp-caption-text">
    Math book
  </p>
</div>

<p>This book is 1448 pages long but contained all the information necessary to get my mind back into the game. And oh boy was it worth the initial trouble. I had to first realize that I forgot so much it was very painful and immensely disappointing, frustrating and shameful. But you should never give up and so I fought my way through it.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>And it was extremely helpful to do Tests First. As the grading was based on how many of a given set of Unit Tests were passing it was very helpful to start tests first which were leading the design of the program. Also it was crucial to work in as little chunks as possible since one could easily lost himself trying to grasp a problem proving to be too large to look at from afar.</p>

<p>The hard part about this project was the Merging of the numbers and creating the proper grid which results from the Merge. Here are some examples:</p>

<ul>
<li><code style="color: #dd1144;">[2, 0, 2, 4]</code> should return <code style="color: #dd1144;">[4, 4, 0, 0]</code></li>
<li><code style="color: #dd1144;">[0, 0, 2, 2]</code> should return <code style="color: #dd1144;">[4, 0, 0, 0]</code></li>
<li><code style="color: #dd1144;">[2, 2, 0, 0]</code> should return <code style="color: #dd1144;">[4, 0, 0, 0]</code></li>
<li><code style="color: #dd1144;">[2, 2, 2, 2]</code> should return <code style="color: #dd1144;">[4, 4, 0, 0]</code></li>
<li><code style="color: #dd1144;">[8, 16, 16, 8]</code> should return <code style="color: #dd1144;">[8, 32, 8, 0]</code></li>
</ul>

<p>In order to achieve this you must trim the zeros like this <span style="color: #ff0000;">[2,2,4]</span> and than produce the result which is <span style="color: #ff0000;">[4,4]</span> and put a couple of zeros at the end <span style="color: #ff0000;">[4,4,0,0]</span>. My first though was to use the Deque class in Python in order to achieve this but that was an outside module which was not allowed.</p>

<p>It was an interesting way to begin the course. Many people left at this point and were leaving afterwards too. Most of them in frustration that they were missing the python knowledge the rest out of frustration of not knowing the necessary math. At the end though it was getting easier to follow the problems after we got used to the conventions and sentence structures. The professors were also helpful and sometimes re-worded some of the descriptions to better describe what they wanted.</p>

<p><strong>Week One</strong></p>

<p>So after a hard start we moved on to a very interesting week one. This one got me into a certain game I don&#8217;t want to see ever again&#8230; It&#8217;s name: <strong><a title="Cookie Clicker" href="http://orteil.dashnet.org/cookieclicker/" target="_blank">Cookie Clicker</a>.</strong></p>

<p><img class="alignnone" src="http://img2.wikia.nocookie.net/__cb20130827014912/cookieclicker/images/5/5a/PerfectCookie.png" alt="" width="203" height="203" /></p>

<p>We sort of had to re-create the cookie clicker but without the clicking. We only were supposed to re-create the buying of upgrades and simulate a sequence of clicks via the means of a cycle.</p>

<p>In this week the description of the tasks was, at the least, confusing. They started to use the term _time _which lead many to believe that we were somehow supposed to use python&#8217;s date / time methods and libraries. But after a couple of re-reads it was apparent that by _time <em>they actually were referring to </em><strong>cycle count.</strong>_<strong> </strong></p>

<p>Knowing this made the task at hand a lot easier. This time around our main focus were the following:</p>

<ul>
<li>Mathematical Sums</li>
<li>Finding the Max</li>
<li>Higher &#8211; Order functions</li>
<li>Plotting with Python</li>
</ul>

<p>The course just went into overdrive. We were looking a lot at thing like these:</p>

<p><span id="MathJax-Span-185" class="mrow"><span id="MathJax-Span-186" class="munderover"><span id="MathJax-Span-187" class="mo">∑</span><span id="MathJax-Span-193" class="mi" style="font-style: italic;">n i=0 </span></span><span id="MathJax-Span-194" class="msubsup"><span id="MathJax-Span-195" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-196" class="mi" style="font-style: italic;">i </span></span><span id="MathJax-Span-197" class="mo">= </span><span id="MathJax-Span-198" class="msubsup"><span id="MathJax-Span-199" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-200" class="mn">0 </span></span><span id="MathJax-Span-201" class="mo">+ </span><span id="MathJax-Span-202" class="msubsup"><span id="MathJax-Span-203" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-204" class="mn">1 </span></span><span id="MathJax-Span-205" class="mo">+ </span><span id="MathJax-Span-206" class="msubsup"><span id="MathJax-Span-207" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-208" class="mn">2 </span></span><span id="MathJax-Span-209" class="mo">+ </span><span id="MathJax-Span-210" class="mo">.</span><span id="MathJax-Span-211" class="mo">.</span><span id="MathJax-Span-212" class="mo">. </span><span id="MathJax-Span-213" class="mo">+ </span><span id="MathJax-Span-214" class="msubsup"><span id="MathJax-Span-215" class="mi" style="font-style: italic;">α^</span><span id="MathJax-Span-216" class="mi" style="font-style: italic;">n </span></span><span id="MathJax-Span-217" class="mo">= </span><span id="MathJax-Span-218" class="mfrac"><span id="MathJax-Span-219" class="mrow"><span id="MathJax-Span-220" class="msubsup"><span id="MathJax-Span-221" class="mi" style="font-style: italic;">α^(</span><span id="MathJax-Span-222" class="texatom"><span id="MathJax-Span-223" class="mrow"><span id="MathJax-Span-224" class="mi" style="font-style: italic;">n</span><span id="MathJax-Span-225" class="mo">+</span><span id="MathJax-Span-226" class="mn">1) </span></span></span></span><span id="MathJax-Span-227" class="mo">− </span><span id="MathJax-Span-228" class="mn">1 / </span></span><span id="MathJax-Span-229" class="mrow"><span id="MathJax-Span-230" class="mi" style="font-style: italic;">α </span><span id="MathJax-Span-231" class="mo">− </span><span id="MathJax-Span-232" class="mn">1</span></span></span></span></p>

<p>It was rather awesome though frustrating at first like I wrote earlier. These were the easier one.</p>

<p>Finding the maximum is trivial. Especially if you are using a built in <strong>max </strong>provided by Python. But if you mix it with Higher-Order functions it gets interesting. If you want to do anything else as well and not just a max, for example getting the index of the maximum item as well, you usually end up writing a custom Max any ways.</p>

<p>Plotting in Python was exquisite interesting. The garphs which were produced showed as an insight into how powerful a solution really is or how effective. Here came in the Big-O notations almost. To see if a function was exponential, logarithmic or plain polynomial. O(n), O(n^2), O(logn) etc, etc.</p>

<p>This resulted in very interesting graphs like this:</p>

<p><strong>Week Two</strong></p>

<p>So last week we had plotting and counting this week was even more interesting. Week Two&#8217;s main focus was <strong>Probability</strong>. Specifically the <a href="http://en.wikipedia.org/wiki/Monte_Carlo_method" target="_blank"><strong>Monte Carlo</strong> <strong>methods</strong></a>. Tl;dr; it describes that if you try something enough times you can derive a result that will be, with very high probability, the one you are looking for (expected value).</p>

<p>We tried out this algorithm by playing a nice game of tic-tac-toe.</p>

<p><img class="alignleft" src="http://www.janetkruskamp.com/Images/TicTacToe.jpg" alt="" width="227" height="227" /></p>

<p>The point of this exercise was to create a machine player which, after running a 1000 or so random scenarios, was choosing the best option given a certain game state. It was difficult to get the results to always return a correct answer. At this point last weeks plotting became important since if your Monet Carlo algorithm was not fast enough the program was running increasingly slower and slower.</p>

<p>I was not very satisfied with my solution. It worked, but it was very slow and it wasn&#8217;t always returning the best option&#8230;</p>

<p><strong>Week Three</strong></p>

<p>So what comes after probability? Correct. <strong>Combinatorics. </strong></p>

<p>The next hill to climb was combinatorics. Fortunately for me I love probability and combinatorics so this was a little bit easier for me. I was getting the hang out of function calculation as well so I wrote better homework and better projects at this point. Which is the aim of the course, right?</p>

<p>The game we used for this approach was <a href="http://en.wikipedia.org/wiki/Yahtzee" target="_blank"><strong>Yahtzee</strong></a>.</p>

<p><img class="alignleft" src="http://playpop.com/medias/images/splashscreens/yahtzee_en.png" alt="" width="279" height="201" /></p>

<p>Now let me say this without too much remorse. I truly, fully and with all my heart, hate Yahtzee. I think it&#8217;s stupid. I&#8217;m sorry. I truly do. The only thing I can think of when I hear yahtzee is the South Park version of it.</p>

<p>&nbsp;</p>

<p>South Park Version of Yahtzee + Tron:</p>

<p>I share the enthusiastic look of Stan here.</p>

<p>Anyhow, moving on&#8230; Thank to the coursera Gods we weren&#8217;t suppose to write a whole game of Yathzee just a very simplified version of it. We were supposed to count the upper combinations on the second throw. So you already have one throw and you must choose how many die you want to hold on to to maximise the possibility of the best outcome possible. Huh&#8230; come again?</p>

<p>So you already had a hand. And now the program was to determine which die you were supposed to hold on too in order to maximise the score you can achieve with the remaining two throws.</p>

<p>There were a few interesting things that came in with this task. For example this was the first time I could use a Dict init from a list with a zip.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">hand_dict <span style="color: #66cc66;">=</span> <span style="color: #008000;">dict</span><span style="color: black;">&#40;</span><span style="color: #008000;">zip</span><span style="color: black;">&#40;</span><span style="color: #008000;">list</span><span style="color: black;">&#40;</span>hand<span style="color: black;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: #ff4500;"></span><span style="color: black;">&#93;</span>*<span style="color: #008000;">len</span><span style="color: black;">&#40;</span>hand<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>And this was the point in course were I found perhaps the most interesting thing. I found an actual use for reduce which was working. I was beginning to get into the habit of using map, filter, reduce.</p>

<p>This was the beauty:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;">my_list <span style="color: #66cc66;">=</span> <span style="color: #008000;">reduce</span><span style="color: black;">&#40;</span><span style="color: #ff7700;font-weight:bold;">lambda</span> z<span style="color: #66cc66;">,</span> x: z + <span style="color: black;">&#91;</span>y + <span style="color: black;">&#91;</span>x<span style="color: black;">&#93;</span> <span style="color: #ff7700;font-weight:bold;">for</span> y <span style="color: #ff7700;font-weight:bold;">in</span> z<span style="color: black;">&#93;</span><span style="color: #66cc66;">,</span> hand<span style="color: #66cc66;">,</span> <span style="color: black;">&#91;</span><span style="color: black;">&#91;</span><span style="color: black;">&#93;</span><span style="color: black;">&#93;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This piece of code produced all the combinations of a given hand which was a list of Tuples. It merged them into a list of lists which I created a list of Tuples out from. After this my life was never ever the same again.</p>

<p><strong>Week Four</strong></p>

<p>For me this was the most interesting part of the course. I LOVED this task. Focus was:</p>

<ul>
<li>Python Generators</li>
<li>Stacks / Queues</li>
<li>Inheritance in Python</li>
<li>Girds</li>
<li>Grid Search / <a href="http://en.wikipedia.org/wiki/Breadth-first_search" target="_blank">Breadth First Search</a></li>
</ul>

<p>And the task with which we were supposed to achieve this was&#8230;. <span style="color: #ff0000;"><strong>Zombie Apocalypse</strong></span>. It was sort of like <strong><a href="http://en.wikipedia.org/wiki/Conway's_Game_of_Life" target="_blank">Conway&#8217;s Game of Life</a></strong>. Given a grid in which there were <span style="color: #ff0000;"><strong>Zombies</strong></span><strong> </strong>and <span style="color: #000000;"><strong><span style="color: #339966;">Humans </span></strong></span> <strong><span style="color: #000000;">Obstacles.</span></strong></p>

<p>The Zombies could only move up, down, left, right. The humans could flee diagonally and none of them could penetrate an obstacle. It was very much fun to write this. The most challenge was to learn the proper implementation of the breadth first search algorithm as the Zombies had to detect the nearest Humans to move towards to and the Humans needed to see the nearest Zombies to flee from.</p>

<p><strong>Week Five</strong></p>

<p>Halfway through it was become difficult to maintain the time needed for this course. I was finding myself applying a few late days here and there. This was a two months course after all. I did not have all the time in the world at my disposal. But I managed to submit everything without penalties.</p>

<p>So this weeks task was rather mundane. It was a <strong>world wrangler</strong>. Which means given a word generate valid words from the letters in the provided word.</p>

<p>The algorithm we were supposed to use though was for me a bit of a challenge. I&#8217;ll be honest with you, for me, it was a little bit hard to wrap my head around this one. But eventually I succeeded.</p>

<p>It was Merge-Sort and Recursion. Let me tell you this now, I hate merge-sort. Recursion I do love though. What I never learned though and was very interesting for me to learn now was recurrences in mathematics. Well never learned is a bit harsh since I knew Fibonacci already and Pascal&#8217;s Triangle but the mathematical definition was a refreshing new view. I&#8217;m talking about <a href="http://en.wikipedia.org/wiki/Recurrence_relation" target="_blank"><strong>Recurrence Relations</strong></a>.</p>

<p><img class="mwe-math-fallback-png-inline tex" style="color: #252525;" src="http://upload.wikimedia.org/math/1/a/4/1a4da05124f61db47a4805b411ff8c3b.png" alt="F_n = F_{n-1}+F_{n-2}" /></p>

<p>This is the Recurrence relation of the famous Fibonacci. Easy, right? Well the hard part is when you are trying to get the <a href="http://en.wikipedia.org/wiki/Binet_formula#Closed-form_expression" target="_blank"><strong>closed-form-expression</strong></a> of a Recurrence.</p>

<p><strong>Week Six</strong></p>

<p>Finally it was coming to an end. The last week was easy so this week had to have a punch. And oh boy it did. This weeks focus:</p>

<ul>
<li>Trees</li>
<li>Lambdas</li>
<li>Illustration of Trees</li>
<li><a href="http://en.wikipedia.org/wiki/Minimax" target="_blank">Minimax</a></li>
<li><a href="http://en.wikipedia.org/wiki/Depth-first_search" target="_blank">Depth First Search</a></li>
</ul>

<p>If I hated merge-sort I hated minimax more. I don&#8217;t know why but it was again very hard for me to properly grasp this concept. I mean I understood what needed to be done of course but writing it done with code proved to be more difficult then I thought it would be.</p>

<p>After hours of research and reading finally I could come up with a solution which was working. I wouldn&#8217;t say it was good&#8230; But it was working.</p>

<p>The game with which we were supposed to demonstrate this algorithm was&#8230; Tic-Tac-Toe. Turns out that it&#8217;s rather common place to show off minimax with tic-tac-toe as it was fewer possibilities. The point of the exercise was the following&#8230;:</p>

<p><img class="alignnone" src="http://www.ocf.berkeley.edu/~yosenl/extras/alphabeta/alphabeta.jpg" alt="" width="516" height="405" /></p>

<p>&nbsp;</p>

<p>To create trees out of the possible moves given a certain game state. This time we wanted to make absolutely sure that if we can&#8217;t win the game at least we won&#8217;t loose it. And that&#8217;s the point of minimax. It will minimize your losses.</p>

<p>Now there are several things about this algorithm that are hard.</p>

<p><strong>Performance of Minimax</strong></p>

<p>It has and always will be a very interesting task for programmers to try to achieve a better performance for these calculations. Since it&#8217;s trying to build up a tree with all the possible combinations a game can have it will end up with a huge tree which will take ages to traverse.</p>

<p>A few of the solutions could be to exit the search once you have a definitive answer. If you find a winning move there is no point of looking any further. You just stop.</p>

<p>You can create the tree dynamically. You can make it somehow intelligent enough to predict a possible best first move and then use minimax on the rest. Or use <a href="http://en.wikipedia.org/wiki/Alpha-beta_pruning" target="_blank"><strong>Alpha-beta pruning</strong></a>.</p>

<p><strong>Week Seven</strong></p>

<p>And so we are coming to an end. Last weeks assignment was basically to put all the previous weeks knowledge together to create the application called 15 puzzle.</p>

<p><img class="alignleft" src="http://kociemba.org/fifteen/pics/puz.jpg" alt="" width="183" height="183" /></p>

<p>Now, there was however a little addition to the previous knowledge. It was <a href="http://en.wikipedia.org/wiki/Invariant_(computer_science)" target="_blank"><strong>invariants</strong></a>. Now, I love Logic. And I&#8217;ve been actually using invariants in computer science programming and testing for a long time so this part was not really a problem.</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>An example of an invariant in python would be something like this:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">while</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">5</span>:
  x <span style="color: #66cc66;">=</span> x + <span style="color: #ff4500;">1</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This is a loop invariant example. In you find a very useful invariant in your program you can write an assert for it which will help you debug your code and work in small chunks. Invariants will make refactoring your code a hell of a lot easier. As if your invariant is suddenly false you need to check what went wrong.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">while</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">5</span>:
  x <span style="color: #66cc66;">=</span> x + <span style="color: #ff4500;">1</span>
  <span style="color: #ff7700;font-weight:bold;">assert</span> x &lt<span style="color: #66cc66;">;=</span> <span style="color: #ff4500;">6</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>This assert will make sure that if your invariant for whatever reason isn&#8217;t true your code fails immediately.</p>

<p><strong>End Credits</strong></p>

<p>So this was the end of the course. I learned a a lot from this course and I&#8217;m very proud of myself for completing it. I took away a lot from this course. I took away confidence and logical thinking. I took away greater trust in my Python knowledge and that it&#8217;s very important to keep my skills from deteriorating.</p>

<p>And I think math is important for proper, deep understanding of programming as a science. I think refreshing my math skills gave me at least a deeper trust in my ability to write a piece of code however complicated it might appear. After writing a minimax algorithm I think some Hibernate with DIP and SRP will prove to be less of a problem. Or at least a different category of a problem&#8230;. Hehe.</p>

<p>Thanks for reading!
Gergely.</p>
                    </div>
                </section>
                
                <h1 class="content-subhead">11 Feb 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/02/11/how-to-check-content-header-on-unknown-number-of-items-python/" class="post-title">How to check content header on unknown number of items – Python</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-problem solving" href="https://skarlso.github.io//categories/problem-solving">problem solving</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello guys.</p>

<p>I&#8217;d like to share a little something with you. It&#8217;s what I cooked up in Python to check an unknown number of content items in a web application.</p>

<p>Basically the script runs from a script folder under Grails. It goes through all the configured folders where there is static content like images, javascript, css and so on and so forth.</p>

<p>And then with curl it calls these items up in using their respective paths&#8217;. This works best on localhost if you have your local environment configured to access these elements because in some places direct access is restricted.</p>

<p>This script only check static content. Dynamically generated content would have to be hard coded to check.</p>

<p>It only generated a file currently with ERROR on a not match an success on match and not found if it encounters an item which it doesn&#8217;t know about.</p>

<p>So without further ado&#8230; The Script:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/python</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> pycurl<span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">urllib</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Storage:
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">contents</span> <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">''</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> store<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> buf<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'Content-Type'</span> <span style="color: #ff7700;font-weight:bold;">in</span> buf:
            <span style="color: #008000;">self</span>.<span style="color: black;">contents</span> <span style="color: #66cc66;">=</span> buf
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">contents</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#print retrieved_headers</span>
&nbsp;
filesInDir <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
headers <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
headerRestrictions <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: #483d8b;">'.css'</span>: <span style="color: #483d8b;">'Content-Type: text/css'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.jpg'</span>: <span style="color: #483d8b;">'Content-Type: image/jpeg'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.ico'</span>: <span style="color: #483d8b;">'image/vnd.microsoft.icon'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.html'</span>: <span style="color: #483d8b;">'Content-Type: text/html'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.js'</span>: <span style="color: #483d8b;">'Content-Type: application/javascript'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.gif'</span>: <span style="color: #483d8b;">'Content-Type: image/gif'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.png'</span>: <span style="color: #483d8b;">'Content-Type: image/png'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.swf'</span>: <span style="color: #483d8b;">'Content-Type: application/x-shockwave-flash'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.json'</span>: <span style="color: #483d8b;">'Content-Type: application/json'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.htc'</span>: <span style="color: #483d8b;">'Content-Type: text/x-component'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.xml'</span>: <span style="color: #483d8b;">'Content-Type: application/xml'</span><span style="color: black;">&#125;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">for</span> dirname<span style="color: #66cc66;">,</span> dirnames<span style="color: #66cc66;">,</span> filenames <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">walk</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'../web-app'</span><span style="color: black;">&#41;</span>:
    <span style="color: #808080; font-style: italic;"># editing the 'dirnames' list will stop os.walk() from recursing into there.</span>
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'.git'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any .git directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'.git'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'WEB-INF'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any WEB-INF directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'WEB-INF'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'test'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any test directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'test'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'META-INF'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any META-INF directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'META-INF'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">for</span> filename <span style="color: #ff7700;font-weight:bold;">in</span> filenames:
    trimmedDir <span style="color: #66cc66;">=</span> dirname.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"web-app/"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">""</span><span style="color: black;">&#41;</span>
    trimmedDir <span style="color: #66cc66;">=</span> trimmedDir.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"../"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">""</span><span style="color: black;">&#41;</span>
    filesInDir.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>trimmedDir<span style="color: #66cc66;">,</span> filename<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
    <span style="color: #808080; font-style: italic;">#    print os.path.join(dirname, filename)</span>
&nbsp;
f <span style="color: #66cc66;">=</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"headersandfiles.txt"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"w"</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">for</span> fileName <span style="color: #ff7700;font-weight:bold;">in</span> filesInDir:
    retrieved_body <span style="color: #66cc66;">=</span> Storage<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    retrieved_headers <span style="color: #66cc66;">=</span> Storage<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    c <span style="color: #66cc66;">=</span> pycurl.<span style="color: black;">Curl</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    fileName <span style="color: #66cc66;">=</span> fileName.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">" "</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"%20"</span><span style="color: black;">&#41;</span>
    url <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'http://localhost:8080/%s'</span> % fileName
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">URL</span><span style="color: #66cc66;">,</span> url<span style="color: black;">&#41;</span>
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">WRITEFUNCTION</span><span style="color: #66cc66;">,</span> retrieved_body.<span style="color: black;">store</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">HEADERFUNCTION</span><span style="color: #66cc66;">,</span> retrieved_headers.<span style="color: black;">store</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">perform</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">close</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">""</span>
    fileNameBase<span style="color: #66cc66;">,</span> fileExtension <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span>fileName<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> headerRestrictions.<span style="color: black;">has_key</span><span style="color: black;">&#40;</span>fileExtension<span style="color: black;">&#41;</span>:
<span style="color: #808080; font-style: italic;"># print "Header:%s, Content:%s" % (headerRestrictions[fileExtension], retrieved_headers.__str__())</span>
        fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"CORRECT: Content: %s; Header: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> headerRestrictions<span style="color: black;">&#91;</span>fileExtension<span style="color: black;">&#93;</span> <span style="color: #66cc66;">==</span> retrieved_headers.<span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">strip</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">else</span> <span style="color: #483d8b;">"ERROR: Content: %s; Header: %s; URL: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"http://localhost:8080/%s<span style="color: #000099; font-weight: bold;">\n</span>"</span> % fileName<span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">else</span>:
    fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"NOT FOUND: Content: %s; Header: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: black;">&#41;</span>
&nbsp;
    f.<span style="color: black;">write</span><span style="color: black;">&#40;</span>fileLine<span style="color: black;">&#41;</span>
    headers.<span style="color: black;">append</span><span style="color: black;">&#40;</span>retrieved_headers.<span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
f.<span style="color: black;">close</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Hope you like it. Feel free to improve however you want.</p>

<p>Thanks for reading,</p>

<p>Gergely.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">11 Feb 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="https://skarlso.github.io/2014/02/11/how-to-check-content-header-on-unknown-number-of-items-python/" class="post-title">How to check content header on unknown number of items – Python</a>

                        <p class="post-meta">
                            
                                By <strong class="post-author">hannibal</strong>
                            
                            
                                under 
                                
                                <a class="post-category post-category-knowledge" href="https://skarlso.github.io//categories/knowledge">knowledge</a><a class="post-category post-category-problem solving" href="https://skarlso.github.io//categories/problem-solving">problem solving</a><a class="post-category post-category-programming" href="https://skarlso.github.io//categories/programming">programming</a><a class="post-category post-category-Python" href="https://skarlso.github.io//categories/python">Python</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>Hello guys.</p>

<p>I&#8217;d like to share a little something with you. It&#8217;s what I cooked up in Python to check an unknown number of content items in a web application.</p>

<p>Basically the script runs from a script folder under Grails. It goes through all the configured folders where there is static content like images, javascript, css and so on and so forth.</p>

<p>And then with curl it calls these items up in using their respective paths&#8217;. This works best on localhost if you have your local environment configured to access these elements because in some places direct access is restricted.</p>

<p>This script only check static content. Dynamically generated content would have to be hard coded to check.</p>

<p>It only generated a file currently with ERROR on a not match an success on match and not found if it encounters an item which it doesn&#8217;t know about.</p>

<p>So without further ado&#8230; The Script:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="python" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">#!/usr/bin/python</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">import</span> pycurl<span style="color: #66cc66;">,</span> <span style="color: #dc143c;">sys</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">os</span><span style="color: #66cc66;">,</span> <span style="color: #dc143c;">urllib</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">class</span> Storage:
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__init__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #008000;">self</span>.<span style="color: black;">contents</span> <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">''</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> store<span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: #66cc66;">,</span> buf<span style="color: black;">&#41;</span>:
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'Content-Type'</span> <span style="color: #ff7700;font-weight:bold;">in</span> buf:
            <span style="color: #008000;">self</span>.<span style="color: black;">contents</span> <span style="color: #66cc66;">=</span> buf
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">def</span> <span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: #008000;">self</span><span style="color: black;">&#41;</span>:
        <span style="color: #ff7700;font-weight:bold;">return</span> <span style="color: #008000;">self</span>.<span style="color: black;">contents</span>
&nbsp;
<span style="color: #808080; font-style: italic;">#print retrieved_headers</span>
&nbsp;
filesInDir <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
headers <span style="color: #66cc66;">=</span> <span style="color: black;">&#91;</span><span style="color: black;">&#93;</span>
headerRestrictions <span style="color: #66cc66;">=</span> <span style="color: black;">&#123;</span><span style="color: #483d8b;">'.css'</span>: <span style="color: #483d8b;">'Content-Type: text/css'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.jpg'</span>: <span style="color: #483d8b;">'Content-Type: image/jpeg'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.ico'</span>: <span style="color: #483d8b;">'image/vnd.microsoft.icon'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.html'</span>: <span style="color: #483d8b;">'Content-Type: text/html'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.js'</span>: <span style="color: #483d8b;">'Content-Type: application/javascript'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.gif'</span>: <span style="color: #483d8b;">'Content-Type: image/gif'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.png'</span>: <span style="color: #483d8b;">'Content-Type: image/png'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.swf'</span>: <span style="color: #483d8b;">'Content-Type: application/x-shockwave-flash'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.json'</span>: <span style="color: #483d8b;">'Content-Type: application/json'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.htc'</span>: <span style="color: #483d8b;">'Content-Type: text/x-component'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'.xml'</span>: <span style="color: #483d8b;">'Content-Type: application/xml'</span><span style="color: black;">&#125;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">for</span> dirname<span style="color: #66cc66;">,</span> dirnames<span style="color: #66cc66;">,</span> filenames <span style="color: #ff7700;font-weight:bold;">in</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">walk</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'../web-app'</span><span style="color: black;">&#41;</span>:
    <span style="color: #808080; font-style: italic;"># editing the 'dirnames' list will stop os.walk() from recursing into there.</span>
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'.git'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any .git directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'.git'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'WEB-INF'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any WEB-INF directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'WEB-INF'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'test'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any test directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'test'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> <span style="color: #483d8b;">'META-INF'</span> <span style="color: #ff7700;font-weight:bold;">in</span> dirnames:
        <span style="color: #808080; font-style: italic;"># don't go into any META-INF directories.</span>
        dirnames.<span style="color: black;">remove</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'META-INF'</span><span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">for</span> filename <span style="color: #ff7700;font-weight:bold;">in</span> filenames:
    trimmedDir <span style="color: #66cc66;">=</span> dirname.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"web-app/"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">""</span><span style="color: black;">&#41;</span>
    trimmedDir <span style="color: #66cc66;">=</span> trimmedDir.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"../"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">""</span><span style="color: black;">&#41;</span>
    filesInDir.<span style="color: black;">append</span><span style="color: black;">&#40;</span><span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>.<span style="color: black;">join</span><span style="color: black;">&#40;</span>trimmedDir<span style="color: #66cc66;">,</span> filename<span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
    <span style="color: #808080; font-style: italic;">#    print os.path.join(dirname, filename)</span>
&nbsp;
f <span style="color: #66cc66;">=</span> <span style="color: #008000;">open</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">"headersandfiles.txt"</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"w"</span><span style="color: black;">&#41;</span>
&nbsp;
<span style="color: #ff7700;font-weight:bold;">for</span> fileName <span style="color: #ff7700;font-weight:bold;">in</span> filesInDir:
    retrieved_body <span style="color: #66cc66;">=</span> Storage<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    retrieved_headers <span style="color: #66cc66;">=</span> Storage<span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    c <span style="color: #66cc66;">=</span> pycurl.<span style="color: black;">Curl</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    fileName <span style="color: #66cc66;">=</span> fileName.<span style="color: black;">replace</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">" "</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"%20"</span><span style="color: black;">&#41;</span>
    url <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">'http://localhost:8080/%s'</span> % fileName
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">URL</span><span style="color: #66cc66;">,</span> url<span style="color: black;">&#41;</span>
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">WRITEFUNCTION</span><span style="color: #66cc66;">,</span> retrieved_body.<span style="color: black;">store</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">setopt</span><span style="color: black;">&#40;</span>c.<span style="color: black;">HEADERFUNCTION</span><span style="color: #66cc66;">,</span> retrieved_headers.<span style="color: black;">store</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">perform</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    c.<span style="color: black;">close</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>
    fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">""</span>
    fileNameBase<span style="color: #66cc66;">,</span> fileExtension <span style="color: #66cc66;">=</span> <span style="color: #dc143c;">os</span>.<span style="color: black;">path</span>.<span style="color: black;">splitext</span><span style="color: black;">&#40;</span>fileName<span style="color: black;">&#41;</span>
&nbsp;
    <span style="color: #ff7700;font-weight:bold;">if</span> headerRestrictions.<span style="color: black;">has_key</span><span style="color: black;">&#40;</span>fileExtension<span style="color: black;">&#41;</span>:
<span style="color: #808080; font-style: italic;"># print "Header:%s, Content:%s" % (headerRestrictions[fileExtension], retrieved_headers.__str__())</span>
        fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"CORRECT: Content: %s; Header: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">if</span> headerRestrictions<span style="color: black;">&#91;</span>fileExtension<span style="color: black;">&#93;</span> <span style="color: #66cc66;">==</span> retrieved_headers.<span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span>.<span style="color: black;">strip</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span> <span style="color: #ff7700;font-weight:bold;">else</span> <span style="color: #483d8b;">"ERROR: Content: %s; Header: %s; URL: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: #66cc66;">,</span> <span style="color: #483d8b;">"http://localhost:8080/%s<span style="color: #000099; font-weight: bold;">\n</span>"</span> % fileName<span style="color: black;">&#41;</span>
    <span style="color: #ff7700;font-weight:bold;">else</span>:
    fileLine <span style="color: #66cc66;">=</span> <span style="color: #483d8b;">"NOT FOUND: Content: %s; Header: %s"</span> % <span style="color: black;">&#40;</span>fileName<span style="color: #66cc66;">,</span> retrieved_headers<span style="color: black;">&#41;</span>
&nbsp;
    f.<span style="color: black;">write</span><span style="color: black;">&#40;</span>fileLine<span style="color: black;">&#41;</span>
    headers.<span style="color: black;">append</span><span style="color: black;">&#40;</span>retrieved_headers.<span style="color: #0000cd;">__str__</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span><span style="color: black;">&#41;</span>
&nbsp;
f.<span style="color: black;">close</span><span style="color: black;">&#40;</span><span style="color: black;">&#41;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Hope you like it. Feel free to improve however you want.</p>

<p>Thanks for reading,</p>

<p>Gergely.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
      <a href="https://skarlso.github.io/categories/python/" class="post-list-pagination-item pure-button post-list-pagination-item-prev">
        <i class="fa fa-angle-double-left"></i>&nbsp;Newer
      </a>
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 2 of 2</span>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="https://skarlso.github.io//js/all.min.js"></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
